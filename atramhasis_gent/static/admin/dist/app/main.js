//>>built
require({cache:{"app/App":function(){define("dojo/_base/declare dojo/_base/lang dojo/promise/all dijit/_WidgetBase ./ui/AppUi ./controllers/ConceptSchemeController ./controllers/ConceptController ./controllers/LanguageController ./controllers/ListController dGrowl".split(" "),function(g,l,m,p,d,c,k,f,b,a){return g([p],{appConfig:null,_controllers:null,languageManager:null,postCreate:function(){this.inherited(arguments);this._controllers={};this._controllers.conceptSchemeController=new c({});this._controllers.conceptController=
new k({});this._controllers.languageController=new f({});this._controllers.listController=new b({});new a({channels:[{name:"info",pos:3},{name:"error",pos:1},{name:"warn",pos:2}]})},startup:function(){this.inherited(arguments);var a=this._controllers.conceptSchemeController.loadConceptSchemeStores();m({conceptScheme:a}).then(l.hitch(this,function(a){(new d({loadingContainer:this.appConfig.loadingContainer,appContainer:this.appConfig.appContainer,staticAppPath:this.appConfig.staticAppPath,conceptSchemeController:this._controllers.conceptSchemeController,
conceptController:this._controllers.conceptController,languageController:this._controllers.languageController,listController:this._controllers.listController},this.appConfig.appContainer)).startup()}),l.hitch(this,function(a){window.alert("Startup error: \n\nThere was a problem connecting to the backend services, the application cannot be started.")}))}})})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(g,l,m){function p(a,e){throw Error("declare"+(e?" "+e:"")+": "+
a);}function d(a,e,b){var h,n,r,q,c,f,s,d=this._inherited=this._inherited||{};"string"==typeof a&&(h=a,a=e,e=b);b=0;q=a.callee;(h=h||q.nom)||p("can't deduce a name to call inherited()",this.declaredClass);c=this.constructor._meta;r=c.bases;s=d.p;if(h!=A){if(d.c!==q&&(s=0,f=r[0],c=f._meta,c.hidden[h]!==q)){(n=c.chains)&&"string"==typeof n[h]&&p("calling chained method with inherited: "+h,this.declaredClass);do if(c=f._meta,n=f.prototype,c&&(n[h]===q&&n.hasOwnProperty(h)||c.hidden[h]===q))break;while(f=
r[++s]);s=f?s:-1}if(f=r[++s])if(n=f.prototype,f._meta&&n.hasOwnProperty(h))b=n[h];else{q=u[h];do if(n=f.prototype,(b=n[h])&&(f._meta?n.hasOwnProperty(h):b!==q))break;while(f=r[++s])}b=f&&b||u[h]}else{if(d.c!==q&&(s=0,(c=r[0]._meta)&&c.ctor!==q)){n=c.chains;for((!n||"manual"!==n.constructor)&&p("calling chained constructor with inherited",this.declaredClass);(f=r[++s])&&!((c=f._meta)&&c.ctor===q););s=f?s:-1}for(;(f=r[++s])&&!(b=(c=f._meta)?c.ctor:f););b=f&&b}d.c=b;d.p=s;if(b)return!0===e?b:b.apply(this,
e||a)}function c(a,e){return"string"==typeof a?this.__inherited(a,e,!0):this.__inherited(a,!0)}function k(a,e,b){var h=this.getInherited(a,e);if(h)return h.apply(this,b||e||a)}function f(a){for(var e=this.constructor._meta.bases,b=0,h=e.length;b<h;++b)if(e[b]===a)return!0;return this instanceof a}function b(a,e){for(var b in e)b!=A&&e.hasOwnProperty(b)&&(a[b]=e[b]);if(l("bug-for-in-skips-shadowed"))for(var h=m._extraNames,n=h.length;n;)b=h[--n],b!=A&&e.hasOwnProperty(b)&&(a[b]=e[b])}function a(a){v.safeMixin(this.prototype,
a);return this}function e(a,e){a instanceof Array||"function"==typeof a||(e=a,a=void 0);e=e||{};a=a||[];return v([this].concat(a),e)}function r(a,e){return function(){var b=arguments,h=b,n=b[0],r,q;q=a.length;var c;if(!(this instanceof b.callee))return s(b);if(e&&(n&&n.preamble||this.preamble)){c=Array(a.length);c[0]=b;for(r=0;;){if(n=b[0])(n=n.preamble)&&(b=n.apply(this,b)||b);n=a[r].prototype;(n=n.hasOwnProperty("preamble")&&n.preamble)&&(b=n.apply(this,b)||b);if(++r==q)break;c[r]=b}}for(r=q-1;0<=
r;--r)n=a[r],(n=(q=n._meta)?q.ctor:n)&&n.apply(this,c?c[r]:b);(n=this.postscript)&&n.apply(this,h)}}function n(a,e){return function(){var b=arguments,n=b,h=b[0];if(!(this instanceof b.callee))return s(b);e&&(h&&(h=h.preamble)&&(n=h.apply(this,n)||n),(h=this.preamble)&&h.apply(this,n));a&&a.apply(this,b);(h=this.postscript)&&h.apply(this,b)}}function t(a){return function(){var e=arguments,b=0,h,n;if(!(this instanceof e.callee))return s(e);for(;h=a[b];++b)if(h=(n=h._meta)?n.ctor:h){h.apply(this,e);
break}(h=this.postscript)&&h.apply(this,e)}}function q(a,e,b){return function(){var h,n,r=0,q=1;b&&(r=e.length-1,q=-1);for(;h=e[r];r+=q)n=h._meta,(h=(n?n.hidden:h.prototype)[a])&&h.apply(this,arguments)}}function h(a){z.prototype=a.prototype;a=new z;z.prototype=null;return a}function s(a){var e=a.callee,b=h(e);e.apply(b,a);return b}function v(s,k,l){"string"!=typeof s&&(l=k,k=s,s="");l=l||{};var g,z,H,L,M,C,B,D=1,U=k;if("[object Array]"==y.call(k)){D=s;H=[];L=[{cls:0,refs:[]}];C={};for(var J=1,K=
k.length,O=0,R,T,P,S;O<K;++O){(R=k[O])?"[object Function]"!=y.call(R)&&p("mixin #"+O+" is not a callable constructor.",D):p("mixin #"+O+" is unknown. Did you use dojo.require to pull it in?",D);T=R._meta?R._meta.bases:[R];P=0;for(R=T.length-1;0<=R;--R)S=T[R].prototype,S.hasOwnProperty("declaredClass")||(S.declaredClass="uniqName_"+w++),S=S.declaredClass,C.hasOwnProperty(S)||(C[S]={count:0,refs:[],cls:T[R]},++J),S=C[S],P&&P!==S&&(S.refs.push(P),++P.count),P=S;++P.count;L[0].refs.push(P)}for(;L.length;){P=
L.pop();H.push(P.cls);for(--J;z=P.refs,1==z.length;){P=z[0];if(!P||--P.count){P=0;break}H.push(P.cls);--J}if(P){O=0;for(K=z.length;O<K;++O)P=z[O],--P.count||L.push(P)}}J&&p("can't build consistent linearization",D);R=k[0];H[0]=R?R._meta&&R===H[H.length-R._meta.bases.length]?R._meta.bases.length:1:0;C=H;H=C[0];D=C.length-H;k=C[D]}else C=[0],k?"[object Function]"==y.call(k)?(H=k._meta,C=C.concat(H?H.bases:k)):p("base class is not a callable constructor.",s):null!==k&&p("unknown base class. Did you use dojo.require to pull it in?",
s);if(k)for(z=D-1;;--z){g=h(k);if(!z)break;H=C[z];(H._meta?b:x)(g,H.prototype);L=new Function;L.superclass=k;L.prototype=g;k=g.constructor=L}else g={};v.safeMixin(g,l);H=l.constructor;H!==u.constructor&&(H.nom=A,g.constructor=H);for(z=D-1;z;--z)(H=C[z]._meta)&&H.chains&&(B=x(B||{},H.chains));g["-chains-"]&&(B=x(B||{},g["-chains-"]));k&&(k.prototype&&k.prototype["-chains-"])&&(B=x(B||{},k.prototype["-chains-"]));H=!B||!B.hasOwnProperty(A);C[0]=L=B&&"manual"===B.constructor?t(C):1==C.length?n(l.constructor,
H):r(C,H);L._meta={bases:C,hidden:l,chains:B,parents:U,ctor:l.constructor};L.superclass=k&&k.prototype;L.extend=a;L.createSubclass=e;L.prototype=g;g.constructor=L;g.getInherited=c;g.isInstanceOf=f;g.inherited=E;g.__inherited=d;s&&(g.declaredClass=s,m.setObject(s,L));if(B)for(M in B)g[M]&&("string"==typeof B[M]&&M!=A)&&(H=g[M]=q(M,C,"after"===B[M]),H.nom=M);return L}var x=m.mixin,u=Object.prototype,y=u.toString,z=new Function,w=0,A="constructor",E=g.config.isDebug?k:d;g.safeMixin=v.safeMixin=function(a,
e){var b,h;for(b in e)if(h=e[b],(h!==u[b]||!(b in u))&&b!=A)"[object Function]"==y.call(h)&&(h.nom=b),a[b]=h;if(l("bug-for-in-skips-shadowed"))for(var n=m._extraNames,r=n.length;r;)if(b=n[--r],h=e[b],(h!==u[b]||!(b in u))&&b!=A)"[object Function]"==y.call(h)&&(h.nom=b),a[b]=h;return a};return g.declare=v})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(g,l,m,p){var d=g.some;return function(c){var k,f;l.isArray(c)?f=c:c&&"object"===typeof c&&
(k=c);var b,a=[];if(k){f=[];for(var e in k)Object.hasOwnProperty.call(k,e)&&(a.push(e),f.push(k[e]));b={}}else f&&(b=[]);if(!f||!f.length)return(new m).resolve(b);var r=new m;r.promise.always(function(){b=a=null});var n=f.length;d(f,function(e,q){k||a.push(q);p(e,function(e){r.isFulfilled()||(b[a[q]]=e,0===--n&&r.resolve(b))},r.reject);return r.isFulfilled()});return r.promise}})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s,v,x,u,y,z,w){function A(a){return function(e){f[e?"set":"remove"](this.domNode,a,e);this._set(a,e)}}n.add("dijit-legacy-requires",!t.isAsync);n.add("dojo-bidi",!1);n("dijit-legacy-requires")&&s(0,function(){g(["dijit/_base/manager"])});var E={};p=c("dijit._WidgetBase",[v,y],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:A("lang"),dir:"",_setDirAttr:A("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",
baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:p.blankGif||g.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var e=a.prototype,b=a._setterAttrs=[],a=a._onMap={},h;for(h in e.attributeMap)b.push(h);for(h in e)/^on/.test(h)&&(a[h.substring(2).toLowerCase()]=h),/^_set[A-Z](.*)Attr$/.test(h)&&(h=h.charAt(4).toLowerCase()+h.substr(5,
h.length-9),(!e.attributeMap||!(h in e.attributeMap))&&b.push(h))}},postscript:function(a,e){this.create(a,e)},create:function(a,e){this._introspect();this.srcNodeRef=k.byId(e);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,q.mixin(this,a));this.postMixInProperties();this.id||(this.id=w.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=u.body(this.ownerDocument);w.add(this);this.buildRendering();var b;if(this.domNode){this._applyAttributes();var h=this.srcNodeRef;h&&(h.parentNode&&this.domNode!==h)&&(h.parentNode.replaceChild(this.domNode,h),b=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();b&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},e;for(e in this.params||{})a[e]=this._get(e);l.forEach(this.constructor._setterAttrs,
function(e){if(!(e in a)){var b=this._get(e);b&&this.set(e,b)}},this);for(e in a)this.set(e,a[e])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(l.map(a,function(a){return a+"Rtl"})));b.add(this.domNode,a)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,l.forEach(this.getChildren(),function(a){!a._started&&
(!a._destroyed&&q.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function e(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a)}this._beingDestroyed=!0;this.uninitialize();l.forEach(this._connects,q.hitch(this,"disconnect"));l.forEach(this._supportingWidgets,e);this.domNode&&l.forEach(w.findWidgets(this.domNode,this.containerNode),e);this.destroyRendering(a);
w.remove(this.id);this._destroyed=!0},destroyRendering:function(e){this.bgIframe&&(this.bgIframe.destroy(e),delete this.bgIframe);this.domNode&&(e?f.remove(this.domNode,"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(e||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){l.forEach(this.getChildren(),function(e){e.destroyRecursive&&e.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var e=this.domNode;q.isObject(a)?
r.set(e,a):e.style.cssText=e.style.cssText?e.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,e,h){h=3<=arguments.length?h:this.attributeMap[a];l.forEach(q.isArray(h)?h:[h],function(h){var n=this[h.node||h||"domNode"];switch(h.type||"attribute"){case "attribute":q.isFunction(e)&&(e=q.hitch(this,e));h=h.attribute?h.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;n.tagName?f.set(n,h,e):n.set(h,e);break;case "innerText":n.innerHTML="";n.appendChild(this.ownerDocument.createTextNode(e));
break;case "innerHTML":n.innerHTML=e;break;case "class":b.replace(n,e,this[a])}},this)},get:function(a){var e=this._getAttrNames(a);return this[e.g]?this[e.g]():this._get(a)},set:function(a,e){if("object"===typeof a){for(var b in a)this.set(b,a[b]);return this}b=this._getAttrNames(a);var h=this[b.s];if(q.isFunction(h))var n=h.apply(this,Array.prototype.slice.call(arguments,1));else{var h=this.focusNode&&!q.isFunction(this.focusNode)?"focusNode":"domNode",r=this[h]&&this[h].tagName,c;if(c=r)if(!(c=
E[r])){c=this[h];var f={},s;for(s in c)f[s.toLowerCase()]=!0;c=E[r]=f}s=c;b=a in this.attributeMap?this.attributeMap[a]:b.s in this?this[b.s]:s&&b.l in s&&"function"!=typeof e||/^aria-|^data-|^role$/.test(a)?h:null;null!=b&&this._attrToDom(a,e,b);this._set(a,e)}return n||this},_attrPairNames:{},_getAttrNames:function(a){var e=this._attrPairNames;if(e[a])return e[a];var b=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return e[a]={n:a+"Node",s:"_set"+b+"Attr",
g:"_get"+b+"Attr",l:b.toLowerCase()}},_set:function(a,e){var b=this[a];this[a]=e;if(this._created&&!(b===e||b!==b&&e!==e))this._watchCallbacks&&this._watchCallbacks(a,b,e),this.emit("attrmodified-"+a,{detail:{prevValue:b,newValue:e}})},_get:function(a){return this[a]},emit:function(a,e,b){e=e||{};void 0===e.bubbles&&(e.bubbles=!0);void 0===e.cancelable&&(e.cancelable=!0);e.detail||(e.detail={});e.detail.widget=this;var n,r=this["on"+a];r&&(n=r.apply(this,b?b:[e]));this._started&&!this._beingDestroyed&&
h.emit(this.domNode,a.toLowerCase(),e);return n},on:function(a,e){var b=this._onMap(a);return b?m.after(this,b,e,!0):this.own(h(this.domNode,a,e))[0]},_onMap:function(a){var e=this.constructor,b=e._onMap;if(!b){var b=e._onMap={},h;for(h in e.prototype)/^on/.test(h)&&(b[h.replace(/^on/,"").toLowerCase()]=h)}return b["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?w.findWidgets(this.containerNode):
[]},getParent:function(){return w.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,e,b){return this.own(d.connect(a,e,this,b))[0]},disconnect:function(a){a.remove()},subscribe:function(a,e){return this.own(x.subscribe(a,q.hitch(this,e)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():e.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=r.get(this.domNode,"display")},placeAt:function(e,b){var h=
!e.tagName&&w.byId(e);h&&h.addChild&&(!b||"number"===typeof b)?h.addChild(this,b):(h=h&&"domNode"in h?h.containerNode&&!/after|before|replace/.test(b||"")?h.containerNode:h.domNode:k.byId(e,this.ownerDocument),a.place(this.domNode,h,b),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,e){var b=setTimeout(q.hitch(this,function(){b&&(b=null,this._destroyed||q.hitch(this,a)())}),e||0);return{remove:function(){b&&(clearTimeout(b),b=null);return null}}}});n("dojo-bidi")&&
p.extend(z);return p})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(g,l,m,p,d,c,k,f){function b(a,e,b,n,r){n=f.hitch(b,n);if(!a||!a.addEventListener&&!a.attachEvent)return p.after(a||g.global,e,n,!0);"string"==typeof e&&"on"==e.substring(0,2)&&(e=e.substring(2));a||(a=g.global);if(!r)switch(e){case "keypress":e=t;break;case "mouseenter":e=c.enter;break;case "mouseleave":e=c.leave}return l(a,e,n,r)}function a(a){a.keyChar=
a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}k.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(e){}return 0==a.charCode&&!k("opera")});var e={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},r=k("mac")?"metaKey":"ctrlKey",n=function(e,b){var n=f.mixin({},e,b);a(n);n.preventDefault=
function(){e.preventDefault()};n.stopPropagation=function(){e.stopPropagation()};return n},t;t=k("events-keypress-typed")?function(a,b){var r=l(a,"keydown",function(a){var h=a.keyCode,r=13!=h&&32!=h&&(27!=h||!k("ie"))&&(48>h||90<h)&&(96>h||111<h)&&(186>h||192<h)&&(219>h||222<h)&&229!=h;if(r||a.ctrlKey){r=r?0:h;if(a.ctrlKey){if(3==h||13==h)return b.call(a.currentTarget,a);r=95<r&&106>r?r-48:!a.shiftKey&&65<=r&&90>=r?r+32:e[r]||r}h=n(a,{type:"keypress",faux:!0,charCode:r});b.call(a.currentTarget,h);
if(k("ie"))try{a.keyCode=h.keyCode}catch(q){}}}),q=l(a,"keypress",function(a){var e=a.charCode;a=n(a,{charCode:32<=e?e:0,faux:!0});return b.call(this,a)});return{remove:function(){r.remove();q.remove()}}}:k("opera")?function(a,e){return l(a,"keypress",function(a){var b=a.which;3==b&&(b=99);b=32>b&&!a.shiftKey?0:b;a.ctrlKey&&(!a.shiftKey&&65<=b&&90>=b)&&(b+=32);return e.call(this,n(a,{charCode:b}))})}:function(e,b){return l(e,"keypress",function(e){a(e);return b.call(this,e)})};var q={_keypress:t,
connect:function(a,e,n,r,q){var c=arguments,f=[],d=0;f.push("string"==typeof c[0]?null:c[d++],c[d++]);var k=c[d+1];f.push("string"==typeof k||"function"==typeof k?c[d++]:null,c[d++]);for(k=c.length;d<k;d++)f.push(c[d]);return b.apply(this,f)},disconnect:function(a){a&&a.remove()},subscribe:function(a,e,b){return m.subscribe(a,f.hitch(e,b))},publish:function(a,e){return m.publish.apply(m,[a].concat(e))},connectPublisher:function(a,e,b){var n=function(){q.publish(a,arguments)};return b?q.connect(e,
b,n):q.connect(e,n)},isCopyKey:function(a){return a[r]}};q.unsubscribe=q.disconnect;f.mixin(g,q);return q})},"dojo/topic":function(){define(["./Evented"],function(g){var l=new g;return{publish:function(g,p){return l.emit.apply(l,arguments)},subscribe:function(g,p){return l.on.apply(l,arguments)}}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(g,l,m,p){if(l._fixEvent){var d=l._fixEvent;l._fixEvent=function(c,f){(c=d(c,f))&&p.normalizeEvent(c);return c}}var c=
{fix:function(c,f){return l._fixEvent?l._fixEvent(c,f):c},stop:function(c){m("dom-addeventlistener")||c&&c.preventDefault?(c.preventDefault(),c.stopPropagation()):(c=c||window.event,c.cancelBubble=!0,l._preventDefault.call(c))}};g.fixEvent=c.fix;g.stopEvent=c.stop;return c})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(g,l,m,p){function d(a,e,b,n,c,q){q=q||"px";a=a.style;isNaN(e)||(a.left=e+q);isNaN(b)||(a.top=b+q);0<=n&&(a.width=n+q);0<=c&&(a.height=
c+q)}function c(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function k(a){return"border-box"==f.boxModel||"table"==a.tagName.toLowerCase()||c(a)}var f={boxModel:"content-box"};g("ie")&&(f.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");f.getPadExtents=function(a,e){a=m.byId(a);var b=e||p.getComputedStyle(a),n=p.toPixelValue,c=n(a,b.paddingLeft),q=n(a,b.paddingTop),h=n(a,b.paddingRight),b=
n(a,b.paddingBottom);return{l:c,t:q,r:h,b:b,w:c+h,h:q+b}};f.getBorderExtents=function(a,e){a=m.byId(a);var b=p.toPixelValue,n=e||p.getComputedStyle(a),c="none"!=n.borderLeftStyle?b(a,n.borderLeftWidth):0,q="none"!=n.borderTopStyle?b(a,n.borderTopWidth):0,h="none"!=n.borderRightStyle?b(a,n.borderRightWidth):0,b="none"!=n.borderBottomStyle?b(a,n.borderBottomWidth):0;return{l:c,t:q,r:h,b:b,w:c+h,h:q+b}};f.getPadBorderExtents=function(a,e){a=m.byId(a);var b=e||p.getComputedStyle(a),n=f.getPadExtents(a,
b),b=f.getBorderExtents(a,b);return{l:n.l+b.l,t:n.t+b.t,r:n.r+b.r,b:n.b+b.b,w:n.w+b.w,h:n.h+b.h}};f.getMarginExtents=function(a,e){a=m.byId(a);var b=e||p.getComputedStyle(a),n=p.toPixelValue,c=n(a,b.marginLeft),q=n(a,b.marginTop),h=n(a,b.marginRight),b=n(a,b.marginBottom);return{l:c,t:q,r:h,b:b,w:c+h,h:q+b}};f.getMarginBox=function(a,e){a=m.byId(a);var b=e||p.getComputedStyle(a),n=f.getMarginExtents(a,b),c=a.offsetLeft-n.l,q=a.offsetTop-n.t,h=a.parentNode,s=p.toPixelValue;if(g("mozilla")){var d=parseFloat(b.left),
b=parseFloat(b.top);!isNaN(d)&&!isNaN(b)?(c=d,q=b):h&&h.style&&(h=p.getComputedStyle(h),"visible"!=h.overflow&&(c+="none"!=h.borderLeftStyle?s(a,h.borderLeftWidth):0,q+="none"!=h.borderTopStyle?s(a,h.borderTopWidth):0))}else if((g("opera")||8==g("ie")&&!g("quirks"))&&h)h=p.getComputedStyle(h),c-="none"!=h.borderLeftStyle?s(a,h.borderLeftWidth):0,q-="none"!=h.borderTopStyle?s(a,h.borderTopWidth):0;return{l:c,t:q,w:a.offsetWidth+n.w,h:a.offsetHeight+n.h}};f.getContentBox=function(a,e){a=m.byId(a);var b=
e||p.getComputedStyle(a),n=a.clientWidth,c=f.getPadExtents(a,b),q=f.getBorderExtents(a,b);n?(b=a.clientHeight,q.w=q.h=0):(n=a.offsetWidth,b=a.offsetHeight);g("opera")&&(c.l+=q.l,c.t+=q.t);return{l:c.l,t:c.t,w:n-c.w-q.w,h:b-c.h-q.h}};f.setContentSize=function(a,e,b){a=m.byId(a);var n=e.w;e=e.h;k(a)&&(b=f.getPadBorderExtents(a,b),0<=n&&(n+=b.w),0<=e&&(e+=b.h));d(a,NaN,NaN,n,e)};var b={l:0,t:0,w:0,h:0};f.setMarginBox=function(a,e,r){a=m.byId(a);var n=r||p.getComputedStyle(a);r=e.w;var t=e.h,q=k(a)?b:
f.getPadBorderExtents(a,n),n=f.getMarginExtents(a,n);if(g("webkit")&&c(a)){var h=a.style;0<=r&&!h.width&&(h.width="4px");0<=t&&!h.height&&(h.height="4px")}0<=r&&(r=Math.max(r-q.w-n.w,0));0<=t&&(t=Math.max(t-q.h-n.h,0));d(a,e.l,e.t,r,t)};f.isBodyLtr=function(a){a=a||l.doc;return"ltr"==(l.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};f.docScroll=function(a){a=a||l.doc;var e=l.doc.parentWindow||l.doc.defaultView;return"pageXOffset"in e?{x:e.pageXOffset,y:e.pageYOffset}:(e=g("quirks")?l.body(a):
a.documentElement)&&{x:f.fixIeBiDiScrollLeft(e.scrollLeft||0,a),y:e.scrollTop||0}};f.getIeDocumentElementOffset=function(a){a=a||l.doc;a=a.documentElement;if(8>g("ie")){var e=a.getBoundingClientRect(),b=e.left,e=e.top;7>g("ie")&&(b+=a.clientLeft,e+=a.clientTop);return{x:0>b?0:b,y:0>e?0:e}}return{x:0,y:0}};f.fixIeBiDiScrollLeft=function(a,e){e=e||l.doc;var b=g("ie");if(b&&!f.isBodyLtr(e)){var n=g("quirks"),c=n?l.body(e):e.documentElement,q=l.global;6==b&&(!n&&q.frameElement&&c.scrollHeight>c.clientHeight)&&
(a+=c.clientLeft);return 8>b||n?a+c.clientWidth-c.scrollWidth:-a}return a};f.position=function(a,e){a=m.byId(a);var b=l.body(a.ownerDocument),n=a.getBoundingClientRect(),n={x:n.left,y:n.top,w:n.right-n.left,h:n.bottom-n.top};if(9>g("ie")){var c=f.getIeDocumentElementOffset(a.ownerDocument);n.x-=c.x+(g("quirks")?b.clientLeft+b.offsetLeft:0);n.y-=c.y+(g("quirks")?b.clientTop+b.offsetTop:0)}e&&(b=f.docScroll(a.ownerDocument),n.x+=b.x,n.y+=b.y);return n};f.getMarginSize=function(a,e){a=m.byId(a);var b=
f.getMarginExtents(a,e||p.getComputedStyle(a)),n=a.getBoundingClientRect();return{w:n.right-n.left+b.w,h:n.bottom-n.top+b.h}};f.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!g("dom-addeventlistener")){var b=a.target,b=b&&b.ownerDocument||document,c=g("quirks")?b.body:b.documentElement,n=f.getIeDocumentElementOffset(b);a.pageX=a.clientX+f.fixIeBiDiScrollLeft(c.scrollLeft||0,b)-n.x;a.pageY=a.clientY+(c.scrollTop||0)-n.y}};return f})},"dojo/dom-style":function(){define(["./sniff",
"./dom"],function(g,l){function m(b,f,q){f=f.toLowerCase();if("auto"==q){if("height"==f)return b.offsetHeight;if("width"==f)return b.offsetWidth}if("fontweight"==f)switch(q){case 700:return"bold";default:return"normal"}f in a||(a[f]=e.test(f));return a[f]?c(b,q):q}var p,d={};p=g("webkit")?function(a){var b;if(1==a.nodeType){var e=a.ownerDocument.defaultView;b=e.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=e.getComputedStyle(a,null))}return b||{}}:g("ie")&&(9>g("ie")||g("quirks"))?function(a){return 1==
a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};d.getComputedStyle=p;var c;c=g("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var e=a.style,h=a.runtimeStyle,c=e.left,f=h.left;h.left=a.currentStyle.left;try{e.left=b,b=e.pixelLeft}catch(r){b=0}e.left=c;h.left=f;return b}:function(a,b){return parseFloat(b)||0};d.toPixelValue=c;var k=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(e){return b?
{}:null}},f=9>g("ie")||10>g("ie")&&g("quirks")?function(a){try{return k(a).Opacity/100}catch(b){return 1}}:function(a){return p(a).opacity},b=9>g("ie")||10>g("ie")&&g("quirks")?function(a,e){""===e&&(e=1);var c=100*e;1===e?(a.style.zoom="",k(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,k(a)?k(a,1).Opacity=c:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+c+")",k(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(c=
a.firstChild;c;c=c.nextSibling)"td"==c.tagName.toLowerCase()&&b(c,e);return e}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},e=/margin|padding|width|height|max|min|offset/,r={cssFloat:1,styleFloat:1,"float":1};d.get=function(a,b){var e=l.byId(a),h=arguments.length;if(2==h&&"opacity"==b)return f(e);b=r[b]?"cssFloat"in e.style?"cssFloat":"styleFloat":b;var c=d.getComputedStyle(e);return 1==h?c:m(e,b,c[b]||e.style[b])};d.set=function(a,e,c){var h=l.byId(a),f=arguments.length,k="opacity"==
e;e=r[e]?"cssFloat"in h.style?"cssFloat":"styleFloat":e;if(3==f)return k?b(h,c):h.style[e]=c;for(var x in e)d.set(a,x,e[x]);return d.getComputedStyle(h)};return d})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(g,l,m,p,d){function c(d,f){var b=function(a,b){return l(a,d,function(c){if(f)return f(c,b);if(!p.isDescendant(c.relatedTarget,a))return b.call(this,c)})};b.bubble=function(a){return c(d,function(b,c){var n=a(b.target),f=b.relatedTarget;
if(n&&n!=(f&&1==f.nodeType&&a(f)))return c.call(n,b)})};return b}m.add("dom-quirks",d.doc&&"BackCompat"==d.doc.compatMode);m.add("events-mouseenter",d.doc&&"onmouseenter"in d.doc.createElement("div"));m.add("events-mousewheel",d.doc&&"onmousewheel"in d.doc);d=m("dom-quirks")&&m("ie")||!m("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(c,f){return c.button&f},isLeft:function(c){return c.button&1},isMiddle:function(c){return c.button&4},isRight:function(c){return c.button&2}}:{LEFT:0,
MIDDLE:1,RIGHT:2,isButton:function(c,f){return c.button==f},isLeft:function(c){return 0==c.button},isMiddle:function(c){return 1==c.button},isRight:function(c){return 2==c.button}};g.mouseButtons=d;g=m("events-mousewheel")?"mousewheel":function(c,f){return l(c,"DOMMouseScroll",function(b){b.wheelDelta=-b.detail;f.call(this,b)})};return{_eventHandler:c,enter:c("mouseover"),leave:c("mouseout"),wheel:g,isLeft:d.isLeft,isMiddle:d.isMiddle,isRight:d.isRight}})},"dojo/keys":function(){define(["./_base/kernel",
"./sniff"],function(g,l){return g.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:l("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,
NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:l("mac")&&!l("air")?l("safari")?91:224:17}})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(g,l,m,p,d,c){function k(a,b){var c=a.getAttributeNode&&a.getAttributeNode(b);return!!c&&
c.specified}var f={innerHTML:1,textContent:1,className:1,htmlFor:l("ie"),value:1},b={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};g.has=function(a,e){var r=e.toLowerCase();return f[c.names[r]||e]||k(p.byId(a),b[r]||e)};g.get=function(a,e){a=p.byId(a);var r=e.toLowerCase(),n=c.names[r]||e,d=a[n];if(f[n]&&"undefined"!=typeof d)return d;if("textContent"==n)return c.get(a,n);if("href"!=n&&("boolean"==typeof d||m.isFunction(d)))return d;r=b[r]||e;return k(a,r)?a.getAttribute(r):
null};g.set=function(a,e,r){a=p.byId(a);if(2==arguments.length){for(var n in e)g.set(a,n,e[n]);return a}n=e.toLowerCase();var k=c.names[n]||e,q=f[k];if("style"==k&&"string"!=typeof r)return d.set(a,r),a;if(q||"boolean"==typeof r||m.isFunction(r))return c.set(a,e,r);a.setAttribute(b[n]||e,r);return a};g.remove=function(a,e){p.byId(a).removeAttribute(b[e.toLowerCase()]||e)};g.getNodeProp=function(a,e){a=p.byId(a);var f=e.toLowerCase(),n=c.names[f]||e;if(n in a&&"href"!=n)return a[n];f=b[f]||e;return k(a,
f)?a.getAttribute(f):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(g,l,m,p,d,c,k,f){function b(a){var e="";a=a.childNodes;for(var c=0,h;h=a[c];c++)8!=h.nodeType&&(e=1==h.nodeType?e+b(h):e+h.nodeValue);return e}var a={},e=0,r=l._scopeName+"attrid";m.add("dom-textContent",function(a,b,e){return"textContent"in e});g.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",
colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};g.get=function(a,e){a=d.byId(a);var c=e.toLowerCase(),c=g.names[c]||e;return"textContent"==c&&!m("dom-textContent")?b(a):a[c]};g.set=function(b,t,q){b=d.byId(b);if(2==arguments.length&&"string"!=typeof t){for(var h in t)g.set(b,h,t[h]);return b}h=t.toLowerCase();h=g.names[h]||t;if("style"==h&&"string"!=typeof q)return c.set(b,q),b;if("innerHTML"==h)return m("ie")&&b.tagName.toLowerCase()in
{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(k.empty(b),b.appendChild(k.toDom(q,b.ownerDocument))):b[h]=q,b;if("textContent"==h&&!m("dom-textContent"))return k.empty(b),b.appendChild(b.ownerDocument.createTextNode(q)),b;if(p.isFunction(q)){var s=b[r];s||(s=e++,b[r]=s);a[s]||(a[s]={});var v=a[s][h];if(v)f.disconnect(v);else try{delete b[h]}catch(x){}q?a[s][h]=f.connect(b,h,q):b[h]=null;return b}b[h]=q;return b}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),
function(g,l,m,p,d,c){function k(a,b){var e=b.parentNode;e&&e.insertBefore(a,b)}function f(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(b){}for(var e;e=a.lastChild;)a.removeChild(e)}var b={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},a=/<\s*([\w\:]+)/,e={},r=0,n="__"+l._scopeName+"ToDomId",t;for(t in b)b.hasOwnProperty(t)&&
(l=b[t],l.pre="option"==t?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+l.join("\x3e\x3c")+"\x3e",l.post="\x3c/"+l.reverse().join("\x3e\x3c/")+"\x3e");var q;8>=m("ie")&&(q=function(a){a.__dojo_html5_tested="yes";var b=h("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(b){a.createElement(b)});
s(b)});g.toDom=function(h,c){c=c||p.doc;var f=c[n];f||(c[n]=f=++r+"",e[f]=c.createElement("div"));8>=m("ie")&&!c.__dojo_html5_tested&&c.body&&q(c);h+="";var s=h.match(a),d=s?s[1].toLowerCase():"",f=e[f];if(s&&b[d]){s=b[d];f.innerHTML=s.pre+h+s.post;for(s=s.length;s;--s)f=f.firstChild}else f.innerHTML=h;if(1==f.childNodes.length)return f.removeChild(f.firstChild);for(d=c.createDocumentFragment();s=f.firstChild;)d.appendChild(s);return d};g.place=function(a,b,e){b=d.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?
g.toDom(a,b.ownerDocument):d.byId(a));if("number"==typeof e){var h=b.childNodes;!h.length||h.length<=e?b.appendChild(a):k(a,h[0>e?0:e])}else switch(e){case "before":k(a,b);break;case "after":e=a;(h=b.parentNode)&&(h.lastChild==b?h.appendChild(e):h.insertBefore(e,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":g.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){k(a,b.firstChild);break}default:b.appendChild(a)}return a};var h=g.create=function(a,b,e,
h){var n=p.doc;e&&(e=d.byId(e),n=e.ownerDocument);"string"==typeof a&&(a=n.createElement(a));b&&c.set(a,b);e&&g.place(a,e,h);return a};g.empty=function(a){f(d.byId(a))};var s=g.destroy=function(a){if(a=d.byId(a)){var b=a;a=a.parentNode;b.firstChild&&f(b);a&&(m("ie")&&a.canHaveChildren&&"removeNode"in b?b.removeNode(!1):a.removeChild(b))}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(g,l,m){function p(b){if("string"==typeof b||b instanceof String){if(b&&!c.test(b))return k[0]=
b,k;b=b.split(c);b.length&&!b[0]&&b.shift();b.length&&!b[b.length-1]&&b.pop();return b}return!b?[]:l.filter(b,function(a){return a})}var d,c=/\s+/,k=[""],f={};return d={contains:function(b,a){return 0<=(" "+m.byId(b).className+" ").indexOf(" "+a+" ")},add:function(b,a){b=m.byId(b);a=p(a);var e=b.className,c,e=e?" "+e+" ":" ";c=e.length;for(var n=0,f=a.length,q;n<f;++n)(q=a[n])&&0>e.indexOf(" "+q+" ")&&(e+=q+" ");c<e.length&&(b.className=e.substr(1,e.length-2))},remove:function(b,a){b=m.byId(b);var e;
if(void 0!==a){a=p(a);e=" "+b.className+" ";for(var c=0,n=a.length;c<n;++c)e=e.replace(" "+a[c]+" "," ");e=g.trim(e)}else e="";b.className!=e&&(b.className=e)},replace:function(b,a,e){b=m.byId(b);f.className=b.className;d.remove(f,e);d.add(f,a);b.className!==f.className&&(b.className=f.className)},toggle:function(b,a,e){b=m.byId(b);if(void 0===e){a=p(a);for(var c=0,n=a.length,f;c<n;++c)f=a[c],d[d.contains(b,f)?"remove":"add"](b,f)}else d[e?"add":"remove"](b,a);return e}}})},"dojo/ready":function(){define(["./_base/kernel",
"./has","require","./domReady","./_base/lang"],function(g,l,m,p,d){var c=0,k=[],f=0;l=function(){c=1;g._postLoad=g.config.afterOnLoad=!0;b()};var b=function(){if(!f){for(f=1;c&&(!p||0==p._Q.length)&&(m.idle?m.idle():1)&&k.length;){var a=k.shift();try{a()}catch(b){if(b.info=b.message,m.signal)m.signal("error",b);else throw b;}}f=0}};m.on&&m.on("idle",b);p&&(p._onQEmpty=b);var a=g.ready=g.addOnLoad=function(a,e,c){var f=d._toArray(arguments);"number"!=typeof a?(c=e,e=a,a=1E3):f.shift();c=c?d.hitch.apply(g,
f):function(){e()};c.priority=a;for(f=0;f<k.length&&a>=k[f].priority;f++);k.splice(f,0,c);b()},e=g.config.addOnLoad;if(e)a[d.isArray(e)?"apply":"call"](g,e);p?p(l):l();return a})},"dojo/domReady":function(){define(["./global","./has"],function(g,l){function m(a){b.push(a);f&&p()}function p(){if(!a){for(a=!0;b.length;)try{b.shift()(d)}catch(e){}a=!1;m._onQEmpty()}}var d=document,c={loaded:1,complete:1},k="string"!=typeof d.readyState,f=!!c[d.readyState],b=[],a;m.load=function(a,b,e){m(e)};m._Q=b;m._onQEmpty=
function(){};k&&(d.readyState="loading");if(!f){var e=[],r=function(a){a=a||g.event;f||"readystatechange"==a.type&&!c[d.readyState]||(k&&(d.readyState="complete"),f=1,p())},n=function(a,e){a.addEventListener(e,r,!1);b.push(function(){a.removeEventListener(e,r,!1)})};if(!l("dom-addeventlistener")){var n=function(a,e){e="on"+e;a.attachEvent(e,r);b.push(function(){a.detachEvent(e,r)})},t=d.createElement("div");try{t.doScroll&&null===g.frameElement&&e.push(function(){try{return t.doScroll("left"),1}catch(a){}})}catch(q){}}n(d,
"DOMContentLoaded");n(g,"load");"onreadystatechange"in d?n(d,"readystatechange"):k||e.push(function(){return c[d.readyState]});if(e.length){var h=function(){if(!f){for(var a=e.length;a--;)if(e[a]()){r("poller");return}setTimeout(h,30)}};h()}}return m})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(g,l,m,p){return g("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(d){var c=this._attrPairNames;return c[d]?c[d]:c[d]={s:"_"+d+"Setter",
g:"_"+d+"Getter"}},postscript:function(d){d&&this.set(d)},_get:function(d,c){return"function"===typeof this[c.g]?this[c.g]():this[d]},get:function(d){return this._get(d,this._getAttrNames(d))},set:function(d,c){if("object"===typeof d){for(var k in d)d.hasOwnProperty(k)&&"_watchCallbacks"!=k&&this.set(k,d[k]);return this}k=this._getAttrNames(d);var f=this._get(d,k);k=this[k.s];var b;"function"===typeof k?b=k.apply(this,Array.prototype.slice.call(arguments,1)):this[d]=c;if(this._watchCallbacks){var a=
this;p(b,function(){a._watchCallbacks(d,f,c)})}return this},_changeAttrValue:function(d,c){var k=this.get(d);this[d]=c;this._watchCallbacks&&this._watchCallbacks(d,k,c);return this},watch:function(d,c){var k=this._watchCallbacks;if(!k)var f=this,k=this._watchCallbacks=function(a,b,c,d){var q=function(h){if(h){h=h.slice();for(var q=0,d=h.length;q<d;q++)h[q].call(f,a,b,c)}};q(k["_"+a]);d||q(k["*"])};!c&&"function"===typeof d?(c=d,d="*"):d="_"+d;var b=k[d];"object"!==typeof b&&(b=k[d]=[]);b.push(c);
var a={};a.unwatch=a.remove=function(){var a=m.indexOf(b,c);-1<a&&b.splice(a,1)};return a}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(g,l,m){return m("dijit.Destroyable",null,{destroy:function(l){this._destroyed=!0},own:function(){var m=["destroyRecursive","destroy","remove"];g.forEach(arguments,function(d){function c(){f.remove();g.forEach(b,function(a){a.remove()})}var k,f=l.before(this,"destroy",function(a){d[k](a)}),b=[];d.then?
(k="cancel",d.then(c,c)):g.forEach(m,function(a){"function"===typeof d[a]&&(k||(k=a),b.push(l.after(d,a,c,!0)))})},this);return arguments}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(g,l,m){var p={},d={},c={length:0,add:function(c){if(d[c.id])throw Error("Tried to register widget with id\x3d\x3d"+c.id+" but that id is already registered");d[c.id]=c;this.length++},remove:function(c){d[c]&&(delete d[c],this.length--)},byId:function(c){return"string"==
typeof c?d[c]:c},byNode:function(c){return d[c.getAttribute("widgetId")]},toArray:function(){var c=[],f;for(f in d)c.push(d[f]);return c},getUniqueId:function(c){var f;do f=c+"_"+(c in p?++p[c]:p[c]=0);while(d[f]);return"dijit"==m._scopeName?f:m._scopeName+"_"+f},findWidgets:function(c,f){function b(e){for(e=e.firstChild;e;e=e.nextSibling)if(1==e.nodeType){var c=e.getAttribute("widgetId");c?(c=d[c])&&a.push(c):e!==f&&b(e)}}var a=[];b(c);return a},_destroyAll:function(){m._curFocus=null;m._prevFocus=
null;m._activeStack=[];g.forEach(c.findWidgets(l.body()),function(c){c._destroyed||(c.destroyRecursive?c.destroyRecursive():c.destroy&&c.destroy())})},getEnclosingWidget:function(c){for(;c;){var f=1==c.nodeType&&c.getAttribute("widgetId");if(f)return d[f];c=c.parentNode}return null},_hash:d};return m.registry=c})},"dijit/main":function(){define(["dojo/_base/kernel"],function(g){return g.dijit})},"app/ui/AppUi":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/fx dojo/_base/array dojo/dom-style dojo/topic dojo/on dojo/window dojo/router dojo/query dijit/_WidgetBase dijit/_TemplatedMixin dijit/ConfirmDialog dojo/text!./templates/AppUi.html dojo/text!./templates/Help.html dijit/layout/ContentPane dijit/layout/TabContainer dijit/layout/LayoutContainer ../utils/DomUtils ./widgets/SearchPane ./widgets/ConceptDetail ./widgets/SlideMenu ./dialogs/ManageConceptDialog ./dialogs/ManageLanguagesDialog ./dialogs/ImportConceptDialog ./dialogs/MergeConceptDialog ./dialogs/ManageSchemeDialog ../utils/ErrorUtils dojo/NodeList-manipulate".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s,v,x,u,y,z,w,A,E,F,G,I){return g([e,r],{templateString:t,loadingContainer:null,staticAppPath:null,conceptSchemeController:null,conceptController:null,languageController:null,listController:null,_searchPane:null,_conceptContainer:null,_slideMenu:null,_manageConceptDialog:null,_manageLanguagesDialog:null,_importConceptDialog:null,_mergeConceptDialog:null,_selectedSchemeId:null,postCreate:function(){this.inherited(arguments);this._registerLoadingEvents();this._registerRoutes();
this._createSlideMenu(this.menuContainerNode);this._manageConceptDialog=new w({parent:this,languageController:this.languageController,listController:this.listController,conceptSchemeController:this.conceptSchemeController});k(this._manageConceptDialog,"new.concept.save",l.hitch(this,function(a){this._saveNewConcept(this._manageConceptDialog,a.concept,a.schemeId)}));k(this._manageConceptDialog,"concept.save",l.hitch(this,function(a){this._saveConcept(this._manageConceptDialog,a.concept,a.schemeId)}));
this._manageConceptDialog.startup();this._manageLanguagesDialog=new A({parentNode:this,languageController:this.languageController});this._manageLanguagesDialog.startup();this._importConceptDialog=new E({externalSchemeStore:this.conceptSchemeController.getExternalSchemeStore(),conceptSchemeController:this.conceptSchemeController});this._importConceptDialog.startup();k(this._importConceptDialog,"concept.import",l.hitch(this,function(a){this._createImportConcept(a.schemeId,a.concept)}));this._mergeConceptDialog=
new F({conceptSchemeController:this.conceptSchemeController});this._mergeConceptDialog.startup();k(this._mergeConceptDialog,"concept.merge",l.hitch(this,function(a){this._createMergeConcept(a.conceptUri,a.concept,a.schemeId)}));this._manageSchemeDialog=new G({parent:this,languageController:this.languageController,listController:this.listController,conceptSchemeController:this.conceptSchemeController});this._manageSchemeDialog.startup();k(this._manageSchemeDialog,"scheme.save",l.hitch(this,function(a){this._saveConceptScheme(this._manageSchemeDialog,
a.scheme)}));k(window,"resize",l.hitch(this,function(){this._calculateHeight()}))},startup:function(){this.inherited(arguments);this._buildInterface().startup();this._searchPane.startup();this._slideMenu._slideOpen();this._hideLoading();b.startup("#")},_hideLoading:function(){m.fadeOut({node:this.loadingContainer,onEnd:function(a){d.set(a,"display","none")},duration:1E3}).play()},_showLoading:function(b){b||(b="");var e=this.loadingContainer;a(".loadingMessage",e).innerHTML(b);d.set(e,"display","block");
m.fadeIn({node:e,duration:1}).play()},_buildInterface:function(){this._calculateHeight();var a=new v({design:"headline",id:"appContainer"},this.conceptContainerNode);this._container=new s({tabPosition:"bottom",splitter:!0});a.addChild(new h({content:this._container,region:"center",baseClass:"appBody"}));this._createHelpTab(this._container);a.startup();return a},_createHelpTab:function(a){a.addChild(new h({tabId:"help",title:"Info",content:q,closable:!1}))},_registerLoadingEvents:function(){this.own(c.subscribe("standby.show",
l.hitch(this,function(a){this._showLoading(a.message)})),c.subscribe("standby.stop",l.hitch(this,function(){this._hideLoading()})))},_registerRoutes:function(){b.register("/conceptschemes/:scheme/c/:id",l.hitch(this,function(a){a.params.id&&a.params.scheme&&(this._openConcept(a.params.id,a.params.scheme),this._closeMenu(),b.go("#"))}));b.register("/conceptschemes/:schemeId",l.hitch(this,function(a){a.params.schemeId&&(this._openEditConceptScheme(a.params.schemeId),this._closeMenu(),b.go("#"))}));
b.register("/conceptschemes/:schemeId/",l.hitch(this,function(a){a.params.schemeId&&(this._openEditConceptScheme(a.params.schemeId),this._closeMenu(),b.go("#"))}))},_createConcept:function(a){a?a.preventDefault():null;this._manageConceptDialog.showDialog(this._selectedSchemeId,null,"add")},_createAddSubordinateArrayConcept:function(a,b){var e={superordinates:[],type:"collection"};e.superordinates.push(a);this._manageConceptDialog.showDialog(b,e,"add")},_createAddNarrowerConcept:function(a,b){var e=
{broader:[],type:"concept"};e.broader.push(a);this._manageConceptDialog.showDialog(b,e,"add")},_createAddMemberConcept:function(a,b){var e={member_of:[],type:"concept"};e.member_of.push(a);this._manageConceptDialog.showDialog(b,e,"add")},_createImportConcept:function(a,b){this.conceptSchemeController.getConcept(a,b.uri).then(l.hitch(this,function(a){this._manageConceptDialog.showDialog(this._selectedSchemeId,a,"add")}))},_createMergeConcept:function(a,b,e){this._showLoading("Merging concepts..");
this.conceptSchemeController.getMergeMatch(a).then(l.hitch(this,function(a){var h=a.notes;b.labels=this._mergeLabels(b.labels,a.labels);b.notes=this._mergeNotes(b.notes,h);this._manageConceptDialog.showDialog(e,b,"edit")}),function(a){c.publish("dGrowl",a,{title:"Error when looking up match",sticky:!0,channel:"error"})}).always(l.hitch(this,function(){this._hideLoading()}))},_importConcept:function(a){a.preventDefault();this._importConceptDialog.show()},_editLanguages:function(a){a.preventDefault();
this._manageLanguagesDialog.show()},_editConceptScheme:function(a){a.preventDefault();this._showLoading("Loading concept scheme..");this.conceptSchemeController.getConceptScheme(this._selectedSchemeId).then(l.hitch(this,function(a){this._manageSchemeDialog.showDialog(a,"edit")}),function(a){}).always(l.hitch(this,function(){this._hideLoading()}))},_openEditConceptScheme:function(a){this._showLoading("Loading concept scheme..");this.conceptSchemeController.getConceptScheme(a).then(l.hitch(this,function(a){this._manageSchemeDialog.showDialog(a,
"edit")}),function(a){}).always(l.hitch(this,function(){this._hideLoading()}))},_createSlideMenu:function(a){this._slideMenu=new z({overlayContainer:this.menuOverlayContainer},a);this._slideMenu.startup();this._createSearchPane(this._slideMenu.menuNode)},_closeMenu:function(a){a?a.preventDefault():null;this._slideMenu._slideClose()},_toggleMenu:function(a){a?a.preventDefault():null;this._slideMenu._toggleMenu()},_openConcept:function(a,b){this._getTab(b+"_"+a)?this._openTab(this._getTab(b+"_"+a)):
(this._showLoading("Loading concept.."),this.conceptController.getConcept(b,a).then(l.hitch(this,function(e){var h=new y({concept:e,conceptId:a,conceptLabel:e.label,scheme:b,languageController:this.languageController,listController:this.listController,conceptSchemeController:this.conceptSchemeController});k(h,"concept.save",l.hitch(this,function(a){this._saveConcept(h,a.concept,a.schemeId)}));k(h,"concept.delete",l.hitch(this,function(a){this._deleteConcept(h,a.concept,a.schemeId)}));k(h,"concept.edit",
l.hitch(this,function(a){this._editConcept(h,a.concept,a.schemeId)}));k(h,"concept.merge",l.hitch(this,function(a){this._mergeConcept(h,a.concept,a.schemeId)}));h.startup();this._addTab(h)})).always(l.hitch(this,function(){this._hideLoading()})))},_createSearchPane:function(a){this._searchPane=new u({conceptSchemeList:this.conceptSchemeController.conceptSchemeList,appUi:this},a);k(this._searchPane,"row-select",l.hitch(this,function(a){this._openConcept(a.data.id,a.scheme)}));k(this._searchPane,"scheme.changed",
l.hitch(this,function(a){this._selectedSchemeId=a.schemeId}));k(this._searchPane,"concept.create",l.hitch(this,function(a){this._createConcept()}));k(this._searchPane,"concept.edit",l.hitch(this,function(a){this.conceptController.getConcept(this._selectedSchemeId,a.conceptId).then(l.hitch(this,function(a){this._editConcept(null,a,this._selectedSchemeId)}))}));k(this._searchPane,"concept.delete",l.hitch(this,function(a){this.conceptController.getConcept(this._selectedSchemeId,a.conceptId).then(l.hitch(this,
function(a){this._deleteConcept(this._getTab(this._selectedSchemeId+"_"+a.id),a,this._selectedSchemeId)}))}));k(this._searchPane,"concept.addnarrower",l.hitch(this,function(a){this.conceptController.getConcept(this._selectedSchemeId,a.conceptId).then(l.hitch(this,function(a){this._createAddNarrowerConcept(a,this._selectedSchemeId)}))}));k(this._searchPane,"concept.addsubarray",l.hitch(this,function(a){this.conceptController.getConcept(this._selectedSchemeId,a.conceptId).then(l.hitch(this,function(a){this._createAddSubordinateArrayConcept(a,
this._selectedSchemeId)}))}));k(this._searchPane,"concept.addmember",l.hitch(this,function(a){this.conceptController.getConcept(this._selectedSchemeId,a.conceptId).then(l.hitch(this,function(a){this._createAddMemberConcept(a,this._selectedSchemeId)}))}))},_openTab:function(a){this._container.selectChild(a)},_closeTab:function(a){this._container.removeChild(a);a.destroyRecursive()},_getTab:function(a){var b=p.filter(this._container.getChildren(),function(b){return b.tabId===a});return 0<b.length?b[0]:
null},_addTab:function(a){a.tabId=a.scheme+"_"+a.conceptId;a.title=a.conceptLabel;a.closable=!0;a.onClose=l.hitch(this,function(){this._closeTab(a)});this._container.addChild(a);this._container.selectChild(a)},_calculateHeight:function(){var a=f.getBox();d.set(this.appContentContainer,"height",a.h-30-60+"px");this._container&&this._container.resize()},_editConcept:function(a,b,e){this._manageConceptDialog.showDialog(e,b,"edit")},_mergeConcept:function(a,b,e){b.matches&&this._mergeConceptDialog.show(b,
e)},_deleteConcept:function(b,e,h){var f=new n({title:"Delete concept",content:'\x3cp style\x3d"font-size: 15px;"\x3eAre you sure you want to remove \x3cstrong\x3e'+e.label+"\x3c/strong\x3e (ID: "+e.id+") from scheme \x3cstrong\x3e"+h+"\x3c/strong\x3e?\x3c/p\x3e",baseClass:"confirm-dialog"});a(".dijitButton",f.domNode).addClass("button tiny");f.closeText.innerHTML='\x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e';k(f,"close",function(){f.destroy()});k(f,"execute",l.hitch(this,function(){this._showLoading("Removing concept..");
this.conceptController.deleteConcept(e,h).then(l.hitch(this,function(a){b&&this._closeTab(b)}),l.hitch(this,function(a){a=I.parseError(a);c.publish("dGrowl",a.message,{title:a.title,sticky:!0,channel:"error"})})).always(l.hitch(this,function(){this._hideLoading()}))}));f.show()},_saveConcept:function(a,b,e){this._showLoading("Saving concept..");this.conceptController.saveConcept(b,e,"PUT").then(l.hitch(this,function(h){a._close();var n=this._getTab(e+"_"+b.id);this._closeTab(n);this._openConcept(h.id,
e);c.publish("dGrowl","The concept was successfully saved.",{title:"Save successful",sticky:!1,channel:"info"})}),function(a){a=I.parseError(a);c.publish("dGrowl",a.message,{title:a.title,sticky:!0,channel:"error"})}).always(l.hitch(this,function(){this._hideLoading()}))},_saveNewConcept:function(a,b,e){this._showLoading("Saving concept..");this.conceptController.saveConcept(b,e,"POST").then(l.hitch(this,function(b){a._close();this._openConcept(b.id,e);c.publish("dGrowl","The concept was successfully saved.",
{title:"Save successful",sticky:!1,channel:"info"})}),function(a){a=I.parseError(a);c.publish("dGrowl",a.message,{title:a.title,sticky:!0,channel:"error"})}).always(l.hitch(this,function(){this._hideLoading()}))},_saveConceptScheme:function(a,b){this._showLoading("Saving concept scheme..");this.conceptSchemeController.editConceptScheme(b).then(l.hitch(this,function(b){a._close();c.publish("dGrowl","The concept scheme was successfully saved.",{title:"Save successful",sticky:!1,channel:"info"})}),function(a){a=
I.parseError(a);c.publish("dGrowl",a.message,{title:a.title,sticky:!0,channel:"error"})}).always(l.hitch(this,function(){this._hideLoading()}))},_closeEditDialog:function(){this._editDialog&&(this._editDialog._close(),this._editDialog.destroyRecursive())},_mergeLabels:function(a,b){p.forEach(b,function(b){this._containsLabel(a,b)||a.push(this._verifyPrefLabel(a,b))},this);return a},_containsLabel:function(a,b){return p.some(a,function(a){return a.label===b.label&&a.language===b.language&&a.type===
b.type})},_verifyPrefLabel:function(a,b){"prefLabel"===b.type&&this._containsPrefLabelOfSameLanguage(a,b)&&(b.type="altLabel");return b},_containsPrefLabelOfSameLanguage:function(a,b){return p.some(a,function(a){return"prefLabel"===a.type&&a.language===b.language})},_mergeNotes:function(a,b){p.forEach(b,function(b){this._containsNote(a,b)||a.push(b)},this);return a},_containsNote:function(a,b){return p.some(a,function(a){return a.note===b.note&&a.language===b.language&&a.type===b.type})}})})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),
function(g,l,m,p,d,c,k,f,b){var a=m.mixin,e={},r=e._Line=function(a,b){this.start=a;this.end=b};r.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var n=e.Animation=function(b){a(this,b);m.isArray(this.curve)&&(this.curve=new r(this.curve[0],this.curve[1]))};n.prototype=new p;m.extend(n,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var e=b||[];if(this[a])if(l.debugAtAllCosts)this[a].apply(this,
e);else try{this[a].apply(this,e)}catch(h){}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var e=a||this.delay,h=m.hitch(this,"_play",b);if(0<e)return this._delayTimer=setTimeout(h,e),this;h();return this},_play:function(a){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=
this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=
this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;
1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});
var t=0,q=null,h={run:function(){}};m.extend(n,{_startTimer:function(){this._timer||(this._timer=c.after(h,"run",m.hitch(this,"_cycle"),!0),t++);q||(q=setInterval(m.hitch(h,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,t--);0>=t&&(clearInterval(q),q=null,t=0)}});var s=k("ie")?function(a){var e=a.style;!e.width.length&&"auto"==b.get(a,"width")&&(e.width="auto")}:function(){};e._fade=function(h){h.node=f.byId(h.node);var n=a({properties:{}},h);h=n.properties.opacity=
{};h.start=!("start"in n)?function(){return+b.get(n.node,"opacity")||0}:n.start;h.end=n.end;h=e.animateProperty(n);c.after(h,"beforeBegin",m.partial(s,n.node),!0);return h};e.fadeIn=function(b){return e._fade(a({end:1},b))};e.fadeOut=function(b){return e._fade(a({end:0},b))};e._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var v=function(a){this._properties=a;for(var b in a){var e=a[b];e.start instanceof d&&(e.tempColor=new d)}};v.prototype.getValue=function(a){var b={},e;for(e in this._properties){var h=
this._properties[e],c=h.start;c instanceof d?b[e]=d.blendColors(c,h.end,a,h.tempColor).toCss():m.isArray(c)||(b[e]=(h.end-c)*a+c+("opacity"!=e?h.units||"px":0))}return b};e.animateProperty=function(e){var h=e.node=f.byId(e.node);e.easing||(e.easing=g._defaultEasing);e=new n(e);c.after(e,"beforeBegin",m.hitch(e,function(){var e={},c;for(c in this.properties){if("width"==c||"height"==c)this.node.display="block";var n=this.properties[c];m.isFunction(n)&&(n=n(h));n=e[c]=a({},m.isObject(n)?n:{end:n});
m.isFunction(n.start)&&(n.start=n.start(h));m.isFunction(n.end)&&(n.end=n.end(h));var f=0<=c.toLowerCase().indexOf("color"),q=function(a,e){var h={height:a.offsetHeight,width:a.offsetWidth}[e];if(void 0!==h)return h;h=b.get(a,e);return"opacity"==e?+h:f?h:parseFloat(h)};"end"in n?"start"in n||(n.start=q(h,c)):n.end=q(h,c);f?(n.start=new d(n.start),n.end=new d(n.end)):n.start="opacity"==c?+n.start:parseFloat(n.start)}this.curve=new v(e)}),!0);c.after(e,"onAnimate",m.hitch(b,"set",e.node),!0);return e};
e.anim=function(a,b,h,c,f,q){return e.animateProperty({node:a,duration:h||n.prototype.duration,properties:b,easing:c,onEnd:f}).play(q||0)};a(g,e);g._Animation=n;return e})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(g,l,m,p){var d=g.Color=function(c){c&&this.setColor(c)};d.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],
olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:p.transparentColor||[0,0,0,0]};l.extend(d,{r:255,g:255,b:255,a:1,_set:function(c,d,f,b){this.r=c;this.g=d;this.b=f;this.a=b},setColor:function(c){l.isString(c)?d.fromString(c,this):l.isArray(c)?d.fromArray(c,this):(this._set(c.r,c.g,c.b,c.a),c instanceof d||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,
this.g,this.b,this.a]},toHex:function(){return"#"+m.map(["r","g","b"],function(c){c=this[c].toString(16);return 2>c.length?"0"+c:c},this).join("")},toCss:function(c){var d=this.r+", "+this.g+", "+this.b;return(c?"rgba("+d+", "+this.a:"rgb("+d)+")"},toString:function(){return this.toCss(!0)}});d.blendColors=g.blendColors=function(c,k,f,b){b=b||new d;b.r=Math.round(c.r+(k.r-c.r)*f);b.g=Math.round(c.g+(k.g-c.g)*f);b.b=Math.round(c.b+(k.b-c.b)*f);b.a=c.a+(k.a-c.a)*f;return b.sanitize()};d.fromRgb=g.colorFromRgb=
function(c,k){var f=c.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return f&&d.fromArray(f[1].split(/\s*,\s*/),k)};d.fromHex=g.colorFromHex=function(c,k){var f=k||new d,b=4==c.length?4:8,a=(1<<b)-1;c=Number("0x"+c.substr(1));if(isNaN(c))return null;m.forEach(["b","g","r"],function(e){var d=c&a;c>>=b;f[e]=4==b?17*d:d});f.a=1;return f};d.fromArray=g.colorFromArray=function(c,k){var f=k||new d;f._set(Number(c[0]),Number(c[1]),Number(c[2]),Number(c[3]));isNaN(f.a)&&(f.a=1);return f.sanitize()};d.fromString=
g.colorFromString=function(c,k){var f=d.named[c];return f&&d.fromArray(f,k)||d.fromRgb(c,k)||d.fromHex(c,k)};return d})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(g,l,m,p,d,c,k){l.add("rtl-adjust-position-for-verticalScrollBar",function(b,a){var e=m.body(a),c=k.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",
height:"64px"}},e,"last"),n=k.create("div",{style:{overflow:"hidden",direction:"ltr"}},c,"last"),f=0!=d.position(n).x;c.removeChild(n);e.removeChild(c);return f});l.add("position-fixed-support",function(b,a){var e=m.body(a),c=k.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},e,"last"),n=k.create("span",{style:{position:"fixed",left:"0",top:"0"}},c,"last"),f=d.position(n).x!=d.position(c).x;c.removeChild(n);e.removeChild(c);return f});var f={getBox:function(b){b=b||
m.doc;var a="BackCompat"==b.compatMode?m.body(b):b.documentElement,e=d.docScroll(b);if(l("touch")){var c=f.get(b);b=c.innerWidth||a.clientWidth;a=c.innerHeight||a.clientHeight}else b=a.clientWidth,a=a.clientHeight;return{l:e.x,t:e.y,w:b,h:a}},get:function(b){if(l("ie")&&f!==document.parentWindow){b.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var a=b._parentWindow;b._parentWindow=null;return a}return b.parentWindow||b.defaultView},scrollIntoView:function(b,a){try{b=
p.byId(b);var e=b.ownerDocument||m.doc,f=m.body(e),n=e.documentElement||f.parentNode,k=l("ie")||l("trident"),q=l("webkit");if(!(b==f||b==n))if(!l("mozilla")&&(!k&&!q&&!l("opera")&&!l("trident")&&!l("edge"))&&"scrollIntoView"in b)b.scrollIntoView(!1);else{var h="BackCompat"==e.compatMode,s=Math.min(f.clientWidth||n.clientWidth,n.clientWidth||f.clientWidth),v=Math.min(f.clientHeight||n.clientHeight,n.clientHeight||f.clientHeight),e=q||h?f:n,g=a||d.position(b),u=b.parentNode,q=function(a){return 6>=
k||7==k&&h?!1:l("position-fixed-support")&&"fixed"==c.get(a,"position").toLowerCase()},y=this,z=function(a,b,e){"BODY"==a.tagName||"HTML"==a.tagName?y.get(a.ownerDocument).scrollBy(b,e):(b&&(a.scrollLeft+=b),e&&(a.scrollTop+=e))};if(!q(b))for(;u;){u==f&&(u=e);var w=d.position(u),A=q(u),E="rtl"==c.getComputedStyle(u).direction.toLowerCase();if(u==e){w.w=s;w.h=v;if(e==n&&(k||l("trident"))&&E)w.x+=e.offsetWidth-w.w;w.x=0;w.y=0}else{var F=d.getPadBorderExtents(u);w.w-=F.w;w.h-=F.h;w.x+=F.l;w.y+=F.t;var G=
u.clientWidth,I=w.w-G;0<G&&0<I&&(E&&l("rtl-adjust-position-for-verticalScrollBar")&&(w.x+=I),w.w=G);G=u.clientHeight;I=w.h-G;0<G&&0<I&&(w.h=G)}A&&(0>w.y&&(w.h+=w.y,w.y=0),0>w.x&&(w.w+=w.x,w.x=0),w.y+w.h>v&&(w.h=v-w.y),w.x+w.w>s&&(w.w=s-w.x));var N=g.x-w.x,Q=g.y-w.y,H=N+g.w-w.w,L=Q+g.h-w.h,M,C;if(0<H*N&&(u.scrollLeft||u==e||u.scrollWidth>u.offsetHeight)){M=Math[0>N?"max":"min"](N,H);if(E&&(8==k&&!h||5<=l("trident")))M=-M;C=u.scrollLeft;z(u,M,0);M=u.scrollLeft-C;g.x-=M}if(0<L*Q&&(u.scrollTop||u==e||
u.scrollHeight>u.offsetHeight))M=Math.ceil(Math[0>Q?"max":"min"](Q,L)),C=u.scrollTop,z(u,0,M),M=u.scrollTop-C,g.y-=M;u=u!=e&&!A&&u.parentNode}}}catch(B){b.scrollIntoView(!1)}}};g.setObject("dojo.window",f);return f})},"dojo/router":function(){define(["./router/RouterBase"],function(g){return new g({})})},"dojo/router/RouterBase":function(){define(["dojo/_base/declare","dojo/hash","dojo/topic"],function(g,l,m){function p(c,d,f){var b,a,e,r;b=this.callbackQueue;e=a=!1;d=[{stopImmediatePropagation:function(){a=
!0},preventDefault:function(){e=!0},oldPath:d,newPath:f,params:c}];if(c instanceof Array)d=d.concat(c);else for(r in c)d.push(c[r]);c=0;for(r=b.length;c<r;++c)a||b[c].apply(null,d);return!e}var d;d=String.prototype.trim?function(c){return c.trim()}:function(c){return c.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};return g(null,{_routes:null,_routeIndex:null,_started:!1,_currentPath:"",idMatch:/:(\w[\w\d]*)/g,idReplacement:"([^\\/]+)",globMatch:/\*(\w[\w\d]*)/,globReplacement:"(.+)",constructor:function(c){this._routes=
[];this._routeIndex={};for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d])},register:function(c,d){return this._registerRoute(c,d)},registerBefore:function(c,d){return this._registerRoute(c,d,!0)},go:function(c,k){var f;if("string"!==typeof c)return!1;c=d(c);(f=this._handlePathChange(c))&&l(c,k);return f},startup:function(c){if(!this._started){var d=this,f=l();this._started=!0;this._hashchangeHandle=m.subscribe("/dojo/hashchange",function(){d._handlePathChange.apply(d,arguments)});f?this._handlePathChange(f):
this.go(c,!0)}},destroy:function(){this._hashchangeHandle&&this._hashchangeHandle.remove();this._routeIndex=this._routes=null},_handlePathChange:function(c){var d,f,b,a,e,r,n,t,q=this._routes,h=this._currentPath;if(!this._started||c===h)return f;f=!0;d=0;for(b=q.length;d<b;++d)if(e=q[d],r=e.route.exec(c)){if(e.parameterNames){n=e.parameterNames;t={};f=0;for(a=n.length;f<a;++f)t[n[f]]=r[f+1]}else t=r.slice(1);f=e.fire(t,h,c)}f&&(this._currentPath=c);return f},_convertRouteToRegExp:function(c){c=c.replace(this.idMatch,
this.idReplacement);c=c.replace(this.globMatch,this.globReplacement);return RegExp("^"+c+"$")},_getParameterNames:function(c){var d=this.idMatch,f=this.globMatch,b=[],a;for(d.lastIndex=0;null!==(a=d.exec(c));)b.push(a[1]);null!==(a=f.exec(c))&&b.push(a[1]);return 0<b.length?b:null},_indexRoutes:function(){var c,d,f,b,a=this._routes;b=this._routeIndex={};c=0;for(d=a.length;c<d;++c)f=a[c],b[f.route]=c},_registerRoute:function(c,d,f){var b,a,e,r,n,t=this,q=this._routes,h=this._routeIndex;b=this._routeIndex[c];
(a="undefined"!==typeof b)&&(e=q[b]);e||(e={route:c,callbackQueue:[],fire:p});r=e.callbackQueue;"string"==typeof c&&(e.parameterNames=this._getParameterNames(c),e.route=this._convertRouteToRegExp(c));f?r.unshift(d):r.push(d);a||(b=q.length,h[c]=b,q.push(e));n=!1;return{remove:function(){var a,e;if(!n){a=0;for(e=r.length;a<e;++a)r[a]===d&&r.splice(a,1);0===r.length&&(q.splice(b,1),t._indexRoutes());n=!0}},register:function(a,b){return t.register(c,a,b)}}}})})},"dojo/hash":function(){define("./_base/kernel require ./_base/config ./aspect ./_base/lang ./topic ./domReady ./sniff".split(" "),
function(g,l,m,p,d,c,k,f){function b(a,b){var e=a.indexOf(b);return 0<=e?a.substring(e+1):""}function a(){return b(location.href,"#")}function e(){c.publish("/dojo/hashchange",a())}function r(){a()!==q&&(q=a(),e())}function n(a){if(h)if(h.isTransitioning())setTimeout(d.hitch(null,n,a),v);else{var b=h.iframe.location.href,e=b.indexOf("?");h.iframe.location.replace(b.substring(0,e)+"?"+a)}else location.replace("#"+a),!s&&r()}function t(){function h(){q=a();f=t?q:b(p.href,"?");s=!1;r=null}var c=document.createElement("iframe"),
n=m.dojoBlankHtmlUrl||l.toUrl("./resources/blank.html");c.id="dojo-hash-iframe";c.src=n+"?"+a();c.style.display="none";document.body.appendChild(c);this.iframe=g.global["dojo-hash-iframe"];var f,s,r,k,t,p=this.iframe.location;this.isTransitioning=function(){return s};this.pollLocation=function(){if(!t)try{var l=b(p.href,"?");document.title!=k&&(k=this.iframe.document.title=document.title)}catch(g){t=!0}var m=a();if(s&&q===m)if(t||l===r)h(),e();else{setTimeout(d.hitch(this,this.pollLocation),0);return}else if(!(q===
m&&(t||f===l))){if(q!==m){q=m;s=!0;r=m;c.src=n+"?"+r;t=!1;setTimeout(d.hitch(this,this.pollLocation),0);return}t||(location.href="#"+p.search.substring(1),h(),e())}setTimeout(d.hitch(this,this.pollLocation),v)};h();setTimeout(d.hitch(this,this.pollLocation),v)}g.hash=function(b,e){if(!arguments.length)return a();"#"==b.charAt(0)&&(b=b.substring(1));e?n(b):location.href="#"+b;return b};var q,h,s,v=m.hashPollFrequency||100;k(function(){"onhashchange"in g.global&&(!f("ie")||8<=f("ie")&&"BackCompat"!=
document.compatMode)?s=p.after(g.global,"onhashchange",e,!0):document.addEventListener?(q=a(),setInterval(r,v)):document.attachEvent&&(h=new t)});return g.hash})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(g,l,m,p,d,c,k,f){function b(a,b){var e=function(e,h){if("string"==typeof h&&(h=m.byId(h),!h))return new b([]);var c="string"==typeof e?a(e,h):e?e.end&&e.on?e:[e]:[];return c.end&&c.on?
c:new b(c)};e.matches=a.match||function(a,b,h){return 0<e.filter([a],b,h).length};e.filter=a.filter||function(a,b,h){return e(b,h).filter(function(b){return-1<d.indexOf(a,b)})};if("function"!=typeof a){var h=a.search;a=function(a,b){return h(b||document,a)}}return e}l.add("array-extensible",function(){return 1==c.delegate([],{length:1}).length&&!l("bug-for-in-skips-shadowed")});var a=Array.prototype,e=a.slice,r=a.concat,n=d.forEach,t=function(a,b,h){b=[0].concat(e.call(b,0));h=h||g.global;return function(e){b[0]=
e;return a.apply(h,b)}},q=function(a){var b=this instanceof h&&l("array-extensible");"number"==typeof a&&(a=Array(a));var e=a&&"length"in a?a:arguments;if(b||!e.sort){for(var n=b?this:[],f=n.length=e.length,d=0;d<f;d++)n[d]=e[d];if(b)return n;e=n}c._mixin(e,s);e._NodeListCtor=function(a){return h(a)};return e},h=q,s=h.prototype=l("array-extensible")?[]:{};h._wrap=s._wrap=function(a,b,e){a=new (e||this._NodeListCtor||h)(a);return b?a._stash(b):a};h._adaptAsMap=function(a,b){return function(){return this.map(t(a,
arguments,b))}};h._adaptAsForEach=function(a,b){return function(){this.forEach(t(a,arguments,b));return this}};h._adaptAsFilter=function(a,b){return function(){return this.filter(t(a,arguments,b))}};h._adaptWithCondition=function(a,b,e){return function(){var h=arguments,c=t(a,h,e);if(b.call(e||g.global,h))return this.map(c);this.forEach(c);return this}};n(["slice","splice"],function(b){var e=a[b];s[b]=function(){return this._wrap(e.apply(this,arguments),"slice"==b?this:null)}});n(["indexOf","lastIndexOf",
"every","some"],function(a){var b=d[a];s[a]=function(){return b.apply(g,[this].concat(e.call(arguments,0)))}});c.extend(q,{constructor:h,_NodeListCtor:h,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var e=this.map(function(e){return p(e,a,b)});e.remove=function(){for(var a=0;a<e.length;a++)e[a].remove()};return e},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=e.call(this,0),h=d.map(arguments,
function(a){return e.call(a,0)});return this._wrap(r.apply(b,h),this)},map:function(a,b){return this._wrap(d.map(this,a,b),this)},forEach:function(a,b){n(this,a,b);return this},filter:function(a){var b=arguments,e=this,h=0;if("string"==typeof a){e=v._filterResult(this,b[0]);if(1==b.length)return e._stash(this);h=1}return this._wrap(d.filter(e,b[h],b[h+1]),this)},instantiate:function(a,b){var e=c.isFunction(a)?a:c.getObject(a);b=b||{};return this.forEach(function(a){new e(b,a)})},at:function(){var a=
new this._NodeListCtor(0);n(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var v=b(f,q);g.query=b(f,function(a){return q(a)});v.load=function(a,e,h){k.load(a,e,function(a){h(b(a,q))})};g._filterQueryResult=v._filterResult=function(a,b,e){return new q(v.filter(a,b,e))};g.NodeList=v.NodeList=q;return v})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(g,l){var m=document.createElement("div"),p=m.matches||m.webkitMatchesSelector||
m.mozMatchesSelector||m.msMatchesSelector||m.oMatchesSelector,d=m.querySelectorAll,c=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;g.add("dom-matches-selector",!!p);g.add("dom-qsa",!!d);var k=function(e,c){if(a&&-1<e.indexOf(","))return a(e,c);var n=c?c.ownerDocument||c:l.doc||document,t=(d?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(e);c=c||n;if(t){if(t[2]){var q=l.byId?l.byId(t[2],n):n.getElementById(t[2]);if(!q||
t[1]&&t[1]!=q.tagName.toLowerCase())return[];if(c!=n)for(n=q;n!=c;)if(n=n.parentNode,!n)return[];return t[3]?k(t[3],q):[q]}if(t[3]&&c.getElementsByClassName)return c.getElementsByClassName(t[4]);if(t[5])if(q=c.getElementsByTagName(t[5]),t[4]||t[6])e=(t[4]||"")+t[6];else return q}if(d)return 1===c.nodeType&&"object"!==c.nodeName.toLowerCase()?f(c,e,c.querySelectorAll):c.querySelectorAll(e);q||(q=c.getElementsByTagName("*"));for(var t=[],n=0,h=q.length;n<h;n++){var s=q[n];1==s.nodeType&&b(s,e,c)&&t.push(s)}return t},
f=function(a,b,n){var f=a,d=a.getAttribute("id"),h=d||"__dojo__",s=a.parentNode,k=/^\s*[+~]/.test(b);if(k&&!s)return[];d?h=h.replace(/'/g,"\\$\x26"):a.setAttribute("id",h);k&&s&&(a=a.parentNode);b=b.match(c);for(s=0;s<b.length;s++)b[s]="[id\x3d'"+h+"'] "+b[s];b=b.join(",");try{return n.call(a,b)}finally{d||f.removeAttribute("id")}};if(!g("dom-matches-selector"))var b=function(){function a(b,e,h){var c=e.charAt(0);if('"'==c||"'"==c)e=e.slice(1,-1);e=e.replace(/\\/g,"");var n=s[h||""];return function(a){return(a=
a.getAttribute(b))&&n(a,e)}}function b(a){return function(b,e){for(;(b=b.parentNode)!=e;)if(a(b,e))return!0}}function c(a){return function(b,e){b=b.parentNode;return a?b!=e&&a(b,e):b==e}}function f(a,b){return a?function(e,h){return b(e)&&a(e,h)}:b}var d="div"==m.tagName?"toLowerCase":"toUpperCase",h={"":function(a){a=a[d]();return function(b){return b.tagName==a}},".":function(a){var b=" "+a+" ";return function(e){return-1<e.className.indexOf(a)&&-1<(" "+e.className+" ").indexOf(b)}},"#":function(a){return function(b){return b.id==
a}}},s={"^\x3d":function(a,b){return 0==a.indexOf(b)},"*\x3d":function(a,b){return-1<a.indexOf(b)},"$\x3d":function(a,b){return a.substring(a.length-b.length,a.length)==b},"~\x3d":function(a,b){return-1<(" "+a+" ").indexOf(" "+b+" ")},"|\x3d":function(a,b){return 0==(a+"-").indexOf(b+"-")},"\x3d":function(a,b){return a==b},"":function(a,b){return!0}},k={};return function(d,q,s){var l=k[q];if(!l){if(q.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,
function(d,q,s,k,v,g,m){k?l=f(l,h[s||""](k.replace(/\\/g,""))):q?l=(" "==q?b:c)(l):v&&(l=f(l,a(v,m,g)));return""}))throw Error("Syntax error in query");if(!l)return!0;k[q]=l}return l(d,s)}}();if(!g("dom-qsa"))var a=function(a,b){for(var n=a.match(c),f=[],d=0;d<n.length;d++){a=new String(n[d].replace(/\s*$/,""));a.indexOf=escape;for(var h=k(a,b),s=0,v=h.length;s<v;s++){var l=h[s];f[l.sourceIndex]=l}}n=[];for(d in f)n.push(f[d]);return n};k.match=p?function(a,b,c){return c&&9!=c.nodeType?f(c,b,function(b){return p.call(a,
b)}):p.call(a,b)}:b;return k})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(g,l,m,p,d,c,k,f){var b=l("dijit._TemplatedMixin",f,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var b=this.declaredClass,c=this;return k.substitute(a,this,function(a,f){"!"==f.charAt(0)&&(a=p.getObject(f.substr(1),!1,c));if("undefined"==
typeof a)throw Error(b+" template:"+f);return null==a?"":"!"==f.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=g(this.templatePath,{sanitize:!0}));var a=b.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),e;if(p.isString(a)){if(e=
m.toDom(this._stringRepl(a),this.ownerDocument),1!=e.nodeType)throw Error("Invalid template: "+a);}else e=a.cloneNode(!0);this.domNode=e}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)}});b._templateCache={};b.getCachedTemplate=function(a,e,c){var n=b._templateCache,f=a,d=n[f];if(d){try{if(!d.ownerDocument||d.ownerDocument==(c||document))return d}catch(h){}m.destroy(d)}a=
k.trim(a);if(e||a.match(/\$\{([^\}]+)\}/g))return n[f]=a;e=m.toDom(a,c);if(1!=e.nodeType)throw Error("Invalid template: "+a);return n[f]=e};c("ie")&&d(window,"unload",function(){var a=b._templateCache,e;for(e in a){var c=a[e];"object"==typeof c&&m.destroy(c);delete a[e]}});return b})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(g){return g.cache})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(g,l,m,p){var d;d=function(a,b,c){p(a,{sync:!!b,
headers:{"X-Requested-With":null}}).then(c)};var c={},k=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},f={},b={};g.cache=function(a,b,f){var n;"string"==typeof a?/\//.test(a)?(n=a,f=b):n=l.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")):(n=a+"",f=b);a=void 0!=f&&"string"!=typeof f?f.value:f;f=f&&f.sanitize;if("string"==typeof a)return c[n]=a,f?k(a):a;if(null===a)return delete c[n],
null;n in c||d(n,!0,function(a){c[n]=a});return f?k(c[n]):c[n]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),f=c[0];return(/^\./.test(f)?b(f):f)+(c[1]?"!"+c[1]:"")},load:function(a,e,r){a=a.split("!");var n=1<a.length,t=a[0],q=e.toUrl(a[0]);a="url:"+q;var h=f,s=function(a){r(n?k(a):a)};t in c?h=c[t]:e.cache&&a in e.cache?h=e.cache[a]:q in c&&(h=c[q]);if(h===f)if(b[q])b[q].push(s);else{var v=b[q]=[s];d(q,!e.async,function(a){c[t]=c[q]=a;for(var e=0;e<v.length;)v[e++](a);delete b[q]})}else s(h)}}})},
"dojo/request":function(){define(["./request/default!"],function(g){return g})},"dojo/request/default":function(){define(["exports","require","../has"],function(g,l,m){var p=m("config-requestProvider");p||(p="./xhr");g.getPlatformDefaultId=function(){return"./xhr"};g.load=function(d,c,k,f){l(["platform"==d?"./xhr":p],function(b){k(b)})}})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(g,l){var m=/[&<>'"\/]/g,p={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;",
"'":"\x26#x27;","/":"\x26#x2F;"},d={};l.setObject("dojo.string",d);d.escape=function(c){return!c?"":c.replace(m,function(c){return p[c]})};d.rep=function(c,d){if(0>=d||!c)return"";for(var f=[];;){d&1&&f.push(c);if(!(d>>=1))break;c+=c}return f.join("")};d.pad=function(c,k,f,b){f||(f="0");c=String(c);k=d.rep(f,Math.ceil((k-c.length)/f.length));return b?c+k:k+c};d.substitute=function(c,d,f,b){b=b||g.global;f=f?l.hitch(b,f):function(a){return a};return c.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,
function(a,e,c){a=l.getObject(e,!1,d);c&&(a=l.getObject(c,!1,b).call(b,a,e));return f(a,e).toString()})};d.trim=String.prototype.trim?l.trim:function(c){c=c.replace(/^\s+/,"");for(var d=c.length-1;0<=d;d--)if(/\S/.test(c.charAt(d))){c=c.substring(0,d+1);break}return c};return d})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(g,l,m,p,d,c,k,f,b){var a=d.delegate(f,
{mouseenter:c.enter,mouseleave:c.leave,keypress:m._keypress}),e;m=p("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||this.searchContainerNode)&&b.firstChild)b=
b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,e){var c=!0,h=this.attachScope||this,f=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(f)for(var k=f.split(/\s*,\s*/);f=k.shift();)d.isArray(h[f])?h[f].push(a):h[f]=a,c="containerNode"!=f,this._attachPoints.push(f);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event")){f=b.split(/\s*,\s*/);for(k=d.trim;b=f.shift();)if(b){var l=null;-1!=b.indexOf(":")?
(l=b.split(":"),b=k(l[0]),l=k(l[1])):b=k(b);l||(l=b);this._attachEvents.push(e(a,b,d.hitch(h,l)))}}return c},_attach:function(b,c,f){c=c.replace(/^on/,"").toLowerCase();c="dijitclick"==c?e||(e=g("./a11yclick")):a[c]||c;return k(b,c,f)},_detachTemplateNodes:function(){var a=this.attachScope||this;l.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];l.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});d.extend(b,{dojoAttachEvent:"",dojoAttachPoint:""});return m})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(g,l,m,p,d,c,k,f,b,a){function e(a,b,e){return q&&e?function(a,b){return c(a,e,b)}:s?function(e,h){var f=c(e,b,function(a){h.call(this,a);G=(new Date).getTime()}),n=c(e,a,function(a){(!G||(new Date).getTime()>G+1E3)&&h.call(this,a)});return{remove:function(){f.remove();
n.remove()}}}:function(b,e){return c(b,a,e)}}function r(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function n(b,e,h){if(!f.isRight(b)){var n=r(b.target);if(x=!b.target.disabled&&n&&n.dojoClick)if(y=(u="useTarget"==x)?n:b.target,u&&b.preventDefault(),z=b.changedTouches?b.changedTouches[0].pageX-a.global.pageXOffset:b.clientX,w=b.changedTouches?b.changedTouches[0].pageY-a.global.pageYOffset:b.clientY,A=("object"==typeof x?x.x:"number"==typeof x?x:0)||4,E=("object"==typeof x?x.y:"number"==
typeof x?x:0)||4,!v){v=!0;var d=function(b){x=u?m.isDescendant(a.doc.elementFromPoint(b.changedTouches?b.changedTouches[0].pageX-a.global.pageXOffset:b.clientX,b.changedTouches?b.changedTouches[0].pageY-a.global.pageYOffset:b.clientY),y):x&&(b.changedTouches?b.changedTouches[0].target:b.target)==y&&Math.abs((b.changedTouches?b.changedTouches[0].pageX-a.global.pageXOffset:b.clientX)-z)<=A&&Math.abs((b.changedTouches?b.changedTouches[0].pageY-a.global.pageYOffset:b.clientY)-w)<=E};a.doc.addEventListener(e,
function(a){f.isRight(a)||(d(a),u&&a.preventDefault())},!0);a.doc.addEventListener(h,function(a){if(!f.isRight(a)&&(d(a),x)){F=(new Date).getTime();var b=u?y:a.target;"LABEL"===b.tagName&&(b=m.byId(b.getAttribute("for"))||b);var e=a.changedTouches?a.changedTouches[0]:a,h=function(b){var c=document.createEvent("MouseEvents");c._dojo_click=!0;c.initMouseEvent(b,!0,!0,a.view,a.detail,e.screenX,e.screenY,e.clientX,e.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);return c},n=h("mousedown"),q=
h("mouseup"),s=h("click");setTimeout(function(){c.emit(b,"mousedown",n);c.emit(b,"mouseup",q);c.emit(b,"click",s);F=(new Date).getTime()},0)}},!0);b=function(b){a.doc.addEventListener(b,function(a){x&&(!a._dojo_click&&(new Date).getTime()<=F+1E3&&!("INPUT"==a.target.tagName&&p.contains(a.target,"dijitOffScreen")))&&(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),"click"==b&&(("INPUT"!=a.target.tagName||"radio"==a.target.type||"checkbox"==a.target.type)&&"TEXTAREA"!=a.target.tagName&&
"AUDIO"!=a.target.tagName&&"VIDEO"!=a.target.tagName)&&a.preventDefault())},!0)};b("click");b("mousedown");b("mouseup")}}}var t=5>k("ios"),q=k("pointer-events")||k("MSPointer"),h=function(){var a={},b;for(b in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[b]=k("MSPointer")?"MSPointer"+b.charAt(0).toUpperCase()+b.slice(1):"pointer"+b;return a}(),s=k("touch-events"),v,x,u=!1,y,z,w,A,E,F,G,I;k("touch")&&(q?b(function(){a.doc.addEventListener(h.down,function(a){n(a,h.move,h.up)},!0)}):b(function(){function b(a){var e=
d.delegate(a,{bubbles:!0});6<=k("ios")&&(e.touches=a.touches,e.altKey=a.altKey,e.changedTouches=a.changedTouches,e.ctrlKey=a.ctrlKey,e.metaKey=a.metaKey,e.shiftKey=a.shiftKey,e.targetTouches=a.targetTouches);return e}I=a.body();a.doc.addEventListener("touchstart",function(a){G=(new Date).getTime();var b=I;I=a.target;c.emit(b,"dojotouchout",{relatedTarget:I,bubbles:!0});c.emit(I,"dojotouchover",{relatedTarget:b,bubbles:!0});n(a,"touchmove","touchend")},!0);c(a.doc,"touchmove",function(e){G=(new Date).getTime();
var h=a.doc.elementFromPoint(e.pageX-(t?0:a.global.pageXOffset),e.pageY-(t?0:a.global.pageYOffset));h&&(I!==h&&(c.emit(I,"dojotouchout",{relatedTarget:h,bubbles:!0}),c.emit(h,"dojotouchover",{relatedTarget:I,bubbles:!0}),I=h),c.emit(h,"dojotouchmove",b(e))||e.preventDefault())});c(a.doc,"touchend",function(e){G=(new Date).getTime();var h=a.doc.elementFromPoint(e.pageX-(t?0:a.global.pageXOffset),e.pageY-(t?0:a.global.pageYOffset))||a.body();c.emit(h,"dojotouchend",b(e))})}));l={press:e("mousedown",
"touchstart",h.down),move:e("mousemove","dojotouchmove",h.move),release:e("mouseup","dojotouchend",h.up),cancel:e(f.leave,"touchcancel",q?h.cancel:null),over:e("mouseover","dojotouchover",h.over),out:e("mouseout","dojotouchout",h.out),enter:f._eventHandler(e("mouseover","dojotouchover",h.over)),leave:f._eventHandler(e("mouseout","dojotouchout",h.out))};return g.touch=l})},"dijit/ConfirmDialog":function(){define(["dojo/_base/declare","./Dialog","./_ConfirmDialogMixin"],function(g,l,m){return g("dijit.ConfirmDialog",
[l,m],{})})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/touch dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html ./a11yclick dojo/i18n!./nls/common".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s,v,x,u,y,z,w,A,E,F,G,I,N,Q,H){var L=new d;L.resolve(!0);z=p("dijit._DialogBase"+(h("dojo-bidi")?"_NoBidi":""),[A,F,G,E],{templateString:H,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:z.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},maxRatio:0.9,closable:!0,
_setClosableAttr:function(a){this.closeButtonNode.style.display=a?"":"none";this._set("closable",a)},postMixInProperties:function(){var a=e.getLocalization("dijit","common");n.mixin(this,a);this.inherited(arguments)},postCreate:function(){b.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);m.after(this,"onExecute",n.hitch(this,"hide"),!0);m.after(this,"onCancel",n.hitch(this,"hide"),!0);t(this.closeButtonNode,s.press,
function(a){a.stopPropagation()});this._modalconnects=[]},onLoad:function(){this.resize();this._position();this.autofocus&&C.isTop(this)&&(this._getFocusItems(),y.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();y.focus(this._firstFocusItem)},_endDrag:function(){var a=f.position(this.domNode),b=v.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),b.h-a.h);a.x=Math.min(Math.max(a.x,0),b.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=
this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==h("ie")?u:x)(a,{handle:this.titleBar}),m.after(this._moveable,"onMoveStop",n.hitch(this,"_endDrag"),!0)):k.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":l.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),_onKeyDown:n.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!k.contains(this.ownerDocumentBody,"dojoMove")){var a=
this.domNode,e=v.getBox(this.ownerDocument),h=this._relativePosition,c=h?null:f.position(a);b.set(a,{left:Math.floor(e.l+(h?h.x:(e.w-c.w)/2))+"px",top:Math.floor(e.t+(h?h.y:(e.h-c.h)/2))+"px"})}},_onKey:function(a){if(a.keyCode==r.TAB){this._getFocusItems();var b=a.target;this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):b==this._firstFocusItem&&a.shiftKey?(y.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):b==this._lastFocusItem&&!a.shiftKey&&(y.focus(this._firstFocusItem),
a.stopPropagation(),a.preventDefault())}else this.closable&&a.keyCode==r.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(this.open)return L.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),C.hide(this));var e=v.get(this.ownerDocument);this._modalconnects.push(t(e,"scroll",n.hitch(this,"resize",null)));this._modalconnects.push(t(this.domNode,"keydown",
n.hitch(this,"_onKey")));b.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this.resize();this._position();var h;this._fadeInDeferred=new d(n.hitch(this,function(){h.stop();delete this._fadeInDeferred}));e=this._fadeInDeferred.promise;h=a.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:n.hitch(this,function(){C.show(this,this.underlayAttrs)}),onEnd:n.hitch(this,function(){this.autofocus&&C.isTop(this)&&(this._getFocusItems(),y.focus(this._firstFocusItem));
this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return e},hide:function(){if(!this._alreadyInitialized||!this.open)return L.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var b;this._fadeOutDeferred=new d(n.hitch(this,function(){b.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(n.hitch(this,"onHide"));var e=this._fadeOutDeferred.promise;b=a.fadeOut({node:this.domNode,duration:this.duration,onEnd:n.hitch(this,function(){this.domNode.style.display=
"none";C.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(var h;h=this._modalconnects.pop();)h.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return e},resize:function(a){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!a){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,
delete this._singleChildOriginalStyle),l.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(a){a&&b.set(a,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var e=v.getBox(this.ownerDocument);e.w*=this.maxRatio;e.h*=this.maxRatio;var c=f.position(this.domNode);c.w>=e.w||c.h>=e.h?(a={w:Math.min(c.w,e.w),h:Math.min(c.h,e.h)},this._shrunk=!0):this._shrunk=!1}if(a){f.setMarginBox(this.domNode,a);e=[];this.titleBar&&e.push({domNode:this.titleBar,
region:"top"});this.actionBarNode&&e.push({domNode:this.actionBarNode,region:"bottom"});c={domNode:this.containerNode,region:"center"};e.push(c);var n=Q.marginBox2contentBox(this.domNode,a);Q.layoutChildren(this.domNode,n,e);this._singleChild?(e=Q.marginBox2contentBox(this.containerNode,c),this._singleChild.resize({w:e.w,h:e.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();!h("touch")&&!a&&this._position()}},_layoutChildren:function(){l.forEach(this.getChildren(),
function(a){a.resize&&a.resize()})},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();C.hide(this);this.inherited(arguments)}});h("dojo-bidi")&&(z=p("dijit._DialogBase",z,{_setTitleAttr:function(a){this._set("title",a);this.titleNode.innerHTML=a;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(a){this._created&&this.textDir!=
a&&(this._set("textDir",a),this.set("title",this.title))}}));var M=p("dijit.Dialog",[N,z],{});M._DialogBase=z;var C=M._DialogLevelManager={_beginZIndex:950,show:function(a,e){B[B.length-1].focus=y.curNode;var h=B[B.length-1].dialog?B[B.length-1].zIndex+2:M._DialogLevelManager._beginZIndex;b.set(a.domNode,"zIndex",h);I.show(e,h-1);B.push({dialog:a,underlayAttrs:e,zIndex:h})},hide:function(a){if(B[B.length-1].dialog==a){B.pop();var b=B[B.length-1];1==B.length?I.hide():I.show(b.underlayAttrs,b.zIndex-
1);if(a.refocus){a=b.focus;if(b.dialog&&(!a||!c.isDescendant(a,b.dialog.domNode)))b.dialog._getFocusItems(),a=b.dialog._firstFocusItem;if(a)try{a.focus()}catch(e){}}}else b=l.indexOf(l.map(B,function(a){return a.dialog}),a),-1!=b&&B.splice(b,1)},isTop:function(a){return B[B.length-1].dialog==a}},B=M._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];y.watch("curNode",function(a,b,e){a=B[B.length-1].dialog;if(e&&a&&!a._fadeOutDeferred&&e.ownerDocument==a.ownerDocument){do if(e==a.domNode||
k.contains(e,"dijitPopup"))return;while(e=e.parentNode);a.focus()}});h("dijit-legacy-requires")&&q(0,function(){g(["dijit/TooltipDialog"])});return M})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../has ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),function(g,l,m,p,d,c,k,f,b,a,e,r,n){function t(a,b){"touchAction"in document.body.style?q="touchAction":"msTouchAction"in document.body.style&&(q="msTouchAction");
h=function(a,b){a.style[q]=b};h(a,b)}var q,h=function(){};k("touch-action")&&(h=t);return l("dojo.dnd.Moveable",[c],{handle:"",delay:0,skip:!1,constructor:function(b,e){this.node=p.byId(b);h(this.node,"none");e||(e={});this.handle=e.handle?p.byId(e.handle):null;this.handle||(this.handle=this.node);this.delay=0<e.delay?e.delay:0;this.skip=e.skip;this.mover=e.mover?e.mover:r;this.events=[f(this.handle,a.press,m.hitch(this,"onMouseDown")),f(this.handle,"dragstart",m.hitch(this,"onSelectStart")),f(this.handle,
"selectstart",m.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,e){return new e(b,a)},destroy:function(){g.forEach(this.events,function(a){a.remove()});h(this.node,"");this.events=this.node=this.handle=null},onMouseDown:function(b){if(!this.skip||!e.isFormElement(b)){if(this.delay)this.events.push(f(this.handle,a.move,m.hitch(this,"onMouseMove")),f(this.handle,a.release,m.hitch(this,"onMouseUp"))),this._lastX=b.pageX,this._lastY=b.pageY;else this.onDragDetected(b);b.stopPropagation();b.preventDefault()}},
onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(a){if(!this.skip||!e.isFormElement(a))a.stopPropagation(),a.preventDefault()},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){b.publish("/dnd/move/start",
a);d.add(n.body(),"dojoMove");d.add(this.node,"dojoMoveItem")},onMoveStop:function(a){b.publish("/dnd/move/stop",a);d.remove(n.body(),"dojoMove");d.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var e=a.node.style;e.left=b.l+"px";e.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(g,l,m,p){var d=m.getObject("dojo.dnd",
!0);d.getCopyKeyState=function(c){return c[g("mac")?"metaKey":"ctrlKey"]};d._uniqueId=0;d.getUniqueId=function(){var c;do c=l._scopeName+"Unique"+ ++d._uniqueId;while(p.byId(c));return c};d._empty={};d.isFormElement=function(c){c=c.target;3==c.nodeType&&(c=c.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+c.tagName.toLowerCase()+" ")};return d})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n){return l("dojo.dnd.Mover",[b],{constructor:function(b,f,h){function d(a){a.preventDefault();a.stopPropagation()}this.node=c.byId(b);this.marginBox={l:f.pageX,t:f.pageY};this.mouseButton=f.button;f=this.host=h;b=b.ownerDocument;this.events=[a(b,e.move,m.hitch(this,"onFirstMove")),a(b,e.move,m.hitch(this,"onMouseMove")),a(b,e.release,m.hitch(this,"onMouseUp")),a(b,"dragstart",d),a(b.body,"selectstart",d)];n.autoScrollStart(b);if(f&&f.onMoveStart)f.onMoveStart(this)},
onMouseMove:function(a){n.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(p("webkit")&&p("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var b=this.node.style,e,c=this.host;switch(b.position){case "relative":case "absolute":e=Math.round(parseFloat(b.left))||0;b=Math.round(parseFloat(b.top))||0;break;
default:b.position="absolute";b=k.getMarginBox(this.node);e=d.doc.body;var n=f.getComputedStyle(e),r=k.getMarginBox(e,n),n=k.getContentBox(e,n);e=b.l-(n.l-r.l);b=b.t-(n.t-r.t)}this.marginBox.l=e-this.marginBox.l;this.marginBox.t=b-this.marginBox.t;if(c&&c.onFirstMove)c.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){g.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),
function(g,l,m,p,d,c){var k={};g.setObject("dojo.dnd.autoscroll",k);k.getViewport=c.getBox;k.V_TRIGGER_AUTOSCROLL=32;k.H_TRIGGER_AUTOSCROLL=32;k.V_AUTOSCROLL_VALUE=16;k.H_AUTOSCROLL_VALUE=16;var f,b=m.doc,a=Infinity,e=Infinity;k.autoScrollStart=function(d){b=d;f=c.getBox(b);d=m.body(b).parentNode;a=Math.max(d.scrollHeight-f.h,0);e=Math.max(d.scrollWidth-f.w,0)};k.autoScroll=function(d){var n=f||c.getBox(b),l=m.body(b).parentNode,q=0,h=0;d.clientX<k.H_TRIGGER_AUTOSCROLL?q=-k.H_AUTOSCROLL_VALUE:d.clientX>
n.w-k.H_TRIGGER_AUTOSCROLL&&(q=Math.min(k.H_AUTOSCROLL_VALUE,e-l.scrollLeft));d.clientY<k.V_TRIGGER_AUTOSCROLL?h=-k.V_AUTOSCROLL_VALUE:d.clientY>n.h-k.V_TRIGGER_AUTOSCROLL&&(h=Math.min(k.V_AUTOSCROLL_VALUE,a-l.scrollTop));window.scrollBy(q,h)};k._validNodes={div:1,p:1,td:1};k._validOverflow={auto:1,scroll:1};k.autoScrollNodes=function(a){for(var b,e,c,h,f,v=0,g=0,u=a.target;u;){if(1==u.nodeType&&u.tagName.toLowerCase()in k._validNodes){c=d.getComputedStyle(u);f=c.overflowX.toLowerCase()in k._validOverflow;
h=c.overflowY.toLowerCase()in k._validOverflow;if(f||h)b=p.getContentBox(u,c),e=p.position(u,!0);if(f){c=Math.min(k.H_TRIGGER_AUTOSCROLL,b.w/2);f=a.pageX-e.x;if(l("webkit")||l("opera"))f+=m.body().scrollLeft;v=0;0<f&&f<b.w&&(f<c?v=-c:f>b.w-c&&(v=c),u.scrollLeft+=v)}if(h){h=Math.min(k.V_TRIGGER_AUTOSCROLL,b.h/2);c=a.pageY-e.y;if(l("webkit")||l("opera"))c+=m.body().scrollTop;g=0;0<c&&c<b.h&&(c<h?g=-h:c>b.h-h&&(g=h),u.scrollTop+=g)}if(v||g)return}try{u=u.parentNode}catch(y){u=null}}k.autoScroll(a)};
return k})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(g,l){var m=l.prototype.onMove;return g("dojo.dnd.TimedMoveable",l,{timeout:40,constructor:function(l,d){d||(d={});d.timeout&&("number"==typeof d.timeout&&0<=d.timeout)&&(this.timeout=d.timeout)},onMoveStop:function(g){g._timer&&(clearTimeout(g._timer),m.call(this,g,g._leftTop));l.prototype.onMoveStop.apply(this,arguments)},onMove:function(l,d){l._leftTop=d;if(!l._timer){var c=this;l._timer=setTimeout(function(){l._timer=
null;m.call(c,l,l._leftTop)},this.timeout)}}})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s){var v,x,u=new (l([r,k],{curNode:null,activeStack:[],constructor:function(){var a=f.hitch(this,function(a){m.isDescendant(this.curNode,a)&&this.set("curNode",
null);m.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});g.before(c,"empty",a);g.before(c,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,c){var h=this,f=a.document&&a.document.body;if(f){var n=e("pointer-events")?"pointerdown":e("MSPointer")?"MSPointerDown":e("touch-events")?"mousedown, touchstart":"mousedown",d=b(a.document,n,function(a){if(!a||!(a.target&&null==a.target.parentNode))h._onTouchNode(c||a.target,"mouse")}),s=b(f,
"focusin",function(a){if(a.target.tagName){var b=a.target.tagName.toLowerCase();"#document"==b||"body"==b||(q.isFocusable(a.target)?h._onFocusNode(c||a.target):h._onTouchNode(c||a.target))}}),k=b(f,"focusout",function(a){h._onBlurNode(c||a.target)});return{remove:function(){d.remove();s.remove();k.remove();f=d=s=k=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<v+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(f.hitch(this,function(){this.set("prevNode",
this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<x+100||(this._clearActiveWidgetsTimer=setTimeout(f.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,b){x=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);d.contains(a,"dijitPopup")&&(a=a.firstChild);var e=[];try{for(;a;){var c=p.get(a,
"dijitPopupParent");if(c)a=h.byId(c).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===n.body())break;a=t.get(a.ownerDocument).frameElement}else{var f=a.getAttribute&&a.getAttribute("widgetId"),q=f&&h.byId(f);q&&!("mouse"==b&&q.get("disabled"))&&e.unshift(f);a=a.parentNode}}}catch(s){}this._setStack(e,b)},_onFocusNode:function(a){a&&9!=a.nodeType&&(v=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),
a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var e=this.activeStack,c=e.length-1,f=a.length-1;if(a[f]!=e[c]){this.set("activeStack",a);var n;for(n=c;0<=n&&e[n]!=a[n];n--)if(c=h.byId(e[n]))c._hasBeenBlurred=!0,c.set("focused",!1),c._focusManager==this&&c._onBlur(b),this.emit("widget-blur",c,b);for(n++;n<=f;n++)if(c=h.byId(a[n]))c.set("focused",!0),c._focusManager==this&&c._onFocus(b),this.emit("widget-focus",c,b)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));
a(function(){var a=u.registerWin(t.get(document));e("ie")&&b(window,"unload",function(){a&&(a.remove(),a=null)})});s.focus=function(a){u.focus(a)};for(var y in u)/^_/.test(y)||(s.focus[y]="function"==typeof u[y]?f.hitch(u,y):u[y]);u.watch(function(a,b,e){s.focus[a]=e});return u})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(g,l,m,p,d,c,k){var f={_isElementShown:function(b){var a=p.get(b);return"hidden"!=
a.visibility&&"collapsed"!=a.visibility&&"none"!=a.display&&"hidden"!=m.get(b,"type")},hasDefaultTabStop:function(b){switch(b.nodeName.toLowerCase()){case "a":return m.has(b,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var a;try{var e=b.contentDocument;if("designMode"in e&&"on"==e.designMode)return!0;a=e.body}catch(c){try{a=b.contentWindow.document.body}catch(f){return!1}}return a&&("true"==a.contentEditable||a.firstChild&&"true"==
a.firstChild.contentEditable);default:return"true"==b.contentEditable}},effectiveTabIndex:function(b){return m.get(b,"disabled")?void 0:m.has(b,"tabIndex")?+m.get(b,"tabIndex"):f.hasDefaultTabStop(b)?0:void 0},isTabNavigable:function(b){return 0<=f.effectiveTabIndex(b)},isFocusable:function(b){return-1<=f.effectiveTabIndex(b)},_getTabNavigable:function(b){function a(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var e,d,n,k,q,h,s=
{},l=f._isElementShown,g=f.effectiveTabIndex,p=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(1!=b.nodeType||9>=c("ie")&&"HTML"!==b.scopeName||!l(b))){var f=g(b);if(0<=f){if(0==f)e||(e=b),d=b;else if(0<f){if(!n||f<k)k=f,n=b;if(!q||f>=h)h=f,q=b}f=a(b);m.get(b,"checked")&&f&&(s[f]=b)}"SELECT"!=b.nodeName.toUpperCase()&&p(b)}};l(b)&&p(b);return{first:s[a(e)]||e,last:s[a(d)]||d,lowest:s[a(n)]||n,highest:s[a(q)]||q}},getFirstInTabbingOrder:function(b,a){var e=f._getTabNavigable(l.byId(b,a));return e.lowest?
e.lowest:e.first},getLastInTabbingOrder:function(b,a){var e=f._getTabNavigable(l.byId(b,a));return e.last?e.last:e.highest}};d.mixin(k,f);return f})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(g,l,m,p,d){var c={};g.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(d){c[d]=p[d]});m.mixin(c,{defaultDuration:l.defaultDuration||200});m.mixin(d,c);return d})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n){function t(){}function q(a){return function(b,e,c,f){return b&&"string"==typeof e&&b[e]==t?b.on(e.substring(2).toLowerCase(),k.hitch(c,f)):a.apply(m,arguments)}}g.around(m,"connect",q);c.connect&&g.around(c,"connect",q);g=p("dijit._Widget",[e,r,n],{onClick:t,onDblClick:t,onKeyDown:t,onKeyPress:t,onKeyUp:t,onMouseDown:t,onMouseMove:t,onMouseOut:t,onMouseOver:t,onMouseLeave:t,onMouseEnter:t,onMouseUp:t,constructor:function(a){this._toConnect={};for(var b in a)this[b]===
t&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===t?m.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,b){c.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,b)},attr:function(a,b){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){c.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?f("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});d("dijit-legacy-requires")&&b(0,function(){require(["dijit/_base"])});
return g})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(g,l,m,p,d,c){g=p("dijit._OnDijitClickMixin",null,{connect:function(d,f,b){return this.inherited(arguments,[d,"ondijitclick"==f?c:f,b])}});g.a11yclick=c;return g})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(g,l,m,p){function d(c){if((c.keyCode===g.ENTER||c.keyCode===g.SPACE)&&!/input|button|textarea/i.test(c.target.nodeName))for(c=
c.target;c;c=c.parentNode)if(c.dojoClick)return!0}var c;m(document,"keydown",function(f){d(f)?(c=f.target,f.preventDefault()):c=null});m(document,"keyup",function(f){d(f)&&f.target==c&&(c=null,m.emit(f.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:f.ctrlKey,shiftKey:f.shiftKey,metaKey:f.metaKey,altKey:f.altKey,_origType:f.type}))});var k=function(c,b){c.dojoClick=!0;return m(c,"click",b)};k.click=k;k.press=function(c,b){var a=m(c,p.press,function(a){("mousedown"!=a.type||l.isLeft(a))&&b(a)}),e=
m(c,"keydown",function(a){(a.keyCode===g.ENTER||a.keyCode===g.SPACE)&&b(a)});return{remove:function(){a.remove();e.remove()}}};k.release=function(c,b){var a=m(c,p.release,function(a){("mouseup"!=a.type||l.isLeft(a))&&b(a)}),e=m(c,"keyup",function(a){(a.keyCode===g.ENTER||a.keyCode===g.SPACE)&&b(a)});return{remove:function(){a.remove();e.remove()}}};k.move=p.move;return k})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(g,l,m,p){p.extend(l,
{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return m("dijit._FocusMixin",null,{_focusManager:g})})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(g,l,m,p,d){var c=d.doc.documentElement;d=p("ie");var k=p("trident"),f=p("opera"),b=Math.floor,a=p("ff"),e=g.boxModel.replace(/-/,""),f={dj_quirks:p("quirks"),dj_opera:f,dj_khtml:p("khtml"),dj_webkit:p("webkit"),
dj_safari:p("safari"),dj_chrome:p("chrome"),dj_edge:p("edge"),dj_gecko:p("mozilla"),dj_ios:p("ios"),dj_android:p("android")};d&&(f.dj_ie=!0,f["dj_ie"+b(d)]=!0,f.dj_iequirks=p("quirks"));k&&(f.dj_trident=!0,f["dj_trident"+b(k)]=!0);a&&(f["dj_ff"+b(a)]=!0);f["dj_"+e]=!0;var r="",n;for(n in f)f[n]&&(r+=n+" ");c.className=l.trim(c.className+" "+r);m(function(){if(!g.isBodyLtr()){var a="dj_rtl dijitRtl "+r.replace(/ /g,"-rtl ");c.className=l.trim(c.className+" "+a+"dj_rtl dijitRtl "+r.replace(/ /g,"-rtl "))}});
return p})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(g,l,m,p){m(function(){l("highcontrast")&&g.add(p.body(),"dijit_a11y")});return l})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(g,l,m,p,d,c,k){d.add("highcontrast",function(){var c=k.doc.createElement("div");c.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+
(l.blankGif||g.toUrl("./resources/blank.gif"))+'");';k.body().appendChild(c);var b=p.getComputedStyle(c),a=b.backgroundImage,b=b.borderTopColor==b.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);8>=d("ie")?c.outerHTML="":k.body().removeChild(c);return b});c(function(){d("highcontrast")&&m.add(k.body(),"dj_a11y")});return d})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r){l=l("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);g.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,c.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(e){b=b.concat(g.map(b,function(a){return a+e}),"dijit"+e)}var b=this.baseClass.split(" ");
this.isLeftToRight()||a("Rtl");var e="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(e);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var e=this.stateNode||this.domNode,c={};g.forEach(e.className.split(" "),function(a){c[a]=!0});"_stateClasses"in this&&g.forEach(this._stateClasses,function(a){delete c[a]});g.forEach(b,
function(a){c[a]=!0});var f=[],d;for(d in c)f.push(d);e.className=f.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,e){function c(e){p.toggle(a,b+"Active",e)}if(!this.disabled&&!this.readOnly)switch(e.type){case "mouseover":case "MSPointerOver":case "pointerover":p.toggle(a,b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":p.toggle(a,b+"Hover",!1);c(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":c(!0);
break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":c(!1);break;case "focus":case "focusin":p.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":p.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});f(function(){function c(a,b,e){if(!e||!m.isDescendant(e,b))for(;b&&b!=e;b=b.parentNode)if(b._cssState){var f=r.getEnclosingWidget(b);f&&(b==f.domNode?f._cssMouseEvent(a):f._subnodeCssMouseEvent(b,b._cssState,a))}}var f=a.body(),d;k(f,
b.over,function(a){c(a,a.target,a.relatedTarget)});k(f,b.out,function(a){c(a,a.target,a.relatedTarget)});k(f,e.press,function(a){d=a.target;c(a,d)});k(f,e.release,function(a){c(a,d);d=null});k(f,"focusin, focusout",function(a){var b=a.target;if(b._cssState&&!b.getAttribute("widgetId")){var e=r.getEnclosingWidget(b);e&&e._subnodeCssMouseEvent(b,b._cssState,a)}})});return l})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),
function(g,l,m,p,d,c){return l("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(c){var f=[];g.forEach(c||this.getChildren(),function(b){"value"in b?f.push(b):f=f.concat(this._getDescendantFormWidgets(b.getChildren()))},this);return f},reset:function(){g.forEach(this._getDescendantFormWidgets(),function(c){c.reset&&c.reset()})},validate:function(){var d=!1;return g.every(g.map(this._getDescendantFormWidgets(),function(f){f._hasBeenBlurred=!0;var b=f.disabled||!f.validate||
f.validate();!b&&!d&&(c.scrollIntoView(f.containerNode||f.domNode),f.focus(),d=!0);return b}),function(c){return c})},setValues:function(c){m.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",c)},_setValueAttr:function(c){var f={};g.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(f[a.name]||(f[a.name]=[])).push(a)});for(var b in f)if(f.hasOwnProperty(b)){var a=f[b],e=p.getObject(b,!1,c);void 0!==e&&(e=[].concat(e),
"boolean"==typeof a[0].checked?g.forEach(a,function(a){a.set("value",-1!=g.indexOf(e,a._get("value")))}):a[0].multiple?a[0].set("value",e):g.forEach(a,function(a,b){a.set("value",e[b])}))}},getValues:function(){m.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var c={};g.forEach(this._getDescendantFormWidgets(),function(f){var b=f.name;if(b&&!f.disabled){var a=f.get("value");"boolean"==typeof f.checked?
/Radio/.test(f.declaredClass)?!1!==a?p.setObject(b,a,c):(a=p.getObject(b,!1,c),void 0===a&&p.setObject(b,null,c)):(f=p.getObject(b,!1,c),f||(f=[],p.setObject(b,f,c)),!1!==a&&f.push(a)):(f=p.getObject(b,!1,c),"undefined"!=typeof f?p.isArray(f)?f.push(a):p.setObject(b,[f,a],c):p.setObject(b,a,c))}});return c},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var c=g.map(this._descendants,function(c){return c.get("state")||""});return 0<=g.indexOf(c,"Error")?
"Error":0<=g.indexOf(c,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(c){this._descendants=this._getDescendantFormWidgets();g.forEach(this._descendants,function(c){c._started||c.startup()});c||this._onChildChange()},_onChildChange:function(c){(!c||"state"==c||"disabled"==c)&&this._set("state",this._getState());if(!c||"value"==c||"disabled"==c||"checked"==c)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;
this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var c=this;this.own(d(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(f){f.target!=c.domNode&&c._onChildChange(f.type.replace("attrmodified-",""))}));this.watch("state",function(c,b,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},
"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(g,l){return g("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var g=l._getTabNavigable(this.domNode);this._firstFocusItem=g.lowest||g.first||this.closeButtonNode||this.domNode;this._lastFocusItem=g.last||g.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r){var n=g("dijit.DialogUnderlay",[f,b],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){p.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.own(c(this.domNode,"keydown",l.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,b=this.domNode.style;b.display="none";var e=k.getBox(this.ownerDocument);b.top=e.t+"px";b.left=e.l+"px";a.width=e.w+"px";a.height=e.h+"px";b.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new a(this.domNode);var b=k.get(this.ownerDocument);this._modalConnects=[e.on("resize",l.hitch(this,"layout")),c(b,"scroll",
l.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();this.inherited(arguments)},_onKeyDown:function(){}});n.show=function(a,b){var e=n._singleton;!e||e._destroyed?e=r._underlay=n._singleton=new n(a):a&&e.set(a);d.set(e.domNode,"zIndex",b);e.open||e.show()};n.hide=function(){var a=
n._singleton;a&&!a._destroyed&&a.hide()};return n})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(g,l,m,p,d,c,k,f){f.add("config-bgIframe",(f("ie")||f("trident"))&&!/IEMobile\/10\.0/.test(navigator.userAgent));var b=new function(){var a=[];this.pop=function(){var b;a.length?(b=a.pop(),b.style.display=""):(9>f("ie")?(b="\x3ciframe src\x3d'"+(m.dojoBlankHtmlUrl||g.toUrl("dojo/resources/blank.html")||
'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",b=document.createElement(b)):(b=p.create("iframe"),b.src='javascript:""',b.className="dijitBackgroundIframe",b.setAttribute("role","presentation"),d.set(b,"opacity",0.1)),b.tabIndex=-1);return b};this.push=function(b){b.style.display="none";a.push(b)}};l.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(f("config-bgIframe")){var e=this.iframe=
b.pop();a.appendChild(e);7>f("ie")||f("quirks")?(this.resize(a),this._conn=k(a,"resize",c.hitch(this,"resize",a))):d.set(e,{width:"100%",height:"100%"})}};c.extend(l.BackgroundIframe,{resize:function(a){this.iframe&&d.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),b.push(this.iframe),delete this.iframe)}});return l.BackgroundIframe})},"dijit/Viewport":function(){define(["dojo/Evented",
"dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(g,l,m,p,d){var c=new g,k;m(function(){var f=d.getBox();c._rlh=l(window,"resize",function(){var a=d.getBox();f.h==a.h&&f.w==a.w||(f=a,c.emit("resize"))});if(8==p("ie")){var b=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=b&&(b=screen.deviceXDPI,c.emit("resize"))},500)}p("ios")&&(l(document,"focusin",function(a){k=a.target}),l(document,"focusout",function(a){k=null}))});c.getEffectiveBox=function(c){c=d.getBox(c);var b=k&&
k.tagName&&k.tagName.toLowerCase();if(p("ios")&&k&&!k.readOnly&&("textarea"==b||"input"==b&&/^(color|email|number|password|search|tel|text|url)$/.test(k.type)))c.h*=0==orientation||180==orientation?0.66:0.4,b=k.getBoundingClientRect(),c.h=Math.max(c.h,b.top+b.height);return c};return c})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s){return a("dijit.layout.ContentPane",[m,p,d],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:g._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,b,e){var c=new e(a,b);return!c.href&&c._contentSetter&&c._contentSetter.parseDeferred&&!c._contentSetter.parseDeferred.isFulfilled()?c._contentSetter.parseDeferred.then(function(){return c}):c},create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){b=r.byId(b);for(var e=b.ownerDocument.createDocumentFragment();b.firstChild;)e.appendChild(b.firstChild);
a=l.delegate(a,{content:e})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=h.getLocalization("dijit","loading",this.lang);this.loadingMessage=c.substitute(this.loadingMessage,a);this.errorMessage=c.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&b.forEach(this._contentSetter.parseResults,
function(a){!a._started&&(!a._destroyed&&l.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},_startChildren:function(){b.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&l.isFunction(a.startup))&&(a.startup(),a._started=!0)});this._contentSetter&&b.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&l.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},setHref:function(a){g.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new e(l.hitch(this,"cancel"));this.onLoadDeferred.then(l.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){g.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new e(l.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(l.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new e(l.hitch(this,"cancel"));this.onLoadDeferred.then(l.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
l.isObject(this.ioArgs)&&l.mixin(b,this.ioArgs);var e=this._xhrDfd=(this.ioMethod||q.get)(b),c;e.then(function(b){c=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(e){a._onError("Content",e)}},function(b){e.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return c});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){}},_onUnloadHandler:function(){this._set("isLoaded",
!1);try{this.onUnload()}catch(a){}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var e=this._contentSetter;b.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});e&&(b.forEach(e.parseResults,function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete e.parseResults);a||t.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();
var e=this._contentSetter;e&&e instanceof k._ContentSetter||(e=this._contentSetter=new k._ContentSetter({node:this.containerNode,_onError:l.hitch(this,this._onError),onContentError:l.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){}})}));var c=l.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||
{}),c=e.set(l.isObject(a)&&a.domNode?a.domNode:a,c),h=this;return s(c&&c.then?c:e.parseDeferred,function(){delete h._contentSetterParams;b||(h._started&&(h._startChildren(),h._scheduleLayout()),h._onLoadHandler(a))})},_onError:function(a,b,e){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);e||a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},
onDownloadEnd:function(){}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(g,l,m,p){return l("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(d,c){var k=this.containerNode;if(0<c){for(k=k.firstChild;0<c;)1==k.nodeType&&c--,k=k.nextSibling;k?c="before":(k=this.containerNode,c="last")}m.place(d.domNode,k,c);this._started&&
!d._started&&d.startup()},removeChild:function(d){"number"==typeof d&&(d=this.getChildren()[d]);d&&(d=d.domNode)&&d.parentNode&&d.parentNode.removeChild(d)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(d,c){var k=this.getChildren(),f=g.indexOf(k,d);return k[f+c]},getIndexOfChild:function(d){return g.indexOf(this.getChildren(),d)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),
function(g,l,m,p,d,c,k,f,b,a){return l("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(b.on("resize",c.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],b=!1;k("\x3e *",this.containerNode).some(function(c){var d=
f.byNode(c);d&&d.resize?a.push(d):!/script|link|style/i.test(c.nodeName)&&c.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;m.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(b,f){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();
b&&p.setMarginBox(this.domNode,b);var d=this.containerNode;if(d===this.domNode){var k=f||{};c.mixin(k,b||{});if(!("h"in k)||!("w"in k))k=c.mixin(p.getMarginBox(d),k);this._contentBox=a.marginBox2contentBox(d,k)}else this._contentBox=p.getContentBox(d);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||p.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),
b,c=0;b=a[c++];)b.resize&&b.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!m.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/layout/utils":function(){define(["dojo/_base/array",
"dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(g,l,m,p,d){function c(c,b){var a=c.resize?c.resize(b):m.setMarginBox(c.domNode,b);a?d.mixin(c,a):(d.mixin(c,m.getMarginBox(c.domNode)),d.mixin(c,b))}var k={marginBox2contentBox:function(c,b){var a=p.getComputedStyle(c),e=m.getMarginExtents(c,a),d=m.getPadBorderExtents(c,a);return{l:p.toPixelValue(c,a.paddingLeft),t:p.toPixelValue(c,a.paddingTop),w:b.w-(e.w+d.w),h:b.h-(e.h+d.h)}},layoutChildren:function(f,b,a,e,k){b=
d.mixin({},b);l.add(f,"dijitLayoutContainer");a=g.filter(a,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(g.filter(a,function(a){return"center"==a.region||"client"==a.layoutAlign}));g.forEach(a,function(a){var f=a.domNode,d=a.region||a.layoutAlign;if(!d)throw Error("No region setting for "+a.id);var h=f.style;h.left=b.l+"px";h.top=b.t+"px";h.position="absolute";l.add(f,"dijitAlign"+(d.substring(0,1).toUpperCase()+d.substring(1)));f={};e&&e==a.id&&(f["top"==a.region||"bottom"==
a.region?"h":"w"]=k);"leading"==d&&(d=a.isLeftToRight()?"left":"right");"trailing"==d&&(d=a.isLeftToRight()?"right":"left");"top"==d||"bottom"==d?(f.w=b.w,c(a,f),b.h-=a.h,"top"==d?b.t+=a.h:h.top=b.t+b.h+"px"):"left"==d||"right"==d?(f.h=b.h,c(a,f),b.w-=a.w,"left"==d?b.l+=a.w:h.left=b.l+b.w+"px"):("client"==d||"center"==d)&&c(a,b)})}};d.setObject("dijit.layout.utils",k);return k})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),
function(g,l,m,p,d,c,k){var f=0,b={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:c.empty,_setNodeContent:function(a,b){c.empty(a);if(b)if("string"==typeof b&&(b=c.toDom(b,a.ownerDocument)),!b.nodeType&&l.isArrayLike(b))for(var f=b.length,d=0;d<b.length;d=f==b.length?d+1:0)c.place(b[d],a,"last");else c.place(b,a,"last");return a},_ContentSetter:p("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,
parseContent:!1,parserScope:g._scopeName,startup:!0,constructor:function(a,b){l.mixin(this,a||{});b=this.node=d.byId(this.node||b);this.id||(this.id=["Setter",b?b.id||b.tagName:"",f++].join("_"))},set:function(a,b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?c:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=b._setNodeContent(a,this.content)}catch(e){var c=
this.onContentError(e);try{a.innerHTML=c}catch(f){}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(m.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);c.empty(this.node)},onBegin:function(){var a=this.content;if(l.isString(a)&&(this.cleanContent&&(a=b._secureForInnerHtml(a)),this.extractContent)){var e=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
e&&(a=e[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};m.forEach(["dir",
"lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=k.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a},function(a){c._onError("Content",a,"Error parsing in _ContentSetter#"+c.id)})}catch(f){this._onError("Content",f,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,e,c){a=this["on"+a+"Error"].call(this,e);c||a&&b._setNodeContent(this.node,a,!0)}}),set:function(a,e,c){void 0==
e&&(e="");return c?(new b._ContentSetter(l.mixin(c,{content:e,node:a}))).set():b._setNodeContent(a,e,!0)}};l.setObject("dojo.html",b);return b})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h){function s(a){return eval("("+a+")")}function v(a){var b=a._nameCaseMap,e=a.prototype;if(!b||b._extendCnt<
u){var b=a._nameCaseMap={},c;for(c in e)"_"!==c.charAt(0)&&(b[c.toLowerCase()]=c);b._extendCnt=u}return b}function x(a,b){var e=a.join();if(!y[e]){for(var c=[],h=0,f=a.length;h<f;h++){var d=a[h];c[c.length]=y[d]=y[d]||m.getObject(d)||~d.indexOf("/")&&(b?b(d):g(d))}h=c.shift();y[e]=c.length?h.createSubclass?h.createSubclass(c):h.extend.apply(h,c):h}return y[e]}new Date("X");var u=0;b.after(m,"extend",function(){u++},!0);var y={},z={_clearCache:function(){u++;y={}},_functionFromScript:function(a,b){var e=
"",c="",h=a.getAttribute(b+"args")||a.getAttribute("args"),f=a.getAttribute("with"),h=(h||"").split(/\s*,\s*/);f&&f.length&&p.forEach(f.split(/\s*,\s*/),function(a){e+="with("+a+"){";c+="}"});return new Function(h,e+a.innerHTML+c)},instantiate:function(a,b,e){b=b||{};e=e||{};var c=(e.scope||l._scopeName)+"Type",h="data-"+(e.scope||l._scopeName)+"-",f=h+"type",d=h+"mixins",n=[];p.forEach(a,function(a){var e=c in b?b[c]:a.getAttribute(f)||a.getAttribute(c);if(e){var h=a.getAttribute(d),e=h?[e].concat(h.split(/\s*,\s*/)):
[e];n.push({node:a,types:e})}});return this._instantiate(n,b,e)},_instantiate:function(b,e,c,h){function f(a){!e._started&&!c.noStart&&p.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}b=p.map(b,function(a){var b=a.ctor||x(a.types,c.contextRequire);if(!b)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(b,a.node,e,c,a.scripts,a.inherited)},this);return h?a(b).then(f):f(b)},construct:function(a,c,h,d,k,r){function g(a){U&&
m.setObject(U,a);for(B=0;B<T.length;B++)b[T[B].advice||"after"](a,T[B].method,m.hitch(a,T[B].func),!0);for(B=0;B<P.length;B++)P[B].call(a);for(B=0;B<S.length;B++)a.watch(S[B].prop,S[B].func);for(B=0;B<V.length;B++)q(a,V[B].event,V[B].func);return a}var u=a&&a.prototype;d=d||{};var y={};d.defaults&&m.mixin(y,d.defaults);r&&m.mixin(y,r);var x;n("dom-attributes-explicit")?x=c.attributes:n("dom-attributes-specified-flag")?x=p.filter(c.attributes,function(a){return a.specified}):(r=(/^input$|^img$/i.test(c.nodeName)?
c:c.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),x=p.map(r.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==c.nodeName&&"value"==a||"enctype"==b?c.getAttribute(b):c.getAttributeNode(b).value}}));var z=d.scope||l._scopeName;r="data-"+z+"-";var C={};"dojo"!==z&&(C[r+"props"]="data-dojo-props",C[r+"type"]="data-dojo-type",C[r+"mixins"]="data-dojo-mixins",C[z+"type"]="dojoType",C[r+"id"]="data-dojo-id");
for(var B=0,D,z=[],U,J;D=x[B++];){var K=D.name,O=K.toLowerCase();D=D.value;switch(C[O]||O){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":J=D;break;case "data-dojo-id":case "jsid":U=D;break;case "data-dojo-attach-point":case "dojoattachpoint":y.dojoAttachPoint=D;break;case "data-dojo-attach-event":case "dojoattachevent":y.dojoAttachEvent=D;break;case "class":y["class"]=c.className;break;case "style":y.style=c.style&&c.style.cssText;break;default:if(K in
u||(K=v(a)[O]||K),K in u)switch(typeof u[K]){case "string":y[K]=D;break;case "number":y[K]=D.length?Number(D):NaN;break;case "boolean":y[K]="false"!=D.toLowerCase();break;case "function":""===D||-1!=D.search(/[^\w\.]+/i)?y[K]=new Function(D):y[K]=m.getObject(D,!1)||new Function(D);z.push(K);break;default:O=u[K],y[K]=O&&"length"in O?D?D.split(/\s*,\s*/):[]:O instanceof Date?""==D?new Date(""):"now"==D?new Date:e.fromISOString(D):O instanceof f?l.baseUrl+D:s(D)}else y[K]=D}}for(x=0;x<z.length;x++)C=
z[x].toLowerCase(),c.removeAttribute(C),c[C]=null;if(J)try{J=s.call(d.propsThis,"{"+J+"}"),m.mixin(y,J)}catch(R){throw Error(R.toString()+" in data-dojo-props\x3d'"+J+"'");}m.mixin(y,h);k||(k=a&&(a._noScript||u._noScript)?[]:t("\x3e script[type^\x3d'dojo/']",c));var T=[],P=[],S=[],V=[];if(k)for(B=0;B<k.length;B++)C=k[B],c.removeChild(C),h=C.getAttribute(r+"event")||C.getAttribute("event"),d=C.getAttribute(r+"prop"),J=C.getAttribute(r+"method"),z=C.getAttribute(r+"advice"),x=C.getAttribute("type"),
C=this._functionFromScript(C,r),h?"dojo/connect"==x?T.push({method:h,func:C}):"dojo/on"==x?V.push({event:h,func:C}):y[h]=C:"dojo/aspect"==x?T.push({method:J,advice:z,func:C}):"dojo/watch"==x?S.push({prop:d,func:C}):P.push(C);a=(k=a.markupFactory||u.markupFactory)?k(y,c,a):new a(y,c);return a.then?a.then(g):g(a)},scan:function(a,b){function e(a){if(!a.inherited){a.inherited={};var b=a.node,c=e(a.parent),b={dir:b.getAttribute("dir")||c.dir,lang:b.getAttribute("lang")||c.lang,textDir:b.getAttribute(k)||
c.textDir},h;for(h in b)b[h]&&(a.inherited[h]=b[h])}return a.inherited}var c=[],h=[],f={},d=(b.scope||l._scopeName)+"Type",q="data-"+(b.scope||l._scopeName)+"-",s=q+"type",k=q+"textdir",q=q+"mixins",m=a.firstChild,v=b.inherited;if(!v){var t=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&t(a.parentNode,b)},v={dir:t(a,"dir"),lang:t(a,"lang"),textDir:t(a,k)},u;for(u in v)v[u]||delete v[u]}for(var v={inherited:v},y,z;;)if(m)if(1!=m.nodeType)m=m.nextSibling;else if(y&&"script"==
m.nodeName.toLowerCase())(K=m.getAttribute("type"))&&/^dojo\/\w/i.test(K)&&y.push(m),m=m.nextSibling;else if(z)m=m.nextSibling;else{var K=m.getAttribute(s)||m.getAttribute(d);u=m.firstChild;if(!K&&(!u||3==u.nodeType&&!u.nextSibling))m=m.nextSibling;else{z=null;if(K){var O=m.getAttribute(q);y=O?[K].concat(O.split(/\s*,\s*/)):[K];try{z=x(y,b.contextRequire)}catch(R){}z||p.forEach(y,function(a){~a.indexOf("/")&&!f[a]&&(f[a]=!0,h[h.length]=a)});O=z&&!z.prototype._noScript?[]:null;v={types:y,ctor:z,parent:v,
node:m,scripts:O};v.inherited=e(v);c.push(v)}else v={node:m,scripts:y,parent:v};y=O;z=m.stopParser||z&&z.prototype.stopParser&&!b.template;m=u}}else{if(!v||!v.node)break;m=v.node.nextSibling;z=!1;v=v.parent;y=v.scripts}var T=new r;h.length?(n("dojo-debug-messages"),(b.contextRequire||g)(h,function(){T.resolve(p.filter(c,function(a){if(!a.ctor)try{a.ctor=x(a.types,b.contextRequire)}catch(e){}for(var c=a.parent;c&&!c.types;)c=c.parent;var h=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(h&&h.stopParser&&
!b.template);a.instantiate=!c||c.instantiate&&c.instantiateChildren;return a.instantiate}))})):T.resolve(c);return T.promise},_require:function(a,b){var e=s("{"+a.innerHTML+"}"),c=[],h=[],f=new r,d=b&&b.contextRequire||g,n;for(n in e)c.push(n),h.push(e[n]);d(h,function(){for(var a=0;a<c.length;a++)m.setObject(c[a],arguments[a]);f.resolve(arguments)});return f.promise},_scanAmd:function(a,b){var e=new r,c=e.promise;e.resolve(!0);var h=this;t("script[type\x3d'dojo/require']",a).forEach(function(a){c=
c.then(function(){return h._require(a,b)});a.parentNode.removeChild(a)});return c},parse:function(a,b){a&&("string"!=typeof a&&!("nodeType"in a))&&(b=a,a=b.rootNode);var e=a?c.byId(a):k.body();b=b||{};var h=b.template?{template:!0}:{},f=[],d=this,n=this._scanAmd(e,b).then(function(){return d.scan(e,b)}).then(function(a){return d._instantiate(a,h,b,!0)}).then(function(a){return f=f.concat(a)}).otherwise(function(a){throw a;});m.mixin(f,n);return f}};l.parser=z;d.parseOnLoad&&h(100,z,"parse");return z})},
"dojo/_base/url":function(){define(["./kernel"],function(g){var l=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,m=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,p=function(){for(var d=arguments,c=[d[0]],k=1;k<d.length;k++)if(d[k]){var f=new p(d[k]+""),c=new p(c[0]+"");if(""==f.path&&!f.scheme&&!f.authority&&!f.query)null!=f.fragment&&(c.fragment=f.fragment),f=c;else if(!f.scheme&&(f.scheme=c.scheme,!f.authority&&(f.authority=c.authority,"/"!=f.path.charAt(0)))){for(var c=
(c.path.substring(0,c.path.lastIndexOf("/")+1)+f.path).split("/"),b=0;b<c.length;b++)"."==c[b]?b==c.length-1?c[b]="":(c.splice(b,1),b--):0<b&&(!(1==b&&""==c[0])&&".."==c[b]&&".."!=c[b-1])&&(b==c.length-1?(c.splice(b,1),c[b-1]=""):(c.splice(b-1,2),b-=2));f.path=c.join("/")}c=[];f.scheme&&c.push(f.scheme,":");f.authority&&c.push("//",f.authority);c.push(f.path);f.query&&c.push("?",f.query);f.fragment&&c.push("#",f.fragment)}this.uri=c.join("");d=this.uri.match(l);this.scheme=d[2]||(d[1]?"":null);this.authority=
d[4]||(d[3]?"":null);this.path=d[5];this.query=d[7]||(d[6]?"":null);this.fragment=d[9]||(d[8]?"":null);null!=this.authority&&(d=this.authority.match(m),this.user=d[3]||null,this.password=d[4]||null,this.host=d[6]||d[7],this.port=d[9]||null)};p.prototype.toString=function(){return this.uri};return g._Url=p})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(g,l){var m={};g.setObject("dojo.date.stamp",m);m.fromISOString=function(g,d){m._isoRegExp||(m._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);
var c=m._isoRegExp.exec(g),k=null;if(c){c.shift();c[1]&&c[1]--;c[6]&&(c[6]*=1E3);d&&(d=new Date(d),l.forEach(l.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return d["get"+a]()}),function(a,b){c[b]=c[b]||a}));k=new Date(c[0]||1970,c[1]||0,c[2]||1,c[3]||0,c[4]||0,c[5]||0,c[6]||0);100>c[0]&&k.setFullYear(c[0]||1970);var f=0,b=c[7]&&c[7].charAt(0);"Z"!=b&&(f=60*(c[8]||0)+(Number(c[9])||0),"-"!=b&&(f*=-1));b&&(f-=k.getTimezoneOffset());f&&k.setTime(k.getTime()+6E4*
f)}return k};m.toISOString=function(l,d){var c=function(a){return 10>a?"0"+a:a};d=d||{};var k=[],f=d.zulu?"getUTC":"get",b="";"time"!=d.selector&&(b=l[f+"FullYear"](),b=["0000".substr((b+"").length)+b,c(l[f+"Month"]()+1),c(l[f+"Date"]())].join("-"));k.push(b);if("date"!=d.selector){b=[c(l[f+"Hours"]()),c(l[f+"Minutes"]()),c(l[f+"Seconds"]())].join(":");f=l[f+"Milliseconds"]();d.milliseconds&&(b+="."+(100>f?"0":"")+c(f));if(d.zulu)b+="Z";else if("time"!=d.selector)var f=l.getTimezoneOffset(),a=Math.abs(f),
b=b+((0<f?"-":"+")+c(Math.floor(a/60))+":"+c(a%60));k.push(b)}return k.join("T")};return m})},"dijit/_ConfirmDialogMixin":function(){define(["dojo/_base/declare","./_WidgetsInTemplateMixin","dojo/i18n!./nls/common","dojo/text!./templates/actionBar.html","./form/Button"],function(g,l,m,p){return g("dijit._ConfirmDialogMixin",l,{actionBarTemplate:p,buttonOk:m.buttonOk,_setButtonOkAttr:{node:"okButton",attribute:"label"},buttonCancel:m.buttonCancel,_setButtonCancelAttr:{node:"cancelButton",attribute:"label"}})})},
"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(g,l,m,p,d){return m("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var c=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);d.parse(c,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,
lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(p.hitch(this,function(c){this._startupWidgets=c;for(var f=0;f<c.length;f++)this._processTemplateNode(c[f],function(b,a){return b[a]},function(b,a,e){return a in b?b.connect(b,a,e):b.on(a,e,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
}},_processTemplateNode:function(c,d,f){return d(c,"dojoType")||d(c,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){g.forEach(this._startupWidgets,function(c){c&&(!c._started&&c.startup)&&c.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),
function(g,l,m,p,d,c,k,f,b,a){p("dijit-legacy-requires")&&k(0,function(){g(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});k=l("dijit.form.Button"+(p("dojo-bidi")?"_NoBidi":""),[f,b],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:a,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){if(a&&(!this.params||!("label"in
this.params)))if(a=c.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&m.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){d.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=c.trim(this.containerNode.innerText||this.containerNode.textContent||
""))}});p("dojo-bidi")&&(k=l("dijit.form.Button",k,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));return k})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(g,
l,m,p,d,c,k,f){l("dijit-legacy-requires")&&p(0,function(){require(["dijit/form/_FormValueWidget"])});return g("dijit.form._FormWidget",[d,k,c,f],{setDisabled:function(b){m.deprecated("setDisabled("+b+") is deprecated. Use set('disabled',"+b+") instead.","","2.0");this.set("disabled",b)},setValue:function(b){m.deprecated("dijit.form._FormWidget:setValue("+b+") is deprecated.  Use set('value',"+b+") instead.","","2.0");this.set("value",b)},getValue:function(){m.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.",
"","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!l("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(g,l,m,p,d,c,k,f,b,a){return l("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text",
"aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(b){this._set("disabled",b);/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)?(m.set(this.focusNode,"disabled",b),f("trident")&&"readOnly"in this&&m.set(this.focusNode,"readonly",b||this.readOnly)):this.focusNode.setAttribute("aria-disabled",b?"true":"false");this.valueNode&&m.set(this.valueNode,
"disabled",b);b?(this._set("hovering",!1),this._set("active",!1),b="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",g.forEach(d.isArray(b)?b:[b],function(b){b=this[b];f("webkit")||a.hasDefaultTabStop(b)?b.setAttribute("tabIndex","-1"):b.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var c=this.own(k(this.focusNode,"focus",function(){l.remove();
c.remove()}))[0],n=f("pointer-events")?"pointerup":f("MSPointer")?"MSPointerUp":f("touch-events")?"touchend, mouseup":"mouseup",l=this.own(k(this.ownerDocumentBody,n,d.hitch(this,function(a){l.remove();c.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){b.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=p.get(this.domNode,"display")},focus:function(){if(!this.disabled&&
this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||
b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare",
"dojo/dom","dojo/has","../registry"],function(g,l,m,p){var d=g("dijit.form._ButtonMixin"+(m("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(c){c.stopPropagation();c.preventDefault();this.disabled||this.valueNode.click(c);return!1},_onClick:function(c){if(this.disabled)return c.stopPropagation(),c.preventDefault(),!1;!1===this.onClick(c)&&c.preventDefault();var d=c.defaultPrevented;if(!d&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var f=this.domNode;f.parentNode;f=
f.parentNode){var b=p.byNode(f);if(b&&"function"==typeof b._onSubmit){b._onSubmit(c);c.preventDefault();d=!0;break}}return!d},postCreate:function(){this.inherited(arguments);l.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(c){this._set("label",c);(this.containerNode||this.focusNode).innerHTML=c}});m("dojo-bidi")&&(d=g("dijit.form._ButtonMixin",d,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return d})},
"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(g,l,m,p,d){return l("dijit.layout.TabContainer",m,{useMenu:!0,useSlider:!0,controllerWidget:"",_makeController:function(c){var d=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?g.getObject(this.controllerWidget):this.controllerWidget)({id:this.id+"_tablist",ownerDocument:this.ownerDocument,
dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":d,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},c)},postMixInProperties:function(){this.inherited(arguments);this.controllerWidget||(this.controllerWidget=("top"==this.tabPosition||"bottom"==this.tabPosition)&&!this.nested?d:p)}})})},"dijit/layout/_TabContainerBase":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style ./StackContainer ./utils ../_TemplatedMixin dojo/text!./templates/TabContainer.html".split(" "),
function(g,l,m,p,d,c,k,f){return g("dijit.layout._TabContainerBase",[d,k],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:f,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&p.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||
l.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(l.add(this.domNode,"dijitTabContainerNested"),l.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),l.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),l.add(this.containerNode,"dijitTabPaneWrapperNested")):l.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(b){l.add(b.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},
layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var b=this.selectedChildWidget;if(this.doLayout){var a=this.tabPosition.replace(/-h/,"");this.tablist.region=a;a=[this.tablist,{domNode:this.tablistSpacer,region:a},{domNode:this.containerNode,region:"center"}];c.layoutChildren(this.domNode,this._contentBox,a);this._containerContentBox=c.marginBox2contentBox(this.containerNode,a[2]);b&&b.resize&&b.resize(this._containerContentBox)}else{if(this.tablist.resize){a=this.tablist.domNode.style;
a.width="0";var e=m.getContentBox(this.domNode).w;a.width="";this.tablist.resize({w:e})}b&&b.resize&&b.resize()}}},destroy:function(b){this.tablist&&this.tablist.destroy(b);this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget".split(" "),function(g,l,m,p,d,c,k,f,b,a,e,r,n,t){c("dijit-legacy-requires")&&
b(0,function(){require(["dijit/layout/StackController"])});m=m("dijit.layout.StackContainer",t,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);p.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(f(this.domNode,"keydown",k.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var b=this.getChildren();g.forEach(b,this._setupChild,this);this.persist?this.selectedChildWidget=r.byId(l(this.id+
"_selectedChild")):g.some(b,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},this);var e=this.selectedChildWidget;!e&&b[0]&&(e=this.selectedChildWidget=b[0],e.selected=!0);a.publish(this.id+"-startup",{children:b,selected:e,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){var b=a.domNode,e=d.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+
this.baseClass+"ChildWrapper dijitHidden'\x3e",a.domNode,"replace"),c=a["aria-label"]||a.title||a.label;c&&e.setAttribute("aria-label",c);d.place(b,e);a._wrapper=e;this.inherited(arguments);"none"==b.style.display&&(b.style.display="block");a.domNode.removeAttribute("title")},addChild:function(b,e){this.inherited(arguments);this._started&&(a.publish(this.id+"-addChild",b,e),this.layout(),this.selectedChildWidget||this.selectChild(b))},removeChild:function(b){var e=g.indexOf(this.getChildren(),b);
this.inherited(arguments);d.destroy(b._wrapper);delete b._wrapper;this._started&&a.publish(this.id+"-removeChild",b);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===b&&(this.selectedChildWidget=void 0,this._started)){var c=this.getChildren();c.length&&this.selectChild(c[Math.max(e-1,0)])}this._started&&this.layout()}},selectChild:function(b,c){var f;b=r.byId(b);this.selectedChildWidget!=b&&(f=this._transition(b,this.selectedChildWidget,c),this._set("selectedChildWidget",b),a.publish(this.id+
"-selectChild",b,this._focused),this.persist&&l(this.id+"_selectedChild",this.selectedChildWidget.id));return e(f||!0)},_transition:function(a,b){b&&this._hideChild(b);var e=this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return e},_adjacent:function(a){var b=this.getChildren(),e=g.indexOf(b,this.selectedChildWidget),e=e+(a?1:b.length-1);return b[e%b.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),
!0)},_onKeyDown:function(b){a.publish(this.id+"-containerKeyDown",{e:b,page:this})},layout:function(){var a=this.selectedChildWidget;a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var b=this.getChildren();a.isFirstChild=a==b[0];a.isLastChild=a==b[b.length-1];a._set("selected",!0);a._wrapper&&p.replace(a._wrapper,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||!0},_hideChild:function(a){a._set("selected",!1);a._wrapper&&
p.replace(a._wrapper,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){a.onClose&&a.onClose(this,a)&&(this.removeChild(a),a.destroyRecursive())},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;g.forEach(this.getChildren(),function(b){a||this.removeChild(b);b.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});m.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};k.extend(n,
m.ChildWidgetProperties);return m})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(g,l){g.cookie=function(g,p,d){var c=document.cookie,k;if(1==arguments.length)k=(k=c.match(RegExp("(?:^|; )"+l.escapeString(g)+"\x3d([^;]*)")))?decodeURIComponent(k[1]):void 0;else{d=d||{};c=d.expires;if("number"==typeof c){var f=new Date;f.setTime(f.getTime()+864E5*c);c=d.expires=f}c&&c.toUTCString&&(d.expires=c.toUTCString());p=encodeURIComponent(p);var c=g+"\x3d"+p,b;for(b in d)c+="; "+b,
f=d[b],!0!==f&&(c+="\x3d"+f);document.cookie=c}return k};g.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return g.cookie})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(g,l){var m={};l.setObject("dojo.regexp",m);m.escapeString=function(l,d){return l.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,
function(c){return d&&-1!=d.indexOf(c)?c:"\\"+c})};m.buildGroupRE=function(l,d,c){if(!(l instanceof Array))return d(l);for(var k=[],f=0;f<l.length;f++)k.push(d(l[f]));return m.group(k.join("|"),c)};m.group=function(l,d){return"("+(d?"?:":"")+l+")"};return m})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),function(g,l,m,p,d,c,k,f,b){return c("dijit.layout._LayoutWidget",
[l,m,p],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);k.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(d.on("resize",g.hitch(this,"resize")))}},resize:function(a,e){var c=this.domNode;a&&f.setMarginBox(c,a);var d=e||{};g.mixin(d,a||{});if(!("h"in d)||!("w"in d))d=g.mixin(f.getMarginBox(c),
d);var k=b.getComputedStyle(c),q=f.getMarginExtents(c,k),h=f.getBorderExtents(c,k),d=this._borderBox={w:d.w-(q.w+h.w),h:d.h-(q.h+h.h)},q=f.getPadExtents(c,k);this._contentBox={l:b.toPixelValue(c,k.paddingLeft),t:b.toPixelValue(c,k.paddingTop),w:d.w-q.w,h:d.h-q.h};this.layout()},layout:function(){},_setupChild:function(a){k.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){k.remove(a.domNode,
this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(g,l){return g("dijit._Contained",null,{_getSibling:function(l){var g=this.getParent();return g&&g._getSiblingOfChild&&g._getSiblingOfChild(this,"previous"==l?-1:1)||null},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var l=
this.getParent();return!l||!l.getIndexOfChild?-1:l.getIndexOfChild(this)}})})},"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),function(g,l,m,p,d,c,k,f,b,a,e,r){r=g("dijit.layout._TabButton"+(d("dojo-bidi")?"_NoBidi":""),f.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},
templateString:r,_setNameAttr:"focusNode",scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments);l.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var a=this.domNode;this.defer(function(){a.className=a.className},1)},_setCloseButtonAttr:function(a){this._set("closeButton",a);p.toggle(this.domNode,"dijitClosable",a);this.closeNode.style.display=a?"":"none";a&&(a=c.getLocalization("dijit","common"),this.closeNode&&m.set(this.closeNode,"title",a.itemClose))},
_setDisabledAttr:function(a){this.inherited(arguments);if(this.closeNode)if(a)m.remove(this.closeNode,"title");else{var b=c.getLocalization("dijit","common");m.set(this.closeNode,"title",b.itemClose)}},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!this.params.title&&(this.iconNode.alt=k.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});d("dojo-bidi")&&(r=g("dijit.layout._TabButton",r,{_setLabelAttr:function(a){this.inherited(arguments);this.applyTextDir(this.iconNode,
this.iconNode.alt)}}));g=g("dijit.layout.TabController",f,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",tabPosition:"top",buttonWidget:r,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var f=new a({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(a){return p.contains(a,
"dijitClosable")&&!p.contains(a,"dijitTabDisabled")}});this.own(f);var d=c.getLocalization("dijit","common"),q=this;f.addChild(new e({label:d.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(a){a=b.byNode(this.getParent().currentTarget);q.onCloseButtonClick(a.page)}}))}});g.TabButton=r;return g})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t){p=l("dijit.layout._StackButton",t,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab")}});l=l("dijit.layout.StackController",[e,r,n],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:p,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(b){return a.byId(this.id+
"_"+b)},postCreate:function(){this.inherited(arguments);this.own(f.subscribe(this.containerId+"-startup",c.hitch(this,"onStartup")),f.subscribe(this.containerId+"-addChild",c.hitch(this,"onAddChild")),f.subscribe(this.containerId+"-removeChild",c.hitch(this,"onRemoveChild")),f.subscribe(this.containerId+"-selectChild",c.hitch(this,"onSelectChild")),f.subscribe(this.containerId+"-containerKeyDown",c.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(k(this.containerNode,"click",
c.hitch(this,function(b){var e=a.getEnclosingWidget(b.target);if(e!=this.containerNode&&!e.disabled&&e.page)for(b=b.target;b!==this.containerNode;b=b.parentNode)if(m.contains(b,this.buttonWidgetCloseClass)){this.onCloseButtonClick(e.page);break}else if(b==e.domNode){this.onButtonClick(e.page);break}})))},onStartup:function(b){this.textDir=b.textDir;g.forEach(b.children,this.onAddChild,this);if(b.selected)this.onSelectChild(b.selected);var e=a.byId(this.containerId).containerNode,f=c.hitch(this,"pane2button");
b={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"};var d=function(a,b){return k(e,"attrmodified-"+a,function(a){var e=f(a.detail&&a.detail.widget&&a.detail.widget.id);e&&e.set(b,a.detail.newValue)})},n;for(n in b)this.own(d(n,b[n]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(a,b){var e=new (c.isString(this.buttonWidget)?c.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+
"_"+a.id,name:this.id+"_"+a.id,label:a.title,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,title:a.tooltip,page:a});this.addChild(e,b);a.controlButton=e;if(!this._currentChild)this.onSelectChild(a);e=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+e.id:e.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",
e)},onRemoveChild:function(a){this._currentChild===a&&(this._currentChild=null);var b=this.pane2button(a.id);b&&(this.removeChild(b),b.destroy());delete a.controlButton},onSelectChild:function(b){if(b){if(this._currentChild){var e=this.pane2button(this._currentChild.id);e.set("checked",!1);e.focusNode.setAttribute("tabIndex","-1")}e=this.pane2button(b.id);e.set("checked",!0);this._currentChild=b;e.focusNode.setAttribute("tabIndex","0");a.byId(this.containerId)}},onButtonClick:function(e){var c=this.pane2button(e.id);
b.focus(c.focusNode);this._currentChild&&this._currentChild.id===e.id&&c.set("checked",!0);a.byId(this.containerId).selectChild(e)},onCloseButtonClick:function(e){a.byId(this.containerId).closeChild(e);this._currentChild&&(e=this.pane2button(this._currentChild.id))&&b.focus(e.focusNode||e.domNode)},adjacent:function(a){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition)))a=!a;var b=this.getChildren(),e=g.indexOf(b,this.pane2button(this._currentChild.id)),c=b[e],f;do e=
(e+(a?1:b.length-1))%b.length,f=b[e];while(f.disabled&&f!=c);return f},onkeydown:function(a,b){if(!this.disabled&&!a.altKey){var e=null;if(a.ctrlKey||!a._djpage){switch(a.keyCode){case d.LEFT_ARROW:case d.UP_ARROW:a._djpage||(e=!1);break;case d.PAGE_UP:a.ctrlKey&&(e=!1);break;case d.RIGHT_ARROW:case d.DOWN_ARROW:a._djpage||(e=!0);break;case d.PAGE_DOWN:a.ctrlKey&&(e=!0);break;case d.HOME:for(var c=this.getChildren(),f=0;f<c.length;f++){var n=c[f];if(!n.disabled){this.onButtonClick(n.page);break}}a.stopPropagation();
a.preventDefault();break;case d.END:c=this.getChildren();for(f=c.length-1;0<=f;f--)if(n=c[f],!n.disabled){this.onButtonClick(n.page);break}a.stopPropagation();a.preventDefault();break;case d.DELETE:case 87:if(this._currentChild.closable&&(a.keyCode==d.DELETE||a.ctrlKey))this.onCloseButtonClick(this._currentChild),a.stopPropagation(),a.preventDefault();break;case d.TAB:a.ctrlKey&&(this.onButtonClick(this.adjacent(!a.shiftKey).page),a.stopPropagation(),a.preventDefault())}null!==e&&(this.onButtonClick(this.adjacent(e).page),
a.stopPropagation(),a.preventDefault())}}},onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});l.StackButton=p;return l})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(g,l,m,p){return g("dijit.form.ToggleButton",[m,p],{baseClass:"dijitToggleButton",setChecked:function(d){l.deprecated("setChecked("+d+") is deprecated. Use set('checked',"+d+") instead.","","2.0");this.set("checked",d)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare",
"dojo/dom-attr"],function(g,l){return g("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(l){var g=this.checked;this._set("checked",!g);var d=this.inherited(arguments);this.set("checked",d?this.checked:g);return d},_setCheckedAttr:function(g,p){this._set("checked",g);var d=this.focusNode||this.domNode;this._created&&l.get(d,"checked")!=!!g&&l.set(d,"checked",!!g);d.setAttribute(this._aria_attr,String(g));this._handleOnChange(g,p)},postCreate:function(){this.inherited(arguments);
var l=this.focusNode||this.domNode;this.checked&&l.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h){e("dijit-legacy-requires")&&h(0,function(){g(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return m("dijit.Menu",q,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):l.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return n.get(this._iframeContentDocument(a))||
this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(e){e=p.byId(e,this.ownerDocument);var c;if("iframe"==e.tagName.toLowerCase()){var h=e;c=this._iframeContentWindow(h);c=r.body(c.document)}else c=e==r.body(this.ownerDocument)?this.ownerDocument.documentElement:e;var n={node:e,
iframe:h};d.set(e,"_dijitMenu"+this.id,this._bindings.push(n));var k=b.hitch(this,function(b){var e=this.selector,c=e?function(b){return a.selector(e,b)}:function(a){return a},d=this;return[a(b,c(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();(new Date).getTime()<d._lastKeyDown+500||d._scheduleOpen(this,h,{x:a.pageX,y:a.pageY},a.target)}),a(b,c("keydown"),function(a){if(93==a.keyCode||a.shiftKey&&a.keyCode==f.F10||d.leftClickToOpen&&a.keyCode==f.SPACE)a.stopPropagation(),
a.preventDefault(),d._scheduleOpen(this,h,null,a.target),d._lastKeyDown=(new Date).getTime()})]});n.connects=c?k(c):[];h&&(n.onloadHandler=b.hitch(this,function(){var a=this._iframeContentWindow(h),a=r.body(a.document);n.connects=k(a)}),h.addEventListener?h.addEventListener("load",n.onloadHandler,!1):h.attachEvent("onload",n.onloadHandler))},unBindDomNode:function(a){var b;try{b=p.byId(a,this.ownerDocument)}catch(e){return}a="_dijitMenu"+this.id;if(b&&d.has(b,a)){for(var c=d.get(b,a)-1,h=this._bindings[c],
f;f=h.connects.pop();)f.remove();(f=h.iframe)&&(f.removeEventListener?f.removeEventListener("load",h.onloadHandler,!1):f.detachEvent("onload",h.onloadHandler));d.remove(b,a);delete this._bindings[c]}},_scheduleOpen:function(a,b,e,c){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:c,delegatedTarget:a,iframe:b,coords:e})},1))},_openMyself:function(a){function b(){q.refocus&&m&&m.focus();t.close(q)}var h=a.target,f=a.iframe,d=a.coords,n=!d;this.currentTarget=
a.delegatedTarget;if(d){if(f){a=c.position(f,!0);var h=this._iframeContentWindow(f),h=c.docScroll(h.document),l=k.getComputedStyle(f),g=k.toPixelValue,r=(e("ie")&&e("quirks")?0:g(f,l.paddingLeft))+(e("ie")&&e("quirks")?g(f,l.borderLeftWidth):0),f=(e("ie")&&e("quirks")?0:g(f,l.paddingTop))+(e("ie")&&e("quirks")?g(f,l.borderTopWidth):0);d.x+=a.x+r-h.x;d.y+=a.y+f-h.y}}else d=c.position(h,!0),d.x+=10,d.y+=10;var q=this,f=this._focusManager.get("prevNode");a=this._focusManager.get("curNode");var m=!a||
p.isDescendant(a,this.domNode)?f:a;t.open({popup:this,x:d.x,y:d.y,onExecute:b,onCancel:b,orient:this.isLeftToRight()?"L":"R"});this.focus();n||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);t.close(this)}},destroy:function(){l.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main dojo/touch".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h){function s(){this._popupWrapper&&(c.destroy(this._popupWrapper),delete this._popupWrapper)}m=m(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=k.position(this._firstAroundNode,!0),c=b.x-a.x,a=b.y-a.y;if(c||a){this._firstAroundPosition=b;for(b=0;b<this._stack.length;b++){var h=this._stack[b].wrapper.style;h.top=parseFloat(h.top)+a+"px";"auto"==h.right?h.left=parseFloat(h.left)+
c+"px":h.right=parseFloat(h.right)-c+"px"}}this._aroundMoveListener=setTimeout(e.hitch(this,"_repositionAll"),c||a?10:50)}},_createWrapper:function(a){var b=a._popupWrapper,e=a.domNode;b||(b=c.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),b.appendChild(e),e=e.style,e.display="",e.visibility="",e.position="",e.top="0px",a._popupWrapper=b,l.after(a,"destroy",s,!0),"ontouchend"in document&&r(b,"touchend",
function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||a.preventDefault()}),b.dojoClick=!0);return b},moveOffScreen:function(a){var b=this._createWrapper(a);a=k.isBodyLtr(a.ownerDocument);var e={visibility:"hidden",top:"-9999px",display:""};e[a?"left":"right"]="-9999px";e[a?"right":"left"]="auto";f.set(b,e);return b},hide:function(a){var b=this._createWrapper(a);f.set(b,{display:"none",height:"auto",overflowY:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},
getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(c){for(var h=this._stack,l=c.popup,s=l.domNode,g=c.orient||["below","below-alt","above","above-alt"],m=c.parent?c.parent.isLeftToRight():k.isBodyLtr(l.ownerDocument),A=c.around,E=c.around&&c.around.id?c.around.id+"_dropdown":"popup_"+this._idGen++;h.length&&(!c.parent||!p.isDescendant(c.parent.domNode,h[h.length-1].widget.domNode));)this.close(h[h.length-1].widget);var F=this.moveOffScreen(l);
l.startup&&!l._started&&l.startup();var G,I=k.position(s);if("maxHeight"in c&&-1!=c.maxHeight)G=c.maxHeight||Infinity;else{G=q.getEffectiveBox(this.ownerDocument);var N=A?k.position(A,!1):{y:c.y-(c.padding||0),h:2*(c.padding||0)};G=Math.floor(Math.max(N.y,G.h-(N.y+N.h)))}I.h>G&&(I=f.getComputedStyle(s),f.set(F,{overflowY:"scroll",height:G+"px",border:I.borderLeftWidth+" "+I.borderLeftStyle+" "+I.borderLeftColor}),s._originalStyle=s.style.cssText,s.style.border="none");d.set(F,{id:E,style:{zIndex:this._beginZIndex+
h.length},"class":"dijitPopup "+(l.baseClass||l["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:c.parent?c.parent.id:""});0==h.length&&A&&(this._firstAroundNode=A,this._firstAroundPosition=k.position(A,!0),this._aroundMoveListener=setTimeout(e.hitch(this,"_repositionAll"),50));b("config-bgIframe")&&!l.bgIframe&&(l.bgIframe=new t(F));E=l.orient?e.hitch(l,"orient"):null;g=A?n.around(F,A,g,m,E):n.at(F,c,"R"==g?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],c.padding,E);F.style.visibility="visible";
s.style.visibility="visible";s=[];s.push(r(F,"keydown",e.hitch(this,function(b){if(b.keyCode==a.ESCAPE&&c.onCancel)b.stopPropagation(),b.preventDefault(),c.onCancel();else if(b.keyCode==a.TAB&&(b.stopPropagation(),b.preventDefault(),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));l.onCancel&&c.onCancel&&s.push(l.on("cancel",c.onCancel));s.push(l.on(l.onExecute?"execute":"change",e.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));h.push({widget:l,wrapper:F,parent:c.parent,
onExecute:c.onExecute,onCancel:c.onCancel,onClose:c.onClose,handlers:s});if(l.onOpen)l.onOpen(g);return g},close:function(a){for(var b=this._stack;a&&g.some(b,function(b){return b.widget==a})||!a&&b.length;){var e=b.pop(),c=e.widget,h=e.onClose;c.bgIframe&&(c.bgIframe.destroy(),delete c.bgIframe);if(c.onClose)c.onClose();for(var f;f=e.handlers.pop();)f.remove();c&&c.domNode&&this.hide(c);h&&h()}0==b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=
this._aroundMoveListener=null)}});return h.popup=new m})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(g,l,m,p,d,c,k){function f(a,b,f,n){var k=c.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&d.body(a.ownerDocument).appendChild(a);var q=null;g.some(b,function(b){var e=b.corner,c=b.pos,h=0,d={w:{L:k.l+k.w-c.x,R:c.x-k.l,M:k.w}[e.charAt(1)],
h:{T:k.t+k.h-c.y,B:c.y-k.t,M:k.h}[e.charAt(0)]},s=a.style;s.left=s.right="auto";f&&(h=f(a,b.aroundCorner,e,d,n),h="undefined"==typeof h?0:h);var g=a.style,m=g.display,p=g.visibility;"none"==g.display&&(g.visibility="hidden",g.display="");s=l.position(a);g.display=m;g.visibility=p;m={L:c.x,R:c.x-s.w,M:Math.max(k.l,Math.min(k.l+k.w,c.x+(s.w>>1))-s.w)}[e.charAt(1)];p={T:c.y,B:c.y-s.h,M:Math.max(k.t,Math.min(k.t+k.h,c.y+(s.h>>1))-s.h)}[e.charAt(0)];c=Math.max(k.l,m);g=Math.max(k.t,p);m=Math.min(k.l+k.w,
m+s.w);p=Math.min(k.t+k.h,p+s.h);m-=c;p-=g;h+=s.w-m+(s.h-p);if(null==q||h<q.overflow)q={corner:e,aroundCorner:b.aroundCorner,x:c,y:g,w:m,h:p,overflow:h,spaceAvailable:d};return!h});q.overflow&&f&&f(a,q.aroundCorner,q.corner,q.spaceAvailable,n);b=q.y;var h=q.x,s=d.body(a.ownerDocument);/relative|absolute/.test(m.get(s,"position"))&&(b-=m.get(s,"marginTop"),h-=m.get(s,"marginLeft"));s=a.style;s.top=b+"px";s.left=h+"px";s.right="auto";return q}var b={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return k.place={at:function(a,
e,c,d,k){c=g.map(c,function(a){var c={corner:a,aroundCorner:b[a],pos:{x:e.x,y:e.y}};d&&(c.pos.x+="L"==a.charAt(1)?d.x:-d.x,c.pos.y+="T"==a.charAt(0)?d.y:-d.y);return c});return f(a,c,k)},around:function(a,b,c,d,k){function q(a,b){F.push({aroundCorner:a,corner:b,pos:{x:{L:z,R:z+A,M:z+(A>>1)}[a.charAt(1)],y:{T:w,B:w+E,M:w+(E>>1)}[a.charAt(0)]}})}var h;if("string"==typeof b||"offsetWidth"in b||"ownerSVGElement"in b){if(h=l.position(b,!0),/^(above|below)/.test(c[0])){var s=l.getBorderExtents(b),v=b.firstChild?
l.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0},x=l.getBorderExtents(a),u=a.firstChild?l.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};h.y+=Math.min(s.t+v.t,x.t+u.t);h.h-=Math.min(s.t+v.t,x.t+u.t)+Math.min(s.b+v.b,x.b+u.b)}}else h=b;if(b.parentNode){s="absolute"==m.getComputedStyle(b).position;for(b=b.parentNode;b&&1==b.nodeType&&"BODY"!=b.nodeName;){v=l.position(b,!0);x=m.getComputedStyle(b);/relative|absolute/.test(x.position)&&(s=!1);if(!s&&/hidden|auto|scroll/.test(x.overflow)){var u=Math.min(h.y+
h.h,v.y+v.h),y=Math.min(h.x+h.w,v.x+v.w);h.x=Math.max(h.x,v.x);h.y=Math.max(h.y,v.y);h.h=u-h.y;h.w=y-h.x}"absolute"==x.position&&(s=!0);b=b.parentNode}}var z=h.x,w=h.y,A="w"in h?h.w:h.w=h.width,E="h"in h?h.h:(p.deprecated("place.around: dijit/place.__Rectangle: { x:"+z+", y:"+w+", height:"+h.height+", width:"+A+" } has been deprecated.  Please use { x:"+z+", y:"+w+", h:"+h.height+", w:"+A+" }","","2.0"),h.h=h.height),F=[];g.forEach(c,function(a){var b=d;switch(a){case "above-centered":q("TM","BM");
break;case "below-centered":q("BM","TM");break;case "after-centered":b=!b;case "before-centered":q(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":q(b?"TL":"TR",b?"TR":"TL");q(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":q(b?"BL":"BR",b?"TL":"TR");q(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":q(b?"TL":"TR",b?"BL":"BR");q(b?"TR":"TL",b?"BR":"BL");break;default:q(a.aroundCorner,a.corner)}});a=f(a,F,k,{w:A,h:E});a.aroundNodePos=h;return a}}})},
"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],function(g,l,m,p){return g("dijit.DropDownMenu",p,{templateString:m,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(d){this._moveToPopup(d);d.stopPropagation();d.preventDefault()},_onLeftArrow:function(d){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);
else d.stopPropagation(),d.preventDefault()}})})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q){return l("dijit._MenuBase",[r,q,t,n],{selected:null,_setSelectedAttr:function(a){this.selected!=a&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),
a&&a._setSelected(!0),this._set("selected",a))},activated:!1,_setActivatedAttr:function(a){d.toggle(this.domNode,"dijitMenuActive",a);d.toggle(this.domNode,"dijitMenuPassive",!a);this._set("activated",a)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,childSelector:function(a){var b=e.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var b=this,d="string"==typeof this.childSelector?this.childSelector:c.hitch(this,"childSelector");this.own(f(this.containerNode,
f.selector(d,k.enter),function(){b.onItemHover(e.byNode(this))}),f(this.containerNode,f.selector(d,k.leave),function(){b.onItemUnhover(e.byNode(this))}),f(this.containerNode,f.selector(d,a),function(a){b.onItemClick(e.byNode(this),a);a.stopPropagation()}),f(this.containerNode,f.selector(d,"focusin"),function(){b._onItemFocus(e.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(a,b,e,c){this.inherited(arguments);if(a&&(-1==c||a.popup&&1==c))this.onItemClick(a,b)},_keyboardSearchCompare:function(a,
b){return a.shortcutKey?b==a.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(a){this.activated?(this.set("selected",a),a.popup&&
(!a.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(a)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(a,{type:"click"})},this.passivePopupDelay));this._hoveredChild=a;a._set("hovering",!0)},_onChildDeselect:function(a){this._stopPopupTimer();this.currentPopupItem==a&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=
this._pendingClose_timer=null;a._closePopup()},this.popupDelay))},onItemUnhover:function(a){this._hoveredChild==a&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);a._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var a=
this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(a);if(a.disabled)return!1;if(a.popup){this.set("selected",a);this.set("activated",!0);var e=/^key/.test(b._origType||b.type)||0==b.clientX&&0==b.clientY;this._openItemPopup(a,e)}else this.onExecute(),a._onClick?a._onClick(b):a.onClick(b)},_openItemPopup:function(a,b){if(a!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());
this._stopPopupTimer();var e=a.popup;e.parentMenu=this;this.own(this._mouseoverHandle=f.once(e.domNode,"mouseover",c.hitch(this,"_onPopupHover")));var d=this;a._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){b&&d.focusChild(a);d._cleanUp()},onExecute:c.hitch(this,"_cleanUp",!0),onClose:function(){d._mouseoverHandle&&(d._mouseoverHandle.remove(),delete d._mouseoverHandle)}},b);this.currentPopupItem=a}},onOpen:function(){this.isShowingNow=!0;this.set("activated",
!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(p.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild);this.set("selected",a)},_onBlur:function(){this._cleanUp(!0);
this.inherited(arguments)},_cleanUp:function(a){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);a&&this.set("selected",null)}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),function(g,l,m,p,d,c,k,f,b,a){return l("dijit._KeyNavContainer",[b,a,f],{connectKeyNavHandlers:function(a,b){var f=this._keyNavCodes=
{},k=c.hitch(this,"focusPrev"),l=c.hitch(this,"focusNext");g.forEach(a,function(a){f[a]=k});g.forEach(b,function(a){f[a]=l});f[d.HOME]=c.hitch(this,"focusFirstChild");f[d.END]=c.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){p.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);g.forEach(this.getChildren(),c.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex",
"-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=k.byNode(a))&&a.getParent()==this}})})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),
function(g,l,m,p,d,c,k,f){return l("dijit._KeyNavMixin",f,{tabIndex:"0",childSelector:null,postCreate:function(){this.inherited(arguments);m.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var b=this._keyNavCodes={};b[p.HOME]=d.hitch(this,"focusFirstChild");b[p.END]=d.hitch(this,"focusLastChild");b[this.isLeftToRight()?p.LEFT_ARROW:p.RIGHT_ARROW]=d.hitch(this,"_onLeftArrow");b[this.isLeftToRight()?p.RIGHT_ARROW:p.LEFT_ARROW]=d.hitch(this,"_onRightArrow");b[p.UP_ARROW]=d.hitch(this,
"_onUpArrow");b[p.DOWN_ARROW]=d.hitch(this,"_onDownArrow")}var a=this,b="string"==typeof this.childSelector?this.childSelector:d.hitch(this,"childSelector");this.own(c(this.domNode,"keypress",d.hitch(this,"_onContainerKeypress")),c(this.domNode,"keydown",d.hitch(this,"_onContainerKeydown")),c(this.domNode,"focus",d.hitch(this,"_onContainerFocus")),c(this.containerNode,c.selector(b,"focusin"),function(b){a._onChildFocus(k.getEnclosingWidget(this),b)}))},_onLeftArrow:function(){},_onRightArrow:function(){},
_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(b,a){b&&(this.focusedChild&&b!==this.focusedChild&&this._onChildBlur(this.focusedChild),
b.set("tabIndex",this.tabIndex),b.focus(a?"end":"start"))},_onContainerFocus:function(b){b.target!==this.domNode||this.focusedChild||this.focus()},_onFocus:function(){m.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(b){m.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(b){b&&b!=this.focusedChild&&
(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),b.set("tabIndex",this.tabIndex),this.lastFocused=b,this._set("focusedChild",b))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(b,a,c,f){b&&this.focusChild(b)},_keyboardSearchCompare:function(b,a){var c=b.domNode,c=(b.label||(c.focusNode?c.focusNode.label:"")||c.innerText||c.textContent||"").replace(/^\s+/,"").substr(0,a.length).toLowerCase();return a.length&&c==a?-1:0},_onContainerKeydown:function(b){var a=
this._keyNavCodes[b.keyCode];a?(a(b,this.focusedChild),b.stopPropagation(),b.preventDefault(),this._searchString=""):b.keyCode==p.SPACE&&(this._searchTimer&&!b.ctrlKey&&!b.altKey&&!b.metaKey)&&(b.stopImmediatePropagation(),b.preventDefault(),this._keyboardSearch(b," "))},_onContainerKeypress:function(b){b.charCode<=p.SPACE||(b.ctrlKey||b.altKey||b.metaKey)||(b.preventDefault(),b.stopPropagation(),this._keyboardSearch(b,String.fromCharCode(b.charCode).toLowerCase()))},_keyboardSearch:function(b,a){var c=
null,f,n=0;d.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=a;var b=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;f=this._searchString.substr(0,b);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var d=this.focusedChild||null;if(1==b||!d)if(d=this._getNextFocusableChild(d,1),!d)return;b=d;do{var h=this._keyboardSearchCompare(d,f);h&&0==n++&&(c=d);if(-1==h){n=-1;break}d=this._getNextFocusableChild(d,
1)}while(d&&d!=b)})();this.onKeyboardSearch(c,b,f,n)},_onChildBlur:function(){},_getNextFocusableChild:function(b,a){var c=b;do{if(b)b=this._getNext(b,a);else if(b=this[0<a?"_getFirst":"_getLast"](),!b)break;if(null!=b&&b!=c&&b.isFocusable())return b}while(b!=c);return null},_getFirst:function(){return null},_getLast:function(){return null},_getNext:function(b,a){if(b)for(b=b.domNode;b;)if((b=b[0>a?"previousSibling":"nextSibling"])&&"getAttribute"in b){var c=k.byNode(b);if(c)return c}return null}})})},
"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),function(g,l,m,p,d,c,k,f,b,a,e,r){k=g("dijit.MenuItem"+(c("dojo-bidi")?"_NoBidi":""),[f,b,a,e],{templateString:r,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var b="",c;c=a.search(/{\S}/);if(0<=c){var b=a.charAt(c+1),e=a.substr(0,
c);a=a.substr(c+3);c=e+b+a;a=e+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+b+"\x3c/span\x3e"+a}else c=a;this.domNode.setAttribute("aria-label",c+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",b)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);m.set(this.containerNode,"id",this.id+
"_text");this.accelKeyNode&&m.set(this.accelKeyNode,"id",this.id+"_accel");l.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==c("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(a){p.toggle(this.domNode,"dijitMenuItemSelected",a)},setLabel:function(a){d.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){d.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.",
"","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=a?"":"none",this.accelKeyNode.innerHTML=a,m.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});c("dojo-bidi")&&(k=g("dijit.MenuItem",k,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));
return k})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff ../registry dojo/text!./templates/ScrollingTabController.html dojo/text!./templates/_ScrollingTabControllerButton.html ./TabController ./utils ../_WidgetsInTemplateMixin ../Menu ../MenuItem ../form/Button ../_HasDropDown dojo/NodeList-dom ../a11yclick".split(" "),function(g,l,m,p,d,c,k,f,
b,a,e,r,n,t,q,h,s,v,x,u){r=l("dijit.layout.ScrollingTabController",[t,h],{baseClass:"dijitTabController dijitScrollingTabController",templateString:r,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,
"")+"None",m.add(a,"tabStrip-disabled"));m.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);d.set(this.domNode,"visibility","");this._postStartup=!0;this.own(f(this.containerNode,"attrmodified-label, attrmodified-iconclass",k.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(a,b){this.inherited(arguments);d.set(this.containerNode,"width",d.get(this.containerNode,"width")+200+"px")},onRemoveChild:function(a,b){var c=this.pane2button(a.id);
this._selectedTab===c.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=b("\x3e .tabStripButton",this.domNode).filter(function(a){if(this.useMenu&&a==this._menuBtn.domNode||this.useSlider&&(a==this._rightBtn.domNode||a==this._leftBtn.domNode))return this._btnWidth+=p.getMarginSize(a).w,!0;d.set(a,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();if(a.length){var b=a[this.isLeftToRight()?0:a.length-
1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-b.offsetLeft}return 0},_enableBtn:function(a){var b=this._getTabsWidth();a=a||d.get(this.scrollNode,"width");return 0<b&&a<b},resize:function(a){this._dim=a;this.scrollNode.style.height="auto";var b=this._contentBox=q.marginBox2contentBox(this.domNode,{h:0,w:a.w});b.h=this.scrollNode.offsetHeight;p.setContentSize(this.domNode,b);b=this._enableBtn(this._contentBox.w);this._buttons.style("display",b?"":"none");
this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";q.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());this._postResize=!0;return{h:this._contentBox.h,
w:a.w}},_getScroll:function(){return this.isLeftToRight()||8>a("ie")||a("trident")&&a("quirks")||a("webkit")?this.scrollNode.scrollLeft:d.get(this.containerNode,"width")-d.get(this.scrollNode,"width")+(a("trident")||a("edge")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(b){if(this.isLeftToRight()||8>a("ie")||a("trident")&&a("quirks")||a("webkit"))return b;var c=d.get(this.containerNode,"width")-d.get(this.scrollNode,"width");return(a("trident")||a("edge")?-1:1)*(b-c)},onSelectChild:function(a,
b){var c=this.pane2button(a.id);if(c){var e=c.domNode;if(e!=this._selectedTab&&(this._selectedTab=e,this._postResize)){var f=this._getScroll();f>e.offsetLeft||f+d.get(this.scrollNode,"width")<e.offsetLeft+d.get(e,"width")?(e=this.createSmoothScroll(),b&&(e.onEnd=function(){c.focus()}),e.play()):b&&c.focus()}this.inherited(arguments)}},_getScrollBounds:function(){var a=this.getChildren(),b=d.get(this.scrollNode,"width"),c=d.get(this.containerNode,"width")-b,e=this._getTabsWidth();if(a.length&&e>b)return{min:this.isLeftToRight()?
0:a[a.length-1].domNode.offsetLeft,max:this.isLeftToRight()?a[a.length-1].domNode.offsetLeft+a[a.length-1].domNode.offsetWidth-b:c};a=this.isLeftToRight()?0:c;return{min:a,max:a}},_getScrollForSelectedTab:function(){var a=this._selectedTab,b=d.get(this.scrollNode,"width"),c=this._getScrollBounds(),a=a.offsetLeft+d.get(a,"width")/2-b/2;return a=Math.min(Math.max(a,c.min),c.max)},createSmoothScroll:function(a){if(0<arguments.length){var b=this._getScrollBounds();a=Math.min(Math.max(a,b.min),b.max)}else a=
this._getScrollForSelectedTab();this._anim&&"playing"==this._anim.status()&&this._anim.stop();var e=this,f=this.scrollNode,d=new c.Animation({beforeBegin:function(){this.curve&&delete this.curve;var b=f.scrollLeft,h=e._convertToScrollLeft(a);d.curve=new c._Line(b,h)},onAnimate:function(a){f.scrollLeft=a}});this._anim=d;this._setButtonClass(a);return d},_getBtnNode:function(a){for(a=a.target;a&&!m.contains(a,"tabStripButton");)a=a.parentNode;return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},
doSlideLeft:function(a){this.doSlide(-1,this._getBtnNode(a))},doSlide:function(a,b){if(!b||!m.contains(b,"dijitTabDisabled")){var c=0.75*d.get(this.scrollNode,"width")*a,c=this._getScroll()+c;this._setButtonClass(c);this.createSmoothScroll(c).play()}},_setButtonClass:function(a){var b=this._getScrollBounds();this._leftBtn.set("disabled",a<=b.min);this._rightBtn.set("disabled",a>=b.max)}});n=l("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:n,
tabIndex:"",isFocusable:function(){return!1}});l("dijit.layout._ScrollingTabControllerButton",[x,n]);l("dijit.layout._ScrollingTabControllerMenuButton",[x,u,n],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(a){this.dropDown=new s({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var b=e.byId(this.containerId);g.forEach(b.getChildren(),function(a){var c=new v({id:a.id+"_stcMi",label:a.title,iconClass:a.iconClass,
disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||b.textDir,onClick:function(){b.selectChild(a)}});this.dropDown.addChild(c)},this);a()},closeDropDown:function(a){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}});return r})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h){return g("dijit._HasDropDown",h,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(b){!this.disabled&&!this.readOnly&&("MSPointerDown"!=b.type&&b.preventDefault(),this.own(e.once(this.ownerDocument,r.release,a.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},_onDropDownMouseUp:function(a){var b=
this.dropDown,e=!1;if(a&&this._opened){var f=c.position(this._buttonNode,!0);if(!(a.pageX>=f.x&&a.pageX<=f.x+f.w)||!(a.pageY>=f.y&&a.pageY<=f.y+f.h)){for(f=a.target;f&&!e;)d.contains(f,"dijitPopup")?e=!0:f=f.parentNode;if(e){f=a.target;if(b.onItemClick){for(var h;f&&!(h=n.byNode(f));)f=f.parentNode;if(h&&h.onClick&&h.getParent)h.getParent().onItemClick(h,a)}return}}}if(this._opened){if(b.focus&&(!1!==b.autoFocus||"mouseup"==a.type&&!this.hovering))this._focusDropDownTimer=this.defer(function(){b.focus();
delete this._focusDropDownTimer})}else this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||
this.dropDownPosition[0]||"Down";d.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var b=this.focusNode||this.domNode;this.own(e(this._buttonNode,r.press,a.hitch(this,"_onDropDownMouseDown")),e(this._buttonNode,"click",a.hitch(this,"_onDropDownClick")),e(b,"keydown",a.hitch(this,"_onKey")),e(b,"keyup",a.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),
delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&!this.readOnly){var c=this.dropDown,e=a.target;if(c&&(this._opened&&c.handleKey)&&!1===c.handleKey(a))a.stopPropagation(),a.preventDefault();else if(c&&this._opened&&a.keyCode==b.ESCAPE)this.closeDropDown(),a.stopPropagation(),a.preventDefault();else if(!this._opened&&(a.keyCode==b.DOWN_ARROW||(a.keyCode==b.ENTER||a.keyCode==b.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(e.tagName||
"").toLowerCase()||e.type&&"text"!==e.type.toLowerCase())))this._toggleOnKeyUp=!0,a.stopPropagation(),a.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var b=this.dropDown;b&&b.focus&&this.defer(a.hitch(b,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var b=new l,c=a.hitch(this,function(){this.openDropDown();
b.resolve(this.dropDown)});this.isLoaded()?c():this.loadDropDown(c);return b},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var b=this.dropDown,e=b.domNode,f=this._aroundNode||this.domNode,h=this,n=q.open({parent:this,popup:b,around:f,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){h.closeDropDown(!0)},onCancel:function(){h.closeDropDown(!0)},onClose:function(){p.set(h._popupStateNode,
"popupActive",!1);d.remove(h._popupStateNode,"dijitHasDropDownOpen");h._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&f.offsetWidth>b._popupWrapper.offsetWidth){var f=f.offsetWidth-b._popupWrapper.offsetWidth,k={w:b.domNode.offsetWidth+f};this._origStyle=e.style.cssText;a.isFunction(b.resize)?b.resize(k):c.setMarginBox(e,k);"R"==n.corner[1]&&(b._popupWrapper.style.left=b._popupWrapper.style.left.replace("px","")-f+"px")}p.set(this._popupStateNode,"popupActive","true");d.add(this._popupStateNode,
"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",b.id);"presentation"!==e.getAttribute("role")&&!e.getAttribute("aria-labelledby")&&e.setAttribute("aria-labelledby",this.id);return n},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus&&this.focus(),
q.close(this.dropDown),this._opened=!1);this._origStyle&&(this.dropDown.domNode.style.cssText=this._origStyle,delete this._origStyle)}})})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(g,l,m,p,d,c,k,f,b){function a(a){return function(b,c,e){return 2==arguments.length?a["string"==typeof c?"get":"set"](b,c):a.set(b,c,e)}}var e=function(a){return 1==a.length&&"string"==typeof a[0]},
r=function(a){var b=a.parentNode;b&&b.removeChild(a)},n=l.NodeList,t=n._adaptWithCondition,q=n._adaptAsForEach,h=n._adaptAsMap;p.extend(n,{_normalize:function(a,b){var e=!0===a.parse;if("string"==typeof a.template){var f=a.templateFunc||g.string&&g.string.substitute;a=f?f(a.template,a):a}f=typeof a;"string"==f||"number"==f?(a=c.toDom(a,b&&b.ownerDocument),a=11==a.nodeType?p._toArray(a.childNodes):[a]):p.isArrayLike(a)?p.isArray(a)||(a=p._toArray(a)):a=[a];e&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},
_place:function(a,b,e,f){if(!(1!=b.nodeType&&"only"==e))for(var h,d=a.length,n=d-1;0<=n;n--){var k=f?this._cloneNode(a[n]):a[n];if(a._runParse&&g.parser&&g.parser.parse){h||(h=b.ownerDocument.createElement("div"));h.appendChild(k);g.parser.parse(h);for(k=h.firstChild;h.firstChild;)h.removeChild(h.firstChild)}n==d-1?c.place(k,b,e):b.parentNode.insertBefore(k,b);b=k}},position:h(k.position),attr:t(a(f),e),style:t(a(b),e),addClass:q(d.add),removeClass:q(d.remove),toggleClass:q(d.toggle),replaceClass:q(d.replace),
empty:q(c.empty),removeAttr:q(f.remove),marginBox:h(k.getMarginBox),place:function(a,b){var e=l(a)[0];return this.forEach(function(a){c.place(a,e,b)})},orphan:function(a){return(a?l._filterResult(this,a):this).forEach(r)},adopt:function(a,b){return l(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var b=new n;this.map(function(c){l(a,c).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,c=this,e=0;if("string"==typeof a){c=
l._filterResult(this,b[0]);if(1==b.length)return c._stash(this);e=1}return this._wrap(m.filter(c,b[e],b[e+1]),this)},addContent:function(a,b){a=this._normalize(a,this[0]);for(var e=0,f;f=this[e];e++)a.length?this._place(a,f,b,0<e):c.empty(f);return this}});return n})},"dijit/layout/LayoutContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-style dojo/_base/lang ../_WidgetBase ./_LayoutWidget ./utils".split(" "),function(g,l,m,p,d,c,k,f){l=l("dijit.layout.LayoutContainer",
k,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){this._started||(g.forEach(this.getChildren(),this._setupChild,this),this.inherited(arguments))},_setupChild:function(b){this.inherited(arguments);b.region&&m.add(b.domNode,this.baseClass+"Pane")},_getOrderedChildren:function(){var b=g.map(this.getChildren(),function(a,b){return{pane:a,weight:["center"==a.region?Infinity:0,a.layoutPriority,("sidebar"==this.design?1:-1)*(/top|bottom/.test(a.region)?1:-1),b]}},this);b.sort(function(a,
b){for(var c=a.weight,f=b.weight,d=0;d<c.length;d++)if(c[d]!=f[d])return c[d]-f[d];return 0});return g.map(b,function(a){return a.pane})},layout:function(){f.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren())},addChild:function(b,a){this.inherited(arguments);this._started&&this.layout()},removeChild:function(b){this.inherited(arguments);this._started&&this.layout();m.remove(b.domNode,this.baseClass+"Pane");p.set(b.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});
p.set(b.domNode,/top|bottom/.test(b.region)?"width":"height","auto")}});l.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};d.extend(c,l.ChildWidgetProperties);return l})},"app/utils/DomUtils":function(){define(["dojo/_base/array","dojo/dom-construct","dojo/_base/lang","dojo/_base/connect"],function(g,l,m,p){return{addOptionsToSelect:function(d,c){g.forEach(c.data,function(k){l.place('\x3coption value\x3d"'+k[c.idProperty]+'"\x3e'+k[c.labelProperty]+"\x3c/option\x3e",d)})},getSelectedOption:function(d){return d.options[d.selectedIndex].value}}})},
"app/ui/widgets/SearchPane":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-class dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/SearchPane.html dgrid/OnDemandGrid dgrid/Keyboard dgrid/Selection dijit/Menu dijit/MenuItem dijit/MenuSeparator dojo/dom-construct dojo/dom-attr dojo/topic dojo/on dojo/dom-style dojo/window ../../utils/DomUtils".split(" "),function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s,v,x,u){return g([d,c],{templateString:k,conceptSchemeList:null,
baseClass:"search-pane",appUi:null,_grid:null,_scheme:null,postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments);this._fillConceptSchemeSelect(this.conceptSchemeList);this._createGrid(this.gridNode);this._grid.startup();this._calculateGridHeight();s(window,"resize",m.hitch(this,function(){this._calculateGridHeight()}))},init:function(a,b){this._scheme=a;this._grid.set("collection",b)},_createGrid:function(c){var e=this._grid=(new g([f,b,a]))({columns:{id:"ID",
concept:{label:"Concept",renderCell:function(a){return t.create("div",{"class":"slideMenuGridCell",innerHTML:"\x3ch3\x3e"+a.label+"\x3c/h3\x3e\x3cp\x3eTYPE: "+a.type+"\x3c/p\x3e\x3cp\x3eURI: "+a.uri+"\x3c/p\x3e"})}}},sort:{property:"label"},selectionMode:"single",cellNavigation:!1,loadingMessage:"Loading data...",noDataMessage:"No results found.",collection:null},c),h=this._createContextMenu(),d=this._createCollectionContextMenu();e.on(".dgrid-content .dgrid-row:click",m.hitch(this,function(a){(a=
e.row(a))&&this._rowSelect(a)}));e.on(".dgrid-row:contextmenu",m.hitch(this,function(a){a.preventDefault();var b=e.row(a).data.type;b&&"concept"===b?(h.selectedGridItem=e.row(a).data,h._scheduleOpen(this,null,{x:a.pageX,y:a.pageY})):(d.selectedGridItem=e.row(a).data,d._scheduleOpen(this,null,{x:a.pageX,y:a.pageY}))}))},_calculateGridHeight:function(){var a=x.getBox().h-30-60;v.set(this.searchResultsNode,"height",a-270-80+"px")},_rowSelect:function(a){this.emit("row-select",{data:a.data,scheme:this._scheme})},
_rowDeSelect:function(a){this.emit("row-deselect",{data:a.data,scheme:this._scheme})},_fillConceptSchemeSelect:function(a){u.addOptionsToSelect(this.conceptSchemeSelect,{data:a,idProperty:"id",labelProperty:"name"});this.own(s(this.conceptSchemeSelect,"change",m.hitch(this,function(){this.emit("scheme.changed",{schemeId:this.conceptSchemeSelect.value});q.set(this.addConceptButton,"disabled",!1);q.set(this.importConceptButton,"disabled",!1);q.set(this.editSchemeButton,"disabled",!1);this._search()})))},
_createContextMenu:function(){var a=new e({}),b=this;a.addChild(new r({label:"Add narrower concept",onClick:m.hitch(this,function(){b.emit("concept.addnarrower",{conceptId:a.selectedGridItem.id})})}));a.addChild(new r({label:"Add subordinate array",onClick:m.hitch(this,function(){b.emit("concept.addsubarray",{conceptId:a.selectedGridItem.id})})}));a.addChild(new r({label:"Edit",onClick:m.hitch(this,function(){b.emit("concept.edit",{conceptId:a.selectedGridItem.id})})}));a.addChild(new r({label:"Delete",
onClick:m.hitch(this,function(){b.emit("concept.delete",{conceptId:a.selectedGridItem.id})})}));a.addChild(new n);a.addChild(new r({label:"Add concept or collection",onClick:m.hitch(this,function(){b.emit("concept.create")})}));return a},_createCollectionContextMenu:function(){var a=new e({}),b=this;a.addChild(new r({label:"Add member",onClick:m.hitch(this,function(){b.emit("concept.addmember",{conceptId:a.selectedGridItem.id})})}));a.addChild(new r({label:"Edit",onClick:m.hitch(this,function(){b.emit("concept.edit",
{conceptId:a.selectedGridItem.id})})}));a.addChild(new r({label:"Delete",onClick:m.hitch(this,function(){b.emit("concept.delete",{conceptId:a.selectedGridItem.id})})}));a.addChild(new n);a.addChild(new r({label:"Add concept or collection",onClick:m.hitch(this,function(){b.emit("concept.create")})}));return a},_search:function(a){a?a.preventDefault():null;a=u.getSelectedOption(this.conceptSchemeSelect);if(-1==a)h.publish("dGrowl","You have to select a scheme.",{title:"",sticky:!1,channel:"warn"});
else{var b={type:u.getSelectedOption(this.conceptTypeSelect),label:this.labelInput.value,sort:"+label"},b=this.appUi.conceptController.getConceptStore(a).filter(b);this.init(a,b);this.appUi._slideMenu._slideOpen()}},_resetSearchInputs:function(){this.labelSearchForm.reset()},_createConcept:function(a){a.preventDefault();this.appUi._createConcept(a)},_importConcept:function(a){a.preventDefault();this.appUi._importConcept(a)},_editLanguages:function(a){a.preventDefault();this.appUi._editLanguages(a)},
_editConceptScheme:function(a){a.preventDefault();this.appUi._editConceptScheme(a)}})})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(g,l,m){return g([l,m],{})})},"dgrid/Grid":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/on dojo/has ./List ./util/misc dojo/_base/sniff".split(" "),function(g,l,m,p,d,c,k,f){function b(a,b){b&&b.nodeType&&a.appendChild(b)}g=g(k,{columns:null,hasNeutralSort:!1,cellNavigation:!0,
tabableHeader:!0,showHeader:!0,column:function(a){return"object"!==typeof a?this.columns[a]:this.cell(a).column},listType:"grid",cell:function(a,b){if(a.column&&a.element)return a;a.target&&a.target.nodeType&&(a=a.target);var c;if(a.nodeType){do{if(this._rowIdToObject[a.id])break;var f=a.columnId;if(f){b=f;c=a;break}a=a.parentNode}while(a&&a!==this.domNode)}if(!c&&"undefined"!==typeof b){var d=this.row(a);if(f=d&&d.element)for(var f=f.getElementsByTagName("td"),k=0;k<f.length;k++)if(f[k].columnId===
b){c=f[k];break}}if(null!=a)return{row:d||this.row(a),column:b&&this.column(b),element:c}},createRowCells:function(a,b,d,n,k){var l=m.create("table",{className:"dgrid-row-table",role:"presentation"}),h=9>c("ie")?m.create("tbody",null,l):l,g,p,x,u,y,z,w,A,E,F;d=d||this.subRows;p=0;for(x=d.length;p<x;p++){z=d[p];g=m.create("tr",null,h);z.className&&(g.className=z.className);u=0;for(y=z.length;u<y;u++){w=z[u];A=w.id;E=w.field?" field-"+f.escapeCssIdentifier(w.field,"-"):"";(F="function"===typeof w.className?
w.className(n):w.className)&&(E+=" "+F);E=m.create(a,{className:"dgrid-cell"+(A?" dgrid-column-"+f.escapeCssIdentifier(A,"-"):"")+E,role:"th"===a?"columnheader":"gridcell"});E.columnId=A;if(A=w.colSpan)E.colSpan=A;if(A=w.rowSpan)E.rowSpan=A;b(E,w,n,k);g.appendChild(E)}}return l},_createBodyRowCell:function(a,c,f,d){var k=f;c.get?k=c.get(f):"field"in c&&"_item"!==c.field&&(k=f[c.field]);c.renderCell?b(a,c.renderCell(f,k,a,d)):this._defaultRenderCell.call(c,f,k,a,d)},_createHeaderRowCell:function(a,
c){var f=c.headerNode=a,d=c.field;d&&(a.field=d);if(c.renderHeaderCell)b(f,c.renderHeaderCell(f));else if("label"in c||c.field)f.appendChild(document.createTextNode("label"in c?c.label:c.field));!1!==c.sortable&&(d&&"_item"!==d)&&(a.sortable=!0,a.className+=" dgrid-sortable")},left:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,-(b||1),"dgrid-cell"))},right:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,b||1,"dgrid-cell"))},_defaultRenderCell:function(a,
b,c){if(this.formatter){var f=this.formatter,d=this.grid.formatterScope;c.innerHTML="string"===typeof f&&d?d[f](b,a):this.formatter(b,a)}else null!=b&&c.appendChild(document.createTextNode(b))},renderRow:function(a,b){var c=this.createRowCells("td",l.hitch(this,"_createBodyRowCell"),b&&b.subRows,a,b),f=m.create("div",{role:"row"});f.appendChild(c);return f},renderHeader:function(){var a=this,b=this.headerNode;b.setAttribute("role","row");m.empty(b);var f=this.createRowCells("th",l.hitch(this,"_createHeaderRowCell"),
this.subRows&&this.subRows.headerRows);this._rowIdToObject[f.id=this.id+"-header"]=this.columns;b.appendChild(f);this._sortListener&&this._sortListener.remove();this._sortListener=d(f,"click,keydown",function(f){if("click"===f.type||32===f.keyCode||!c("opera")&&13===f.keyCode){var k=f.target,l,h;do if(k.sortable){l=k.field||k.columnId;h=a.sort[0];l=!a.hasNeutralSort||!h||h.property!==l||!h.descending?[{property:l,descending:h&&h.property===l&&!h.descending}]:[];h={bubbles:!0,cancelable:!0,grid:a,
parentType:f.type,sort:l};d.emit(f.target,"dgrid-sort",h)&&(a._sortNode=k,a.set("sort",l));break}while((k=k.parentNode)&&k!==b)}})},resize:function(){var a=this.headerNode.firstChild,b=this.contentNode,c;this.inherited(arguments);b.style.width="";if(b&&a&&(c=a.offsetWidth)>b.offsetWidth)b.style.width=c+"px"},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(){this.inherited(arguments);this.updateSortArrow(this.sort)},
_findSortArrowParent:function(a){var b=this.columns,c;for(c in b){var f=b[c];if(f.field===a)return f.headerNode}},updateSortArrow:function(a,b){this._lastSortedArrow&&(p.remove(this._lastSortedArrow.parentNode,"dgrid-sort-up dgrid-sort-down"),m.destroy(this._lastSortedArrow),delete this._lastSortedArrow);b&&(this.sort=a);if(a[0]){var c=a[0].property,f=a[0].descending,c=this._sortNode||this._findSortArrowParent(c);delete this._sortNode;c&&(c=c.contents||c,this._lastSortedArrow=m.create("div",{className:"dgrid-sort-arrow ui-icon",
innerHTML:"\x26nbsp;",role:"presentation"},c,"first"),p.add(c,"dgrid-sort-"+(f?"down":"up")),this.resize())}},styleColumn:function(a,b){return this.addCssRule("#"+f.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+f.escapeCssIdentifier(a,"-"),b)},_configColumns:function(a,b){var c=[],d=b instanceof Array;f.each(b,function(f,k){"string"===typeof f&&(b[k]=f={label:f});!d&&!f.field&&(f.field=k);k=f.id=f.id||(isNaN(k)?k:a+k);this._configColumn&&(this._configColumn(f,b,a),k=f.id);d&&(this.columns[k]=
f);f.grid=this;c.push(f)},this);return d?b:c},_destroyColumns:function(){this.cleanup()},configStructure:function(){var a=this.subRows,b=this._columns=this.columns;this.columns=!b||b instanceof Array?{}:b;if(a)for(b=0;b<a.length;b++)a[b]=this._configColumns(b+"-",a[b]);else this.subRows=[this._configColumns("",b)]},_getColumns:function(){return this._columns||this.columns},_setColumns:function(a){this._destroyColumns();this.subRows=null;this.columns=a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();
this.subRows=a;this._updateColumns()},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);this._started&&(this.sort.length?(this._lastSortedArrow=null,this.updateSortArrow(this.sort)):this.resize())}});g.appendIfNode=b;return g})},"dgrid/List":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-class dojo/on dojo/has ./util/misc dojo/_base/sniff".split(" "),function(g,l,m,p,d,c){function k(a,
b){a.className="dgrid-scrollbar-measure";document.body.appendChild(a);var c=a["offset"+b]-a["client"+b];a.className="";a.parentNode&&document.body.removeChild(a);return c}function f(a){m.replace(this.domNode,a,this._class||"");this._class=a}function b(){return this._class}var a=[];d("mozilla")&&a.push("has-mozilla");d("touch")&&a.push("has-touch");m.add(document.documentElement,a);d.add("pointer",function(a){return"PointerEvent"in a?"pointer":"MSPointerEvent"in a?"MSPointer":!1});var e,r;d.add("dom-scrollbar-width",
function(a,b,c){return k(c,"Width")});d.add("dom-scrollbar-height",function(a,b,c){return k(c,"Height")});d.add("dom-rtl-scrollbar-left",function(a,b,c){a=document.createElement("div");c.className="dgrid-scrollbar-measure";c.setAttribute("dir","rtl");c.appendChild(a);document.body.appendChild(c);b=!!d("ie")||!!d("trident")||/\bEdge\//.test(navigator.userAgent)||a.offsetLeft>=d("dom-scrollbar-width");c.className="";c.parentNode&&document.body.removeChild(c);l.destroy(a);c.removeAttribute("dir");return b});
var n=0,t=function(){this._started&&this.resize()},q=g(null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,addUiClasses:!0,highlightDuration:250,postscript:function(a,b){var c=this;(this._Row=function(a,b,c){this.id=a;this.data=b;this.element=c}).prototype.remove=function(){c.removeRow(this.element)};b&&(this.srcNodeRef=b=b.nodeType?b:document.getElementById(b));this.create(a,b)},listType:"list",create:function(a,b){var c=this.domNode=b||document.createElement("div"),
e;a&&(this.params=a,g.safeMixin(this,a),e=a["class"]||a.className||c.className);this.sort=this.sort||[];this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=c.id=c.id||this.id||q.autoIdPrefix+n++;this.buildRendering();e&&f.call(this,e);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var a=this.domNode,b=this.addUiClasses,e=this,f,n,k;k=this.isRTL="rtl"===(document.body.dir||document.documentElement.dir||
document.body.style.direction).toLowerCase();a.className="";a.setAttribute("role","grid");m.add(a,"dgrid dgrid-"+this.listType+(b?" ui-widget":""));f=this.headerNode=l.create("div",{className:"dgrid-header dgrid-header-row"+(b?" ui-widget-header":"")+(this.showHeader?"":" dgrid-header-hidden")},a);n=this.bodyNode=l.create("div",{className:"dgrid-scroller"},a);d("ff")&&(n.tabIndex=-1);this.headerScrollNode=l.create("div",{className:"dgrid-header dgrid-header-scroll dgrid-scrollbar-width"+(b?" ui-widget-header":
"")},a);this.footerNode=l.create("div",{className:"dgrid-footer"+(this.showFooter?"":" dgrid-footer-hidden")},a);k&&(a.className+=" dgrid-rtl"+(d("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));p(n,"scroll",function(b){e.showHeader&&(f.scrollLeft=b.scrollLeft||n.scrollLeft);b.stopPropagation();p.emit(a,"scroll",{scrollTarget:n})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=l.create("div",{className:"dgrid-content"+(b?" ui-widget-content":"")},this.bodyNode);this._listeners.push(this._resizeHandle=
p(window,"resize",c.throttleDelayed(t,this)))},postCreate:function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this.sort))},configStructure:function(){},resize:function(){var a=this.bodyNode,b=this.footerNode,b=this.showFooter?b.offsetHeight:0;this.headerScrollNode.style.height=a.style.marginTop=this.headerNode.offsetHeight+"px";a.style.marginBottom=b+"px";e||(e=d("dom-scrollbar-width"),r=d("dom-scrollbar-height"),d("ie")&&(e++,r++),
c.addCssRule(".dgrid-scrollbar-width","width: "+e+"px"),c.addCssRule(".dgrid-scrollbar-height","height: "+r+"px"),17!==e&&(c.addCssRule(".dgrid-header-row","right: "+e+"px"),c.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+e+"px")))},addCssRule:function(a,b){var e=c.addCssRule(a,b);this.cleanAddedRules&&this._listeners.push(e);return e},on:function(a,b){var c=p(this.domNode,a,b);d("dom-addeventlistener")||this._listeners.push(c);return c},cleanup:function(){for(var a in this._rowIdToObject)if(this._rowIdToObject[a]!==
this.columns){var b=document.getElementById(a);b&&this.removeRow(b,!0)}},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();this._listeners=null}this._started=!1;this.cleanup();l.destroy(this.domNode)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoRowId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},highlightRow:function(a,b){var c="dgrid-highlight"+(this.addUiClasses?" ui-state-highlight":"");a=a.element||a;m.add(a,
c);setTimeout(function(){m.remove(a,c)},b||this.highlightDuration)},adjustRowIndices:function(a){var b=a.rowIndex;if(-1<b){do-1<a.rowIndex&&(this.maintainOddEven&&m.contains(a,"dgrid-row")&&m.replace(a,1===b%2?"dgrid-row-odd":"dgrid-row-even",0===b%2?"dgrid-row-odd":"dgrid-row-even"),a.rowIndex=b++);while((a=a.nextSibling)&&a.rowIndex!==b)}},renderArray:function(a,b,c){c=c||{};var e=c.start||0,f=document.createDocumentFragment(),d=[],n=0,k=a.length;b||(this._lastCollection=a);for(;n<k;)d[n]=this.insertRow(a[n],
f,null,e++,c),n++;if((a=b?b.parentNode:this.contentNode)&&a.parentNode&&(a!==this.contentNode||k))a.insertBefore(f,b||null),k&&this.adjustRowIndices(d[k-1]);return d},renderHeader:function(){},_autoRowId:0,insertRow:function(a,b,c,e,f){var d=this.id+"-row-"+(this.collection&&this.collection.getIdentity?this.collection.getIdentity(a):this._autoRowId++),n=document.getElementById(d),k=n&&n.previousSibling;n&&(n===c&&(c=(c.connected||c).nextSibling),this.removeRow(n,!1,f));n=this.renderRow(a,f);n.className=
(n.className||"")+" dgrid-row "+(1===e%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[n.id=d]=a;b.insertBefore(n,c||null);n.rowIndex=e;k&&k.rowIndex!==n.rowIndex-1&&this.adjustRowIndices(k);return n},renderRow:function(a){var b=document.createElement("div");b.appendChild(document.createTextNode(a));return b},removeRow:function(a,b){a=a.element||a;delete this._rowIdToObject[a.id];b||l.destroy(a)},row:function(a){var b;if(a instanceof this._Row)return a;
a.target&&a.target.nodeType&&(a=a.target);if(a.nodeType){do{var c=a.id;if(b=this._rowIdToObject[c])return new this._Row(c.substring(this.id.length+5),b,a);a=a.parentNode}while(a&&a!==this.domNode)}else return"object"===typeof a?b=this.collection.getIdentity(a):(b=a,a=this._rowIdToObject[this.id+"-row-"+b]),new this._Row(b,a,document.getElementById(this.id+"-row-"+b))},cell:function(a){return{row:this.row(a)}},_move:function(a,b,c,e){var f,d;d=f=a.element;b=b||1;do if(a=f[0>b?"previousSibling":"nextSibling"]){do if((f=
a)&&-1<(f.className+" ").indexOf(c+" ")){d=f;b+=0>b?1:-1;break}while(a=(!e||!f.hidden)&&f[0>b?"lastChild":"firstChild"])}else if(f=f.parentNode,!f||f===this.bodyNode||f===this.headerNode)break;while(b);return d},up:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,-(b||1),"dgrid-row",c))},down:function(a,b,c){a.element||(a=this.row(a));return this.row(this._move(a,b||1,"dgrid-row",c))},scrollTo:function(a){"undefined"!==typeof a.x&&(this.bodyNode.scrollLeft=a.x);"undefined"!==
typeof a.y&&(this.bodyNode.scrollTop=a.y)},getScrollPosition:function(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}},get:function(a){var b="_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,b){if("object"===typeof a)for(var c in a)this.set(c,a[c]);else c="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,1)):this[a]=b;return this},
_getClass:b,_setClass:f,_getClassName:b,_setClassName:f,_setSort:function(a,b){this.sort="string"!==typeof a?a:[{property:a,descending:b}];this._applySort()},_applySort:function(){this.refresh();if(this._lastCollection){var a=this.sort;if(a&&0<a.length){var b=a[0].property,c=!!a[0].descending;this._lastCollection.sort(function(a,e){var f=a[b],d=e[b];void 0===f&&(f="");void 0===d&&(d="");return f===d?0:f>d!==c?1:-1})}this.renderArray(this._lastCollection)}},_setShowHeader:function(a){var b=this.headerNode;
this.showHeader=a;m.toggle(b,"dgrid-header-hidden",!a);this.renderHeader();this.resize();a&&(b.scrollLeft=this.getScrollPosition().x)},_setShowFooter:function(a){this.showFooter=a;m.toggle(this.footerNode,"dgrid-footer-hidden",!a);this.resize()}});q.autoIdPrefix="dgrid_";return q})},"dgrid/util/misc":function(){define(["dojo/has"],function(g){g.add("dom-contains",function(c,b,a){return!!a.contains});var l=[],m,p,d,c=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,k={defaultDelay:15,throttle:function(c,b,a){var e=
!1;a=a||k.defaultDelay;return function(){e||(e=!0,c.apply(b,arguments),setTimeout(function(){e=!1},a))}},throttleDelayed:function(c,b,a){var e=!1;a=a||k.defaultDelay;return function(){if(!e){e=!0;var d=arguments;setTimeout(function(){e=!1;c.apply(b,d)},a)}}},debounce:function(c,b,a){var e;a=a||k.defaultDelay;return function(){e&&(clearTimeout(e),e=null);var d=arguments;e=setTimeout(function(){c.apply(b,d)},a)}},each:function(c,b,a){var e,d;if(c)if("number"===typeof c.length){e=0;for(d=c.length;e<
d;e++)b.call(a,c[e],e,c)}else for(e in c)b.call(a,c[e],e,c)},addCssRule:function(c,b){m||(m=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(m),m=m.sheet||m.styleSheet,p=m.deleteRule?"deleteRule":"removeRule",d=m.cssRules?"cssRules":"rules");var a=l.length;l[a]=(m.cssRules||m.rules).length;m.addRule?m.addRule(c,b):m.insertRule(c+"{"+b+"}",l[a]);return{get:function(b){return m[d][l[a]].style[b]},set:function(b,c){"undefined"!==typeof l[a]&&(m[d][l[a]].style[b]=c)},
remove:function(){var b=l[a],c,f;if(void 0!==b){m[p](b);l[a]=void 0;c=a+1;for(f=l.length;c<f;c++)l[c]>b&&l[c]--}}}},escapeCssIdentifier:function(f,b){return"string"===typeof f?f.replace(c,b||"\\$1"):f}};return k})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/on dojo/when ./util/misc".split(" "),function(g,l,m,p,d,c,k,f){return m([g,l],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,
queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:f.defaultDelay,keepScrollPosition:!1,rowHeight:0,postCreate:function(){this.inherited(arguments);var b=this;c(this.bodyNode,"scroll",f[this.pagingMethod](function(a){b._processScroll(a)},null,this.pagingDelay))},destroy:function(){this.inherited(arguments);this._refreshTimeout&&clearTimeout(this._refreshTimeout)},renderQuery:function(b,a){var c=this,f=a&&a.container||this.contentNode,n={query:b,count:0},l,g=this.preload,h={node:d.create("div",
{className:"dgrid-preload",style:{height:"0"}},f),count:0,query:b,next:n};h.node.rowIndex=0;n.node=l=d.create("div",{className:"dgrid-preload"},f);n.previous=h;l.rowIndex=this.minRowsPerPage;g?((n.next=g.next)&&l.offsetTop>=g.node.offsetTop?n.previous=g:(n.next=g,n.previous=g.previous),n.previous.next=n,n.next.previous=n):this.preload=n;var m=d.create("div",{className:"dgrid-loading"},l,"before");d.create("div",{className:"dgrid-below"},m).innerHTML=this.loadingMessage;a=p.mixin({start:0,count:this.minRowsPerPage},
"level"in b?{queryLevel:b.level}:null);return this._trackError(function(){var f=b(a);return c.renderQueryResults(f,l,a).then(function(b){return f.totalLength.then(function(f){var h=b.length,g=l.parentNode,q=c.noDataNode;c._rows&&(c._rows.min=0,c._rows.max=h===f?Infinity:h-1);d.destroy(m);"queryLevel"in a||(c._total=f);0===f&&g&&(q&&(d.destroy(q),delete c.noDataNode),c.noDataNode=q=d.create("div",{className:"dgrid-no-data",innerHTML:c.noDataMessage}),g.insertBefore(q,c._getFirstRowSibling(g)));for(q=
g=0;q<h;q++)g+=c._calcRowHeight(b[q]);h&&g&&(c.rowHeight=g/h);f-=h;n.count=f;l.rowIndex=h;f?l.style.height=Math.min(f*c.rowHeight,c.maxEmptySpace)+"px":l.style.display="none";c._previousScrollPosition&&(c.scrollTo(c._previousScrollPosition),delete c._previousScrollPosition);return k(c._processScroll()).then(function(){return b})})}).otherwise(function(a){d.destroy(m);throw a;})})},refresh:function(b){var a=this,e=b&&b.keepScrollPosition;"undefined"===typeof e&&(e=this.keepScrollPosition);e&&(this._previousScrollPosition=
this.getScrollPosition());this.inherited(arguments);if(this._renderedCollection)return this.renderQuery(function(b){return a._renderedCollection.fetchRange({start:b.start,end:b.start+b.count})}).then(function(){a._refreshTimeout=setTimeout(function(){c.emit(a.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:a});a._refreshTimeout=null},0)})},resize:function(){this.inherited(arguments);this._processScroll()},cleanup:function(){this.inherited(arguments);this.preload=null},renderQueryResults:function(b){var a=
this.inherited(arguments),c=this._renderedCollection;c&&c.releaseRange&&a.then(function(a){a[0]&&!a[0].parentNode.tagName&&b.totalLength.then(function(){c.releaseRange(a[0].rowIndex,a[a.length-1].rowIndex+1)})});return a},_getFirstRowSibling:function(b){return b.lastChild},_calcRowHeight:function(b){var a=b.nextSibling;return a&&!/\bdgrid-preload\b/.test(a.className)?a.offsetTop-b.offsetTop:b.offsetHeight},lastScrollTop:0,_processScroll:function(b){function a(a,b,f,h){var k=n.farOffRemoval,g=a.node;
if(b>2*k){for(var l,m=g[f],q=0,r=0,p=[],t=m&&m.rowIndex,s;l=m;){var u=n._calcRowHeight(l);if(q+u+k>b||0>m.className.indexOf("dgrid-row")&&0>m.className.indexOf("dgrid-loading"))break;m=l[f];q+=u;r+=l.count||1;n.removeRow(l,!0);p.push(l);"rowIndex"in l&&(s=l.rowIndex)}n._renderedCollection.releaseRange&&("number"===typeof t&&"number"===typeof s)&&(h?n._renderedCollection.releaseRange(s,t+1):n._renderedCollection.releaseRange(t,s+1),n._rows[h?"max":"min"]=s,n._rows.max>=n._total-1&&(n._rows.max=Infinity));
a.count+=r;h?(g.rowIndex-=r,c(a)):g.style.height=g.offsetHeight+q+"px";var v=document.createElement("div");for(a=p.length;a--;)v.appendChild(p[a]);setTimeout(function(){d.destroy(v)},1)}}function c(a,b){a.node.style.height=Math.min(a.count*n.rowHeight,b?Infinity:n.maxEmptySpace)+"px"}function f(a,b){do a=b?a.next:a.previous;while(a&&!a.node.offsetWidth);return a}if(this.rowHeight){var n=this,k=n.bodyNode;b=b&&b.scrollTop||this.getScrollPosition().y;var k=k.offsetHeight+b,l,h,g=n.preload,m=n.lastScrollTop,
p=n.bufferRows*n.rowHeight,u=p-n.rowHeight,y,z=!0;for(n.lastScrollTop=b;g&&!g.node.offsetWidth;)g=g.previous;for(;g&&g!==l;){l=n.preload;n.preload=g;h=g.node;var w=h.offsetTop;if(k+1+u<w)g=f(g,z=!1);else if(b-1-u>w+h.offsetHeight)g=f(g,z=!0);else{var w=((h.rowIndex?b-p:k)-w)/n.rowHeight,A=(k-b+2*p)/n.rowHeight,E=Math.max(Math.min((b-m)*n.rowHeight,n.maxRowsPerPage/2),n.maxRowsPerPage/-2),A=A+Math.min(Math.abs(E),10);0===h.rowIndex&&(w-=A);w=Math.max(w,0);10>w&&(0<w&&A+w<n.maxRowsPerPage)&&(A+=Math.max(0,
w),w=0);A=Math.min(Math.max(A,n.minRowsPerPage),n.maxRowsPerPage,g.count);if(0===A)g=f(g,z);else{var A=Math.ceil(A),w=Math.min(Math.floor(w),g.count-A),F={};g.count-=A;var G=h,I,E=n.queryRowsOverlap,N=(0<h.rowIndex||h.offsetTop>b)&&g;if(N){var Q=g.previous;Q&&(a(Q,b-(Q.node.offsetTop+Q.node.offsetHeight),"nextSibling"),0<w&&Q.node===h.previousSibling?(w=Math.min(g.count,w),g.previous.count+=w,c(g.previous,!0),h.rowIndex+=w,E=0):A+=w,g.count-=w);F.start=h.rowIndex-E;F.count=Math.min(A+E,n.maxRowsPerPage);
h.rowIndex=F.start+F.count}else g.next&&(a(g.next,g.next.node.offsetTop-k,"previousSibling",!0),G=h.nextSibling,G===g.next.node?(g.next.count+=g.count-w,g.next.node.rowIndex=w+A,c(g.next),g.count=w,E=0):I=!0),F.start=g.count,F.count=Math.min(A+E,n.maxRowsPerPage);I&&(G&&G.offsetWidth)&&(I=G.offsetTop);c(g);"level"in g.query&&(F.queryLevel=g.query.level);if("queryLevel"in F||!(F.start>n._total||0>F.count)){var H=d.create("div",{className:"dgrid-loading",style:{height:A*n.rowHeight+"px"}},G,"before");
d.create("div",{className:"dgrid-"+(N?"below":"above"),innerHTML:n.loadingMessage},H);H.count=A;n._trackError(function(){(function(a,b,f){var h=g.query(F);y=n.renderQueryResults(h,a,F).then(function(k){var g=n._rows;g&&(!("queryLevel"in F)&&k.length)&&(b?(g.max<=g.min&&(g.min=k[0].rowIndex),g.max=k[k.length-1].rowIndex):(g.max<=g.min&&(g.max=k[k.length-1].rowIndex),g.min=k[0].rowIndex));G=a.nextSibling;d.destroy(a);f&&(G&&G.offsetWidth)&&(g=n.getScrollPosition(),n.scrollTo({x:g.x,y:g.y+G.offsetTop-
f,preserveMomentum:!0}));h.totalLength.then(function(a){"queryLevel"in F||(n._total=a,n._rows&&n._rows.max>=n._total-1&&(n._rows.max=Infinity));b&&(b.count=a-b.node.rowIndex,c(b))});n._processScroll();return k},function(b){d.destroy(a);throw b;})})(H,N,I)});g=g.previous}}}}return y}}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/Deferred dojo/aspect dojo/dom-construct dojo/has dojo/on dojo/when".split(" "),function(g,l,m,p,d,c,k,f){function b(a){if("object"!==
typeof a)a=Error(a);else if("cancel"===a.dojoType)return;k.emit(this.domNode,"dgrid-error",{grid:this,error:a,cancelable:!0,bubbles:!0})}return g(null,{collection:null,_renderedCollection:null,_rows:null,_observerHandle:null,shouldTrackCollection:!0,getBeforePut:!0,noDataMessage:"",loadingMessage:"",_total:0,constructor:function(){this.dirty={};this._updating={};this._columnsWithSet={};p.before(this,"configStructure",l.hitch(this,function(){this._columnsWithSet={}}))},destroy:function(){this.inherited(arguments);
this._renderedCollection&&this._cleanupCollection()},_configColumn:function(a){a.set&&(this._columnsWithSet[a.field]=a);this.inherited(arguments)},_setCollection:function(a){this._renderedCollection&&(this.cleanup(),this._cleanupCollection({shouldRevert:!a||a.storage!==this._renderedCollection.storage}));this.collection=a;if(this._started){if(a){var b=a;this.sort&&0<this.sort.length&&(b=a.sort(this.sort));b.track&&this.shouldTrackCollection&&(b=b.track(),this._rows=[],this._observerHandle=this._observeCollection(b,
this.contentNode,{rows:this._rows}));this._renderedCollection=b}this.refresh()}},_setStore:function(){},_getTotal:function(){return this._total},_cleanupCollection:function(a){a=a||{};this._renderedCollection.tracking&&this._renderedCollection.tracking.remove();this._observerHandle&&(this._observerHandle.remove(),this._observerHandle=this._rows=null);!1!==a.shouldRevert&&(this.dirty={});this._renderedCollection=this.collection=null},_applySort:function(){this.collection&&this.set("collection",this.collection)},
row:function(){var a=this.inherited(arguments);a&&(a.data&&"undefined"!==typeof a.id)&&(a.id=this.collection.getIdentity(a.data));return a},refresh:function(){var a=this.inherited(arguments);this.collection||(this.noDataNode=d.create("div",{className:"dgrid-no-data",innerHTML:this.noDataMessage},this.contentNode));return a},refreshCell:function(a){this.inherited(arguments);var b=a.row,c=this;if(!this.collection||!this._createBodyRowCell)throw Error("refreshCell requires a Grid with a collection.");
return this.collection.get(b.id).then(function(f){var k=a.element;k.widget&&k.widget.destroyRecursive();d.empty(k);var g=c.dirty&&c.dirty[b.id];g&&(f=l.delegate(f,g));c._createBodyRowCell(k,a.column,f)})},renderArray:function(){var a=this.inherited(arguments);this.collection||a.length&&this.noDataNode&&d.destroy(this.noDataNode);return a},insertRow:function(a,b,c,f,k){var g=this.collection,h=this.dirty,g=g&&g.getIdentity(a),m;g in h&&!(g in this._updating)&&(m=h[g]);m&&(a=l.delegate(a,m));h=this.inherited(arguments);
k&&k.rows&&(k.rows[f]=h);this.noDataNode&&(d.destroy(this.noDataNode),this.noDataNode=null);return h},updateDirty:function(a,b,c){var f=this.dirty,d=f[a];d||(d=f[a]={});d[b]=c},save:function(){function a(a,d){return function(h){var g=b._columnsWithSet,l=b._updating,m,p;if("function"===typeof h.set)h.set(d);else for(m in d)h[m]=d[m];for(m in g)p=g[m].set(h),void 0!==p&&(h[m]=p);l[a]=!0;return c.put(h).then(function(b){delete f[a];delete l[a];k[a]=b;return k})}}var b=this,c=this.collection,f=this.dirty,
d=new m,k={},h=function(a){var f;return b.getBeforePut||!(f=b.row(a).data)?function(){return c.get(a)}:function(){return f}},g=d.then(function(){return k}),l;for(l in f)var p=a(l,f[l]),g=g.then(h(l)).then(p);d.resolve();return g},revert:function(){this.dirty={};this.refresh()},_trackError:function(a){"string"===typeof a&&(a=l.hitch(this,a));var c=this,d;try{d=f(a())}catch(n){a=new m,a.reject(n),d=a.promise}d.otherwise(function(a){b.call(c,a)});return d},removeRow:function(a,b,c){var f={element:a};
!b&&(this.noDataMessage&&this.up(f).element===a&&this.down(f).element===a)&&(this.noDataNode=d.create("div",{className:"dgrid-no-data",innerHTML:this.noDataMessage},this.contentNode));(f=c&&c.rows||this._rows)&&delete f[a.rowIndex];return this.inherited(arguments)},renderQueryResults:function(a,b,c){c=l.mixin({rows:this._rows},c);var f=this;return a.then(function(a){a=f.renderArray(a,b,c);delete f._lastCollection;return a})},_observeCollection:function(a,b,c){var f=this,d=c.rows,k,h=[a.on("delete, update",
function(a){var h=a.previousIndex,g=a.index;void 0!==h&&d[h]&&("max"in d&&(void 0===g||g<d.min||g>d.max)&&d.max--,k=d[h],k.parentNode===b&&f.removeRow(k,!1,c),d.splice(h,1),("delete"===a.type||"update"===a.type&&(h<g||void 0===g))&&d[h]&&d[h].rowIndex--);"delete"===a.type&&(k=null)}),a.on("add, update",function(a){var h=a.previousIndex,g=a.index;if(void 0!==g&&(!("max"in d)||g>=d.min&&g<=d.max)){"max"in d&&(void 0===h||h<d.min||h>d.max)&&d.max++;if(d.length){if(h=d[g],!h&&(h=d[g-1]))h=(h.connected||
h).nextSibling}else h=f._getFirstRowSibling&&f._getFirstRowSibling(b);k&&(h&&k.id===h.id)&&(h=(h.connected||h).nextSibling);h&&!h.parentNode&&(h=document.getElementById(h.id));d.splice(g,0,void 0);k=f.insertRow(a.target,b,h,g,c);f.highlightRow(k)}k=null}),a.on("add, delete, update",function(b){var c="undefined"!==typeof b.previousIndex?b.previousIndex:Infinity,e="undefined"!==typeof b.index?b.index:Infinity,h=Math.min(c,e);c!==e&&d[h]&&f.adjustRowIndices(d[h]);Infinity!==c&&(f._processScroll&&(d[c]||
d[c-1]))&&f._processScroll();f._onNotification(d,b,a);a===f._renderedCollection&&"totalLength"in b&&(f._total=b.totalLength)})];return{remove:function(){for(;0<h.length;)h.pop().remove()}}},_onNotification:function(){}})})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/dom-class dojo/on dojo/_base/lang dojo/has ./util/misc dojo/_base/sniff".split(" "),function(g,l,m,p,d,c,k){function f(a){a.preventDefault()}var b={checkbox:1,radio:1,button:1},a=/\bdgrid-cell\b/,e=/\bdgrid-row\b/,
r=g(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=d.mixin({},r.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=d.mixin({},r.defaultHeaderKeyMap))},postCreate:function(){function c(a){var e=a.target;return e.type&&(!b[e.type]||32===a.keyCode)}function f(b){function h(){d._focusedHeaderNode&&(d._focusedHeaderNode.tabIndex=-1);if(d.showHeader){if(k)for(var a=d.headerNode.getElementsByTagName("th"),b=
0,c;c=a[b];++b){if(n.test(c.className)){d._focusedHeaderNode=m=c;break}}else d._focusedHeaderNode=m=d.headerNode;m&&(m.tabIndex=d.tabIndex)}}var k=d.cellNavigation,n=k?a:e,g=b===d.headerNode,m=b;g?(h(),l.after(d,"renderHeader",h,!0)):l.after(d,"renderArray",function(a){var c=d._focusedNode||m;if(n.test(c.className)&&b.contains(c))return a;for(var e=b.getElementsByTagName("*"),f=0,h;h=e[f];++f)if(n.test(h.className)){c=d._focusedNode=h;break}c.tabIndex=d.tabIndex;return a});d._listeners.push(p(b,"mousedown",
function(a){c(a)||d._focusOnNode(a.target,g,a)}));d._listeners.push(p(b,"keydown",function(a){if(!a.metaKey&&!a.altKey){var b=d[g?"headerKeyMap":"keyMap"][a.keyCode];b&&!c(a)&&b.call(d,a)}}))}this.inherited(arguments);var d=this;this.tabableHeader&&(f(this.headerNode),p(this.headerNode,"dgrid-cellfocusin",function(){d.scrollTo({x:this.scrollLeft})}));f(this.contentNode);this._debouncedEnsureScroll=k.debounce(this._ensureScroll,this)},removeRow:function(a){if(!this._focusedNode)return this.inherited(arguments);
var b=this,c=document.activeElement===this._focusedNode,e=this[this.cellNavigation?"cell":"row"](this._focusedNode),f=e.row||e,d;a=a.element||a;if(a===f.element){d=this.down(f,!0);if(!d||d.element===a)d=this.up(f,!0);this._removedFocus={active:c,rowId:f.id,columnId:e.column&&e.column.id,siblingId:!d||d.element===a?void 0:d.id};setTimeout(function(){b._removedFocus&&b._restoreFocus(f.id)},0);this._focusedNode=null}this.inherited(arguments)},insertRow:function(){var a=this.inherited(arguments);this._removedFocus&&
!this._removedFocus.wait&&this._restoreFocus(a);return a},_restoreFocus:function(a){var b=this._removedFocus,c;if((a=(a=a&&this.row(a))&&a.element&&a.id===b.rowId?a:"undefined"!==typeof b.siblingId&&this.row(b.siblingId))&&a.element){if(!a.element.parentNode.parentNode){b.wait=!0;return}"undefined"!==typeof b.columnId&&(c=this.cell(a,b.columnId))&&c.element&&(a=c);b.active&&0!==a.element.offsetHeight?this._focusOnNode(a,!1,null):(m.add(a.element,"dgrid-focus"),a.element.tabIndex=this.tabIndex,this._focusedNode=
a.element)}delete this._removedFocus},addKeyHandler:function(a,b,c){return l.after(this[c?"headerKeyMap":"keyMap"],a,b,!0)},_ensureRowScroll:function(a){var b=this.getScrollPosition().y;b>a.offsetTop?this.scrollTo({y:a.offsetTop}):b+this.contentNode.offsetHeight<a.offsetTop+a.offsetHeight&&this.scrollTo({y:a.offsetTop-this.contentNode.offsetHeight+a.offsetHeight})},_ensureColumnScroll:function(a){var b=this.getScrollPosition().x,c=a.offsetLeft;if(b>c)this.scrollTo({x:c});else{var e=this.bodyNode.clientWidth;
a=a.offsetWidth;var f=c+a;b+e<f&&this.scrollTo({x:e>a?f-e:c})}},_ensureScroll:function(a,b){this.cellNavigation&&((this.columnSets||1<this.subRows.length)&&!b)&&this._ensureRowScroll(a.row.element);this.bodyNode.clientWidth<this.contentNode.offsetWidth&&this._ensureColumnScroll(a.element)},_focusOnNode:function(b,c,f){var h="_focused"+(c?"Header":"")+"Node",k=this[h],n=this.cellNavigation?"cell":"row",g=this[n](b),l,q,r,s,t;if(b=g&&g.element){if(this.cellNavigation){l=b.getElementsByTagName("input");
t=0;for(r=l.length;t<r;t++)if(q=l[t],(-1!==q.tabIndex||"_dgridLastValue"in q)&&!q.disabled){q.focus();s=!0;break}}null!==f&&(f=d.mixin({grid:this},f),f.type&&(f.parentType=f.type),f.bubbles||(f.bubbles=!0));k&&(m.remove(k,"dgrid-focus"),k.removeAttribute("tabindex"),f&&(f[n]=this[n](k),p.emit(k,"dgrid-cellfocusout",f)));k=this[h]=b;f&&(f[n]=g);h=this.cellNavigation?a:e;!s&&h.test(b.className)&&(b.tabIndex=this.tabIndex,b.focus());m.add(b,"dgrid-focus");f&&p.emit(k,"dgrid-cellfocusin",f);this._debouncedEnsureScroll(g,
c)}},focusHeader:function(a){this._focusOnNode(a||this._focusedHeaderNode,!0)},focus:function(a){(a=a||this._focusedNode)?this._focusOnNode(a,!1):this.contentNode.focus()}}),n=r.moveFocusVertical=function(a,b){var c=this.cellNavigation,e=this[c?"cell":"row"](a),e=c&&e.column.id,f=this.down(this._focusedNode,b,!0);c&&(f=this.cell(f,e));this._focusOnNode(f,!1,a);a.preventDefault()};g=r.moveFocusUp=function(a){n.call(this,a,-1)};var t=r.moveFocusDown=function(a){n.call(this,a,1)},q=r.moveFocusPageUp=
function(a){n.call(this,a,-this.pageSkip)},h=r.moveFocusPageDown=function(a){n.call(this,a,this.pageSkip)},s=r.moveFocusHorizontal=function(a,b){if(this.cellNavigation){var c=!this.row(a);this._focusOnNode(this.right(this["_focused"+(c?"Header":"")+"Node"],b),c,a);a.preventDefault()}},v=r.moveFocusLeft=function(a){s.call(this,a,-1)},x=r.moveFocusRight=function(a){s.call(this,a,1)},u=r.moveHeaderFocusEnd=function(a,b){var c;this.cellNavigation&&(c=this.headerNode.getElementsByTagName("th"),this._focusOnNode(c[b?
0:c.length-1],!0,a));a.preventDefault()},y=r.moveHeaderFocusHome=function(a){u.call(this,a,!0)},z=r.moveFocusEnd=function(a,b){var e=this.cellNavigation,f=this.contentNode,h=f.scrollTop+(b?0:f.scrollHeight),f=f[b?"firstChild":"lastChild"],k=-1<f.className.indexOf("dgrid-preload"),n=k?f[(b?"next":"previous")+"Sibling"]:f,g=n.offsetTop+(b?0:n.offsetHeight),m;if(k){for(;n&&0>n.className.indexOf("dgrid-row");)n=n[(b?"next":"previous")+"Sibling"];if(!n)return}!k||1>f.offsetHeight?(e&&(n=this.cell(n,this.cell(a).column.id)),
this._focusOnNode(n,!1,a)):(c("dom-addeventlistener")||(a=d.mixin({},a)),m=l.after(this,"renderArray",function(c){var f=c[b?0:c.length-1];e&&(f=this.cell(f,this.cell(a).column.id));this._focusOnNode(f,!1,a);m.remove();return c}));h===g&&a.preventDefault()},w=r.moveFocusHome=function(a){z.call(this,a,!0)};r.defaultKeyMap={32:f,33:q,34:h,35:z,36:w,37:v,38:g,39:x,40:t};r.defaultHeaderKeyMap={32:f,35:u,36:y,37:v,39:x};return r})},"dgrid/Selection":function(){define("dojo/_base/declare dojo/dom-class dojo/on dojo/has dojo/aspect ./List dojo/has!touch?./util/touch dojo/query dojo/_base/sniff dojo/dom".split(" "),
function(g,l,m,p,d,c,k){function f(a,b){for(var c=a.unselectable=b?"on":"",e=a.getElementsByTagName("*"),f=e.length;--f;)"INPUT"===e[f].tagName||"TEXTAREA"===e[f].tagName||(e[f].unselectable=c)}function b(a,b){var c=a.bodyNode,k=b?"text":21>p("ff")?"-moz-none":"none";e&&"msUserSelect"!==e?c.style[e]=k:p("dom-selectstart")?!b&&!a._selectstartHandle?a._selectstartHandle=m(c,"selectstart",function(a){var b=a.target&&a.target.tagName;"INPUT"!==b&&"TEXTAREA"!==b&&a.preventDefault()}):b&&a._selectstartHandle&&
(a._selectstartHandle.remove(),delete a._selectstartHandle):(f(c,!b),!b&&!a._unselectableHandle?a._unselectableHandle=d.after(a,"renderRow",function(a){f(a,!0);return a}):b&&a._unselectableHandle&&(a._unselectableHandle.remove(),delete a._unselectableHandle))}p.add("dom-comparedocumentposition",function(a,b,c){return!!c.compareDocumentPosition});p.add("dom-selectstart","undefined"!==typeof document.onselectstart);var a=p("mac")?"metaKey":"ctrlKey",e=p("css-user-select"),r=(c=p("pointer"))&&"MS"===
c.slice(0,2),n=c?c+(r?"Down":"down"):"mousedown",t=c?c+(r?"Up":"up"):"mouseup";"WebkitUserSelect"===e&&"undefined"!==typeof document.documentElement.style.msUserSelect&&(e=!1);return g(null,{selectionDelegate:".dgrid-row",selectionEvents:n+","+t+",dgrid-cellfocusin",selectionTouchEvents:p("touch")?k.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments)},
postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!==this.selectionMode&&(this.clearSelection(),this.selectionMode=a,this._selectionHandlerName="_"+
a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},_setAllowTextSelection:function(a){"undefined"!==typeof a?b(this,a):b(this,"none"===this.selectionMode);this.allowTextSelection=a},_handleSelect:function(a,b){if(this[this._selectionHandlerName]&&this.allowSelect(this.row(b))&&!("dgrid-cellfocusin"===a.type&&"mousedown"===a.parentType||a.type===t&&b!==this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;if(!a.keyCode||!a.ctrlKey||32===a.keyCode)if(!a.shiftKey&&
a.type===n&&this.isSelected(b))this._waitForMouseUp=b;else this[this._selectionHandlerName](a,b);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(b,c){var e=b.keyCode?b.ctrlKey:b[a];this._lastSelected===c?this.select(c,null,!e||!this.isSelected(c)):(this.clearSelection(),this.select(c),this._lastSelected=c)},_multipleSelectionHandler:function(b,c){var e=this._lastSelected,f=b.keyCode?b.ctrlKey:b[a],d;b.shiftKey||(d=f?null:!0,e=null);this.select(c,e,d);e||(this._lastSelected=c)},
_extendedSelectionHandler:function(b,c){(2===b.button?!this.isSelected(c):!(b.keyCode?b.ctrlKey:b[a]))&&this.clearSelection(null,!0);this._multipleSelectionHandler(b,c)},_toggleSelectionHandler:function(a,b){this.select(b,null,null)},_initSelectionEvents:function(){var b=this,c=this.contentNode,e=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};p("touch")&&!p("pointer")&&this.selectionTouchEvents?(m(c,k.selector(e,this.selectionTouchEvents),function(a){b._handleSelect(a,this);
b._ignoreMouseSelect=this}),m(c,m.selector(e,this.selectionEvents),function(a){b._ignoreMouseSelect!==this?b._handleSelect(a,this):a.type===t&&(b._ignoreMouseSelect=null)})):m(c,m.selector(e,this.selectionEvents),function(a){b._handleSelect(a,this)});this.addKeyHandler&&this.addKeyHandler(32,function(a){b._handleSelect(a,a.target)});if(this.allowSelectAll)this.on("keydown",function(c){c[a]&&(65===c.keyCode&&!/\bdgrid-input\b/.test(c.target.className))&&(c.preventDefault(),b[b.allSelected?"clearSelection":
"selectAll"]())});this._setCollection&&d.before(this,"_setCollection",function(a){b._updateDeselectionAspect(a)});this._updateDeselectionAspect()},_updateDeselectionAspect:function(a){function b(a,e){var f=c.row(a);if(f&&c.selection[f.id])c[e](f)}var c=this,e;this._removeDeselectSignals&&this._removeDeselectSignals();e=a&&a.track&&this._observeCollection?[d.before(this,"_observeCollection",function(a){e.push(a.on("delete",function(a){"undefined"===typeof a.index&&b(a.id,"deselect")}))}),d.after(this,
"_observeCollection",function(a){e.push(a.on("update",function(c){"undefined"!==typeof c.index&&b(a.getIdentity(c.target),"select")}))},!0)]:[d.before(this,"removeRow",function(a,b){var c;b||(c=this.row(a))&&c.id in this.selection&&this.deselect(c)})];this._removeDeselectSignals=function(){for(var a=e.length;a--;)e[a].remove();e=[]}},allowSelect:function(){return!0},_fireSelectionEvent:function(a){var b=this._selectionEventQueues[a],c=this._selectionTriggerEvent,e;e={bubbles:!0,grid:this};c&&(e.parentType=
c.type);e[this._selectionTargetType]=b;this._selectionEventQueues[a]=[];m.emit(this.contentNode,"dgrid-"+a,e)},_fireSelectionEvents:function(){var a=this._selectionEventQueues,b;for(b in a)a[b].length&&this._fireSelectionEvent(b)},_select:function(a,b,c){var e,f,d;"undefined"===typeof c&&(c=!0);a.element||(a=this.row(a));if(!1===c||this.allowSelect(a))if(e=this.selection,f=!!e[a.id],null===c&&(c=!f),d=a.element,!c&&!this.allSelected?delete this.selection[a.id]:e[a.id]=c,d&&(c?l.add(d,"dgrid-selected"+
(this.addUiClasses?" ui-state-active":"")):l.remove(d,"dgrid-selected ui-state-active")),c!==f&&d&&this._selectionEventQueues[(c?"":"de")+"select"].push(a),b)if(b.element||(b=this.row(b)),b){if(b=b.element){e=this._determineSelectionDirection(d,b);e||(b=document.getElementById(b.id),e=this._determineSelectionDirection(d,b));for(;a.element!==b&&(a=this[e](a));)this._select(a,null,c)}}else this._lastSelected=d},_determineSelectionDirection:p("dom-comparedocumentposition")?function(a,b){var c=b.compareDocumentPosition(a);
return c&1?!1:2===c?"down":"up"}:function(a,b){return 1>b.sourceIndex?!1:b.sourceIndex>a.sourceIndex?"down":"up"},select:function(a,b,c){this._select(a,b,c);this._fireSelectionEvents()},deselect:function(a,b){this.select(a,b,!1)},clearSelection:function(a,b){this.allSelected=!1;for(var c in this.selection)a!==c&&this._select(c,null,!1);b||(this._lastSelected=null);this._fireSelectionEvents()},selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject){var b=this.row(this._rowIdToObject[a]);
this._select(b.id,null,!0)}this._fireSelectionEvents()},isSelected:function(a){if("undefined"===typeof a||null===a)return!1;a.element||(a=this.row(a));return a.id in this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},renderArray:function(){var a=this.inherited(arguments),b=this.selection,c,e,f;for(c=0;c<a.length;c++)e=this.row(a[c]),(f=e.id in
b?b[e.id]:this.allSelected)&&this.select(e,null,f);this._fireSelectionEvents();return a}})})},"dijit/MenuSeparator":function(){define("dojo/_base/declare dojo/dom ./_WidgetBase ./_TemplatedMixin ./_Contained dojo/text!./templates/MenuSeparator.html".split(" "),function(g,l,m,p,d,c){return g("dijit.MenuSeparator",[m,p,d],{templateString:c,buildRendering:function(){this.inherited(arguments);l.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"app/ui/widgets/ConceptDetail":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/promise/all dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/json dojo/query dojo/on dojo/dom dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ConceptDetail.html ../dialogs/ConceptEditDialog dojo/NodeList-traverse".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h){return g([n,t],{templateString:q,baseClass:"concept-detail",concept:null,conceptId:null,conceptLabel:null,scheme:null,languageController:null,listController:null,conceptSchemeController:null,_editDialog:null,postCreate:function(){this.inherited(arguments);f.set(this.mergeButton,"disabled",!0)},startup:function(){this.inherited(arguments);this._setData(this.concept)},_openEditDialog:function(a){a?a.preventDefault():null;this.emit("concept.edit",{concept:this.concept,
schemeId:this.scheme})},_openMergeDialog:function(a){a?a.preventDefault():null;this.emit("concept.merge",{concept:this.concept,schemeId:this.scheme})},_deleteConcept:function(a){a?a.preventDefault():null;this.emit("concept.delete",{concept:this.concept,schemeId:this.scheme})},_setData:function(a){this.conceptTitleViewNode.innerHTML="\x3cstrong\x3e"+this.scheme+" : "+a.label+"\x3c/strong\x3e";this.idViewNode.innerHTML="ID: "+a.id;this.typeViewNode.innerHTML="TYPE: "+a.type;this.uriViewNode.innerHTML=
"URI: ";d.create("a",{href:this.concept.uri,innerHTML:this.concept.uri,target:"_blank"},this.uriViewNode);if(a.labels&&0<a.label.length){var b="",c="",e="",h="";l.forEach(a.labels,m.hitch(this,function(a){"prefLabel"===a.type&&(b+=a.label+" ("+a.language+"), ");"altLabel"===a.type&&(c+=a.label+" ("+a.language+"), ");"hiddenLabel"===a.type&&(e+=a.label+" ("+a.language+"), ");"sortLabel"===a.type&&(h+=a.label+" ("+a.language+"), ")}));2<c.length&&(c=c.substring(0,c.length-2));2<b.length&&(b=b.substring(0,
b.length-2));2<e.length&&(e=e.substring(0,e.length-2));2<h.length&&(h=h.substring(0,h.length-2));this.preferredLabelsNode.innerHTML=b;this.alternateLabelsNode.innerHTML=c;this.hiddenLabelsNode.innerHTML=e;this.sortLabelsNode.innerHTML=h}if(a.narrower&&0<a.narrower.length){var k=d.create("dt",{innerHTML:"Narrower"},this.relationsListNode,"first"),n="";l.forEach(a.narrower,m.hitch(this,function(a){n+='\x3ca href\x3d"'+a.uri+'" target\x3d"_blank" \x3e'+a.label+"\x3c/a\x3e ("+a.id+"), "}));2<n.length&&
(n=n.substring(0,n.length-2));d.create("dd",{innerHTML:n},k)}if(a.broader&&0<a.broader.length){var k=d.create("dt",{innerHTML:"Broader"},this.relationsListNode,"last"),g="";l.forEach(a.broader,m.hitch(this,function(a){g+='\x3ca href\x3d"'+a.uri+'" target\x3d"_blank" \x3e'+a.label+"\x3c/a\x3e ("+a.id+"), "}));2<g.length&&(g=g.substring(0,g.length-2));d.create("dd",{innerHTML:g},k)}if(a.related&&0<a.related.length){var k=d.create("dt",{innerHTML:"Related"},this.relationsListNode,"last"),p="";l.forEach(a.related,
m.hitch(this,function(a){p+='\x3ca href\x3d"'+a.uri+'" target\x3d"_blank" \x3e'+a.label+"\x3c/a\x3e ("+a.id+"), "}));2<p.length&&(p=p.substring(0,p.length-2));d.create("dd",{innerHTML:p},k)}if(a.member_of&&0<a.member_of.length){var k=d.create("dt",{innerHTML:"Member of"},this.relationsListNode,"last"),r="";l.forEach(a.member_of,m.hitch(this,function(a){r+='\x3ca href\x3d"'+a.uri+'" target\x3d"_blank" \x3e'+a.label+"\x3c/a\x3e ("+a.id+"), "}));2<r.length&&(r=r.substring(0,r.length-2));d.create("dd",
{innerHTML:r},k)}if(a.members&&0<a.members.length){var k=d.create("dt",{innerHTML:"Members"},this.relationsListNode,"last"),q="";l.forEach(a.members,m.hitch(this,function(a){q+='\x3ca href\x3d"'+a.uri+'" target\x3d"_blank" \x3e'+a.label+"\x3c/a\x3e ("+a.id+"), "}));2<q.length&&(q=q.substring(0,q.length-2));d.create("dd",{innerHTML:q},k)}if(a.subordinate_arrays&&0<a.subordinate_arrays.length){var k=d.create("dt",{innerHTML:"Subordinate \x3cbr\x3earrays"},this.relationsListNode,"last"),t="";l.forEach(a.subordinate_arrays,
m.hitch(this,function(a){t+='\x3ca href\x3d"'+a.uri+'" target\x3d"_blank" \x3e'+a.label+"\x3c/a\x3e ("+a.id+"), "}));2<t.length&&(t=t.substring(0,t.length-2));d.create("dd",{innerHTML:t},k)}if(a.superordinates&&0<a.superordinates.length){var k=d.create("dt",{innerHTML:"Superordinates"},this.relationsListNode,"last"),N="";l.forEach(a.superordinates,m.hitch(this,function(a){N+='\x3ca href\x3d"'+a.uri+'" target\x3d"_blank" \x3e'+a.label+"\x3c/a\x3e ("+a.id+"), "}));2<N.length&&(N=N.substring(0,N.length-
2));d.create("dd",{innerHTML:N},k)}if(a.matches){var k=a.matches,Q=!1;k.broad&&0<k.broad.length&&(this._loadMatches(k.broad,"broad"),Q=!0);k.narrow&&0<k.narrow.length&&(this._loadMatches(k.narrow,"narrow"),Q=!0);k.exact&&0<k.exact.length&&(this._loadMatches(k.exact,"exact"),Q=!0);k.close&&0<k.close.length&&(this._loadMatches(k.close,"close"),Q=!0);k.related&&0<k.related.length&&(this._loadMatches(k.related,"related"),Q=!0);Q&&f.set(this.mergeButton,"disabled",!1)}a.notes&&0<a.notes.length?l.forEach(a.notes,
m.hitch(this,function(a){d.create("li",{lang:a.language,innerHTML:"\x3cstrong\x3e"+this._capitalize(a.type)+"\x3c/strong\x3e \x3cem\x3e("+a.language+")\x3c/em\x3e: "+a.note},this.scopeNoteNode,"last")})):d.destroy(this.scopeNoteNode);a.sources&&0<a.sources.length?l.forEach(a.sources,m.hitch(this,function(a){d.create("li",{innerHTML:a.citation},this.sourcesNode,"last")})):d.destroy(this.sourcesNode)},_capitalize:function(a){return a[0].toUpperCase()+a.substr(1)},_loadMatches:function(b,e){var f=d.create("dt",
{innerHTML:this.capitalize(e),id:e},this.matchesListNode,"last"),h=[],k=d.create("dd",{innerHTML:""},f);l.forEach(b,function(a,f){d.create("span",{id:a,innerHTML:a+'\x26nbsp;\x3ci class\x3d"fa fa-spinner fa-pulse"\x3e\x3c/i\x3e\x26nbsp;'},k);h.push(this.conceptSchemeController.getMatch(a,e).then(m.hitch(this,function(a){var e=r.byId(a.data.uri);e.innerHTML='\x3ca href\x3d"'+a.data.uri+'" target\x3d"_blank" \x3e'+a.data.label+"\x3c/a\x3e"+(f===b.length-1?"":", ");c.set(e,"matched")}),function(a){}))},
this);p(h).then(function(b){a("span:not(.matched)",r.byId(e)).forEach(function(a){d.destroy(a)})})},capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}})})},"app/ui/dialogs/ConceptEditDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/on dijit/Dialog dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../utils/DomUtils ../managers/LabelManager ../managers/NoteManager ../managers/RelationManager ../managers/MatchesManager ../../utils/DomUtils dojo/text!./templates/ConceptEditDialog.html dijit/layout/TabContainer dijit/layout/ContentPane".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q){return g([c,k,f],{templateString:q,baseClass:"concept-edit-dialog",concept:null,dialog:null,parent:null,scheme:null,languageController:null,listController:null,conceptSchemeController:null,postCreate:function(){this.inherited(arguments);this.dialog=new d({title:"Edit \x3cstrong\x3e"+this.concept.label+"\x3c/strong\x3e",style:"width: 1000px; min-height: 700px;",onHide:l.hitch(this,function(){this.parent._closeEditDialog()})});this.dialog.closeText.innerHTML=
'\x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e';this.dialog.set("content",this);t.addOptionsToSelect(this.typeNode,{data:this.listController.getConceptTypes(),idProperty:"value",labelProperty:"label"});p(this.typeNode,"change",l.hitch(this,function(a){this._toggleMatches(a.target.value);this._toggleRelations(a.target.value)}));this._createLabelsTab(this.concept);this._createNotesTab(this.concept);this._createRelationsTab(this.concept);this._createMatchesTab(this.concept)},startup:function(){this.inherited(arguments);
this.concept&&this._setData(this.concept);this.showDialog();this.tabContainer.layout();this.dialog.resize()},_setData:function(a){this.schemeNode.value=this.scheme;this.typeNode.value=this.concept.type;this._toggleMatches(this.concept.type)},showDialog:function(){this.tabContainer.layout();this.dialog.show();this.dialog.resize()},_toggleMatches:function(a){"collection"===a?(this.tabMatches.set("disabled",!0),this.tabContainer.selectedChildWidget===this.tabMatches&&this.tabContainer.selectChild(this.tabLabels)):
this.tabMatches.set("disabled",!1)},_toggleRelations:function(a){"collection"===a?this.relationManager.setCollectionTypes():this.relationManager.setConceptTypes()},_close:function(){this.dialog.hide()},_saveConcept:function(a){a?a.preventDefault():null;a={};this.concept&&(a.id=this.concept.id,a.uri=this.concept.uri,a.concept_scheme=this.scheme);a.type=this.typeNode.value;var b=this.labelManager.getData();l.mixin(a,b);b=this.noteManager.getData();l.mixin(a,b);b=this.relationManager.getData();l.mixin(a,
b);"collection"!==a.type&&(b=this.matchesManager.getData(),l.mixin(a,b));this.emit("concept.save",{concept:a,schemeId:this.scheme})},_cancel:function(a){a?a.preventDefault():null;this.parent._closeEditDialog()},_createLabelsTab:function(b){this.languageController.getLanguageStore().fetch().then(l.hitch(this,function(c){this.labelManager=new a({languageController:this.languageController,listController:this.listController,concept:b,languageList:c},this.labelsNode);this.labelManager.startup()}))},_createNotesTab:function(a){this.languageController.getLanguageStore().fetch().then(l.hitch(this,
function(b){this.noteManager=new e({languageController:this.languageController,listController:this.listController,concept:a,languageList:b},this.notesNode);this.noteManager.startup()}))},_createRelationsTab:function(a){this.languageController.getLanguageStore().fetch().then(l.hitch(this,function(b){this.relationManager=new r({languageController:this.languageController,listController:this.listController,conceptSchemeController:this.conceptSchemeController,concept:a,languageList:b,scheme:this.scheme},
this.relationsNode);this.relationManager.startup()}))},_createMatchesTab:function(a){this.languageController.getLanguageStore().fetch().then(l.hitch(this,function(b){this.matchesManager=new n({languageController:this.languageController,listController:this.listController,conceptSchemeController:this.conceptSchemeController,concept:a,languageList:b,scheme:this.scheme,matchTypes:this.listController.getMatchTypes()},this.matchesNode);this.matchesManager.startup()}))}})})},"app/ui/managers/LabelManager":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-style dojo/json dojo/on dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/LabelManager.html dstore/Memory dstore/Trackable dgrid/OnDemandGrid dgrid/extensions/DijitRegistry dgrid/extensions/ColumnResizer ../../utils/DomUtils ../dialogs/LabelsDialog".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s,v,x){return g([a,e],{templateString:r,baseClass:"label-manager",languageController:null,listController:null,concept:null,languageList:null,_labelDialog:null,_labelStore:null,_labelGrid:null,_index:0,postCreate:function(){this.inherited(arguments);this.trackableMemory=g([n,t]);this._labelStore=new this.trackableMemory({data:[]});this.concept&&l.forEach(this.concept.labels,m.hitch(this,function(a){a.id=this._index++;this._labelStore.put(a)}));this._createGrid({collection:this._labelStore},
this.labelGridNode);this._labelDialog=new x({parentNode:this,langList:this.languageList,typeList:this.listController.getLabelTypes()});f(this._labelDialog,"add.label",m.hitch(this,function(a){this._doAddLabel(a)}));f(this._labelDialog,"edit.label",m.hitch(this,function(a){this._doEditLabel(a)}))},startup:function(){this.inherited(arguments);this._labelGrid.startup();this._labelGrid.resize()},reset:function(){this._labelDialog&&this._labelDialog.reset();this._labelStore=new (g([n,t]))({data:[]});this._labelGrid.set("collection",
this._labelStore)},_createGrid:function(a,b){var c={label:{label:"Title",field:"label"},language:{label:"Language",field:"language",formatter:m.hitch(this,function(a){var b=l.filter(this.languageList,function(b){return b.id===a})[0];return b?b.name:"-"})},type:{label:"Type",field:"type",formatter:m.hitch(this,function(a){return l.filter(this.listController.getLabelTypes(),function(b){return b.value===a})[0].label})},actions:{label:"",renderCell:m.hitch(this,function(a){if(void 0===a.id)return null;
var b=p.create("div",{"class":"dGridHyperlink"});p.create("a",{href:"#",title:"Edit label",className:"fa fa-pencil",innerHTML:"",style:"margin-right: 12px;",onclick:m.hitch(this,function(b){b.preventDefault();this._editLabel(a)})},b);p.create("a",{href:"#",title:"Remove label",className:"fa fa-trash",innerHTML:"",onclick:m.hitch(this,function(b){b.preventDefault();this._removeRow(a.id)})},b);return b})}};this._labelGrid=c=new (g([q,h,s]))({collection:a.collection,columns:c,showHeader:!1,noDataMessage:"No labels found",
loadingMessage:"Fetching data.."},b);c.on("dgrid-error",function(a){})},getData:function(){return{labels:this._labelStore.data}},setConcept:function(a){a&&(this.concept=a,this._labelStore=new this.trackableMemory({data:[]}),l.forEach(this.concept.labels,m.hitch(this,function(a){a.id=this._index++;this._labelStore.put(a)})),this._labelGrid.set("collection",this._labelStore))},updateLanguages:function(a){a&&(this.languageList=a,this._labelDialog.updateLanguages(a))},_addLabel:function(a){a?a.preventDefault():
null;this._labelDialog.show()},_editLabel:function(a){this._labelDialog.show(a)},_doAddLabel:function(a){this._labelStore.add({language:a.lang,type:a.labelType,label:a.label})},_doEditLabel:function(a){this._labelStore.put({language:a.lang,type:a.labelType,label:a.label,id:a.id})},_removeRow:function(a){this._labelStore.remove(a)}})})},"dstore/Memory":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array ./Store ./Promised ./SimpleQuery ./QueryResults".split(" "),function(g,l,m,p,
d,c,k){return g([p,d,c],{constructor:function(){this.storage.version=0},postscript:function(){this.inherited(arguments);this.setData(this.data||[])},data:null,autoEmitEvents:!1,getSync:function(c){return this.storage.fullData[this.storage.index[c]]},putSync:function(c,b){b=b||{};var a=this.storage,e=a.index,d=a.fullData,k=this.Model;k&&!(c instanceof k)&&(c=this._restore(c));var g=this.getIdentity(c);null==g&&(this._setIdentity(c,"id"in b?b.id:Math.random()),g=this.getIdentity(c));a.version++;var a=
g in e?"update":"add",k={target:c},l;if("update"===a){if(!1===b.overwrite)throw Error("Object already exists");d.splice(l=e[g],1);g=l}else g=this.defaultNewToStart?0:d.length;var h;if("beforeId"in b){var m=b.beforeId;null===m?h=d.length:(h=e[m],l<h&&--h);void 0!==h?k.beforeId=m:h=g}else h=g;d.splice(h,0,c);l=isFinite(l)?Math.min(l,h):h;for(g=d.length;l<g;++l)e[this.getIdentity(d[l])]=l;this.emit(a,k);return c},addSync:function(c,b){(b=b||{}).overwrite=!1;return this.putSync(c,b)},removeSync:function(c){var b=
this.storage,a=b.index,b=b.fullData;if(c in a)return a=b.splice(a[c],1)[0],this._reindex(),this.emit("delete",{id:c,target:a}),!0},setData:function(c){this.parse&&(c=this.parse(c));c.items&&(this.idProperty=c.identifier||this.idProperty,c=c.items);this.storage.fullData=this.data=c;this._reindex()},_reindex:function(){for(var c=this.storage,b=c.index={},a=c.fullData,e=this.Model,d=Object.prototype,k=0,g=a.length;k<g;k++){var l=a[k];if(e&&!(l instanceof e)){var h=this._restore(l,l.__proto__===d);l!==
h&&(a[k]=l=h)}b[this.getIdentity(l)]=k}c.version++},fetchSync:function(){var c=this.data;if(!c||c._version!==this.storage.version){for(var c=this.storage.fullData,b=this.queryLog,a=0,e=b.length;a<e;a++)c=b[a].querier(c);c._version=this.storage.version;this.data=c}return new k(c)},fetchRangeSync:function(c){var b=this.fetchSync();return new k(b.slice(c.start,c.end),{totalLength:b.length})},_includePropertyInSubCollection:function(c){return"data"!==c&&this.inherited(arguments)}})})},"dstore/Store":function(){define("dojo/_base/lang dojo/_base/array dojo/aspect dojo/has dojo/when dojo/Deferred dojo/_base/declare ./QueryMethod ./Filter dojo/Evented".split(" "),
function(g,l,m,p,d,c,k,f,b,a){function e(a){return function(b,c){var e=this;d(b,function(b){b={target:b};var f=c[1]||{};"beforeId"in f&&(b.beforeId=f.beforeId);e.emit(a,b)});return b}}p.add("object-proto",!!{}.__proto__&&!{}.watch);var r=p("object-proto");return k(a,{constructor:function(b){b&&k.safeMixin(this,b);this.Model&&this.Model.createSubclass&&(this.Model=this.Model.createSubclass([]).extend({_store:this}));this.storage=new a;var c=this;this.autoEmitEvents&&(m.after(this,"add",e("add")),m.after(this,
"put",e("update")),m.after(this,"remove",function(a,b){d(a,function(){c.emit("delete",{id:b[0]})});return a}))},autoEmitEvents:!0,idProperty:"id",queryAccessors:!0,getIdentity:function(a){return a.get?a.get(this.idProperty):a[this.idProperty]},_setIdentity:function(a,b){a.set?a.set(this.idProperty,b):a[this.idProperty]=b},forEach:function(a,b){var c=this;return d(this.fetch(),function(e){for(var f=0,d;void 0!==(d=e[f]);f++)a.call(b,d,f,c);return e})},on:function(a,b){return this.storage.on(a,b)},
emit:function(a,b){b=b||{};b.type=a;try{return this.storage.emit(a,b)}finally{return b.cancelable}},parse:null,stringify:null,Model:null,_restore:function(a,b){var c=this.Model;if(c&&a){var e=c.prototype,f=e._restore;f?a=f.call(a,c,b):r&&b?a.__proto__=e:a=g.delegate(e,a)}return a},create:function(a){return new this.Model(a)},_createSubCollection:function(a){var b=g.delegate(this.constructor.prototype),c;for(c in this)this._includePropertyInSubCollection(c,b)&&(b[c]=this[c]);return k.safeMixin(b,a)},
_includePropertyInSubCollection:function(a,b){return!(a in b)||b[a]!==this[a]},queryLog:[],filter:new f({type:"filter",normalizeArguments:function(a){var b=this.Filter;return a instanceof b?[a]:[new b(a)]}}),Filter:b,sort:new f({type:"sort",normalizeArguments:function(a,b){var c;"function"===typeof a?c=[a]:(c=a instanceof Array?a.slice():"object"===typeof a?[].slice.call(arguments):[{property:a,descending:b}],c=l.map(c,function(a){a=g.mixin({},a);a.descending=!!a.descending;return a}),c=[c]);return c}}),
select:new f({type:"select"}),_getQuerierFactory:function(a){return this["_create"+(a[0].toUpperCase()+a.substr(1))+"Querier"]}})})},"dstore/QueryMethod":function(){define([],function(){return function(g){var l=g.type,m=g.normalizeArguments,p=g.applyQuery,d=g.querierFactory;return function(){var c=Array.prototype.slice.call(arguments),k=m?m.apply(this,c):c,c={type:l,arguments:c,normalizedArguments:k},f=this._getQuerierFactory(l)||d;f&&(c.querier=f.apply(this,k));k=this._createSubCollection({queryLog:this.queryLog.concat(c)});
return p?p.call(this,k,c):k}}})},"dstore/Filter":function(){define(["dojo/_base/declare"],function(g){function l(g){return function(){var d=this.constructor,c=new d;c.type=g;c.args=Array.prototype.slice.call(arguments);return this.type?l("and").call(d.prototype,this,c):c}}function m(g){return function(){for(var d=this.constructor,c=[],k=0;k<arguments.length;k++){var f=arguments[k];c.push(f instanceof d?f:new d(f))}d=new d;d.type=g;d.args=c;this.type===g?d.args=this.args.concat(c):this.type?c.unshift(this):
1===c.length&&(d.type=c[0].type,d.args=c[0].args.slice());return d}}g=g(null,{constructor:function(g){var d=typeof g;switch(d){case "object":var d=this,c;for(c in g)var k=g[c],d=k instanceof this.constructor?d[k.type](c,k.args[0]):k&&k.test?d.match(c,k):d.eq(c,k);this.type=d.type;this.args=d.args;break;case "function":case "string":this.type=d,this.args=[g]}},and:m("and"),or:m("or"),eq:l("eq"),ne:l("ne"),lt:l("lt"),lte:l("lte"),gt:l("gt"),gte:l("gte"),contains:l("contains"),"in":l("in"),match:l("match")});
g.filterCreator=l;g.logicalOperatorCreator=m;return g})},"dstore/Promised":function(){define(["dojo/_base/declare","dojo/Deferred","./QueryResults","dojo/when"],function(g,l,m,p){function d(c,d){return function(){var f=new l;try{f.resolve(this[c].apply(this,arguments))}catch(b){f.reject(b)}return d?(f=new m(f.promise),f.totalLength=p(f.totalLength),f):f.promise}}return g(null,{get:d("getSync"),put:d("putSync"),add:d("addSync"),remove:d("removeSync"),fetch:d("fetchSync",!0),fetchRange:d("fetchRangeSync",
!0)})})},"dstore/QueryResults":function(){define(["dojo/_base/lang","dojo/when"],function(g,l){function m(g,d){return l(this,function(c){for(var k=0,f=c.length;k<f;k++)g.call(d,c[k],k,c)})}return function(l,d){var c=d&&"totalLength"in d;if(l.then){l=g.delegate(l);var k=l.then(function(f){var b=c?d.totalLength:f.totalLength||f.length;f.totalLength=b;return!c&&b});l.totalLength=c?d.totalLength:k;l.response=d&&d.response}else l.totalLength=c?d.totalLength:l.length;l.forEach=m;return l}})},"dstore/SimpleQuery":function(){define(["dojo/_base/declare",
"dojo/_base/array"],function(g,l){function m(d,c){if(-1<d.indexOf(".")){var k=d.split("."),f=k.length;return function(b){for(var a=0;a<f;a++)b=b&&(c&&b.get?b.get(k[a]):b[k[a]]);return b}}return function(b){return b.get?b.get(d):b[d]}}var p={eq:function(d,c){return d===c},"in":function(d,c){return-1<l.indexOf(c.data||c,d)},ne:function(d,c){return d!==c},lt:function(d,c){return d<c},lte:function(d,c){return d<=c},gt:function(d,c){return d>c},gte:function(d,c){return d>=c},match:function(d,c,k){return c.test(d,
k)},contains:function(d,c,k,f){var b=this;c=c.data?c.data:Array.isArray(c)?c:[c];return l.every(c,function(a){if("object"===typeof a&&a.type){var c=b._getFilterComparator(a.type);return l.some(d,function(d){return c.call(b,d,a.args[1],k,f)})}return-1<l.indexOf(d,a)})}};return g(null,{_createFilterQuerier:function(d){function c(a){var b,d,g=a.type;a=a.args;var l=f._getFilterComparator(g);if(l){var p=a[0],h=m(p,k),s=a[1];s&&s.fetchSync&&(s=s.fetchSync());return function(a){return l.call(f,h(a),s,a,
p)}}switch(g){case "and":case "or":for(var v=0,x=a.length;v<x;v++)d=c(a[v]),b=b?function(a,b){return"and"===g?function(c){return a(c)&&b(c)}:function(c){return a(c)||b(c)}}(b,d):d;return b;case "function":return a[0];case "string":b=f[a[0]];if(!b)throw Error("No filter function "+a[0]+" was found in the collection");return b;case void 0:return function(){return!0};default:throw Error('Unknown filter operation "'+g+'"');}}var k=this.queryAccessors,f=this,b=c(d);return function(a){return l.filter(a,
b)}},_getFilterComparator:function(d){return p[d]||this.inherited(arguments)},_createSelectQuerier:function(d){return function(c){var k=d.length;return l.map(c,d instanceof Array?function(c){for(var b={},a=0;a<k;a++){var e=d[a];b[e]=c[e]}return b}:function(c){return c[d]})}},_createSortQuerier:function(d){var c=this.queryAccessors;return function(k){k=k.slice();k.sort("function"==typeof d?d:function(f,b){for(var a=0;a<d.length;a++){var e,k=d[a];if("function"==typeof k)e=k(f,b);else{e=k.get||(k.get=
m(k.property,c));var k=k.descending,g=e(f);e=e(b);null!=g&&(g=g.valueOf());null!=e&&(e=e.valueOf());e=g===e?0:Boolean(k)===("undefined"===typeof e||null===e&&"undefined"!==typeof g||null!=g&&g<e)?1:-1}if(0!==e)return e}return 0});return k}}})})},"dstore/Trackable":function(){define("dojo/_base/lang dojo/_base/declare dojo/aspect dojo/when dojo/promise/all dojo/_base/array dojo/on".split(" "),function(g,l,m,p,d,c,k){function f(a,b,c){for(var f=a.length-1;0<=f;--f){var d=a[f],h=d.start,d=h+d.count;
if(b>d){a.splice(f+1,0,{start:b,count:c-b});return}c>=h&&(b=Math.min(b,h),c=Math.max(c,d),a.splice(f,1))}a.unshift({start:b,count:c-b})}var b=0,a={track:function(){function a(){return function(){var a=this,b=this.inherited(arguments);p(b,function(b){b=a._results=b.slice();a._partialResults&&(a._partialResults=null);a._ranges=[];f(a._ranges,0,b.length)});return b}}function d(){return function(a){var b=this,c=a.start,e=a.end,d=this.inherited(arguments);this._results||p(d,function(a){return p(a.totalLength,
function(d){var h=b._partialResults||(b._partialResults=[]);e=Math.min(e,c+a.length);h.length=d;d=[c,e-c].concat(a);h.splice.apply(h,d);f(b._ranges,c,e);return a})});return d}}function n(a,e){b++;var f=e.target;e=g.delegate(e,u[a]);var d=e.beforeId;p(v._results||v._partialResults,function(b){if(b){var h,k,g,l=v._ranges,n,m="id"in e?e.id:t.getIdentity(f),p=-1,r=-1,q=-1,s=-1,u;if("delete"===a||"update"===a)for(h=0;-1===p&&h<l.length;++h){n=l[h];k=n.start;for(g=k+n.count;k<g;++k)if(t.getIdentity(b[k])==
m){p=e.previousIndex=k;r=h;u=d==m;b.splice(p,1);n.count--;for(k=h+1;k<l.length;++k)l[k].start--;break}}if("add"===a||"update"===a){if(x){if(x([f]).length){var J=0;g=l.length-1;for(u=-1;J<=g&&-1===q;)h=J+Math.round((g-J)/2),n=l[h],r=b.slice(n.start,n.start+n.count),void 0!==d&&(u=null===d?r.length:y(r,d)),-1===u&&(u=p>=Math.max(0,n.start-1)&&p<=n.start+n.count?p:t.defaultNewToStart?0:r.length),r.splice(u,0,f),k=c.indexOf(x(r),f),m=n.start+k,0===k&&0!==n.start?g=h-1:k>=r.length-1&&m<b.length?J=h+1:
(q=m,s=h);if(-1===q&&0<J&&J<l.length)var K=!0}}else{k=-1;if(void 0!==d&&!u)if(null===d)q=b.length,k=l.length-1;else{h=0;for(g=l.length;-1===s&&h<g;++h)n=l[h],q=y(b,d,n.start,n.start+n.count),-1!==q&&(s=h)}else"update"===a?(q=p,s=r):t.defaultNewToStart?k=q=0:(q=b.length,k=l.length-1);-1!==k&&-1===s&&(n=l[k])&&(n.start<=q&&q<=n.start+n.count)&&(s=k)}if(-1<q&&-1<s){e.index=q;b.splice(q,0,f);l[s].count++;for(h=s+1;h<l.length;++h)l[h].start++}else if(K){e.beforeIndex=l[J].start;for(h=J;h<l.length;++h)l[h].start++}}e.totalLength=
b.length}(b=v["on_tracked"+a])&&b.call(v,e)})}var t=this.store||this,q=[],h={add:1,update:1,"delete":1},s;for(s in h)q.push(this.on(s,function(a){return function(b){n(a,b)}}(s)));var v=l.safeMixin(g.delegate(this),{_ranges:[],fetch:a(),fetchRange:d(),releaseRange:function(a,b){if(this._partialResults){a:for(var c=this._ranges,e=0,f;f=c[e];++e){var d=f.start,h=d+f.count;if(a<=d)if(b>=h)c.splice(e,1);else{f.start=b;f.count=h-f.start;break a}else if(a<h)if(b>d){c.splice(e,1,{start:d,count:a-d},{start:b,
count:h-b});break a}else f.count=a-f.start}for(c=a;c<b;++c)delete this._partialResults[c]}},on:function(a,b){var c=this,e=this.getInherited(arguments);return k.parse(v,a,b,function(a,f){return f in h?m.after(v,"on_tracked"+f,b,!0):e.call(c,f,b)})},tracking:{remove:function(){for(;0<q.length;)q.pop().remove();this.remove=function(){}}},track:null});this.fetchSync&&(l.safeMixin(v,{fetchSync:a(),fetchRangeSync:d()}),v.fetchSync());var x;c.forEach(this.queryLog,function(a){var b=x,c=a.querier;c&&(x=b?
function(a){return c(b(a))}:c)});var u={add:{index:void 0},update:{previousIndex:void 0,index:void 0},"delete":{previousIndex:void 0}},y=function(a,b,c,e){e=void 0!==e?e:a.length;for(c=void 0!==c?c:0;c<e;++c)if(t.getIdentity(a[c])===b)return c;return-1};return v}};d=l(null,a);d.create=function(b,c){b=l.safeMixin(g.delegate(b),a);l.safeMixin(b,c);return b};return d})},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/_WidgetBase","dijit/registry"],
function(g,l,m,p){var d=m.prototype;return g(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:!0,buildRendering:function(){p.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id)},startup:function(){if(!this._started){this.inherited(arguments);var c=this.getParent();c&&c.isLayoutContainer&&this._resizeHandle.remove()}},destroyRecursive:function(){this.destroy()},destroy:function(){this.inherited(arguments);p.remove(this.id)},getChildren:function(){return[]},
getParent:function(){return p.getEnclosingWidget(this.domNode.parentNode)},isLeftToRight:function(){return!this.isRTL},placeAt:function(c,k){return d.placeAt.call(this,c,k)},resize:function(c){c&&l.setMarginBox(this.domNode,c);this.inherited(arguments)},_set:function(c,d){this[c]=d},watch:function(){}})})},"dgrid/extensions/ColumnResizer":function(){define("dojo/_base/declare dojo/_base/array dojo/on dojo/query dojo/_base/lang dojo/dom dojo/dom-construct dojo/dom-geometry dojo/has ../util/misc dojo/_base/html".split(" "),
function(g,l,m,p,d,c,k,f,b,a){function e(a,b,c,e,f){for(var d=1;d<b;d++)a[c+d][e]=f}function r(a){for(var b=a.length,c=b,f=l.filter(a[0],function(a){return!a.hidden}).length,d=Array(b);b--;)d[b]=Array(f);for(var h={},b=0;b<c;b++)for(var k=d[b],g=a[b],n=0,m=0;n<f;n++){var p=g[m],r;if("undefined"===typeof k[n]){k[n]=p.id;p.rowSpan&&1<p.rowSpan&&e(d,p.rowSpan,b,n,p.id);if(0<b&&p.colSpan&&1<p.colSpan)for(r=1;r<p.colSpan;r++)k[++n]=p.id,p.rowSpan&&1<p.rowSpan&&e(d,p.rowSpan,b,n,p.id);h[p.id]=a[0][n].id;
m++}}return h}function n(b,c,e,f,d){if(!(0>=e)){var h=b.columns[c],k;if(h&&(k={grid:b,columnId:c,width:e,bubbles:!0,cancelable:!0},f&&(k.parentType=f),!b._resizedColumns||m.emit(b.headerNode,"dgrid-columnresize",k)))return"auto"===e?delete h.width:(h.width=e,e+="px"),(f=b._columnSizes[c])?f.set("width",e):f=a.addCssRule("#"+a.escapeCssIdentifier(b.domNode.id)+" .dgrid-column-"+a.escapeCssIdentifier(c,"-"),"width: "+e+";"),b._columnSizes[c]=f,!1!==d&&b.resize(),!0}}var t,q,h=0,s={create:function(){t=
k.create("div",{className:"dgrid-column-resizer"});q=k.create("div",{className:"dgrid-resize-guard"})},destroy:function(){k.destroy(t);k.destroy(q);t=q=null},show:function(a){var b=f.position(a.domNode,!0);t.style.top=b.y+"px";t.style.height=b.h+"px";document.body.appendChild(t);a.domNode.appendChild(q)},move:function(a){t.style.left=a+"px"},hide:function(){t.parentNode.removeChild(t);q.parentNode.removeChild(q)}};return g(null,{resizeNode:null,minWidth:40,adjustLastColumn:!0,_resizedColumns:!1,buildRendering:function(){this.inherited(arguments);
h||s.create();h++},destroy:function(){this.inherited(arguments);for(var a in this._columnSizes)this._columnSizes[a].remove();--h||s.destroy()},resizeColumnWidth:function(a,b){return n(this,a,b)},configStructure:function(){var a=this._oldColumnSizes=d.mixin({},this._columnSizes),b;this._resizedColumns=!1;this._columnSizes={};this.inherited(arguments);for(b in a)b in this._columnSizes||a[b].remove();delete this._oldColumnSizes},_configColumn:function(b){this.inherited(arguments);var c=b.id,e;"width"in
b&&((e=this._oldColumnSizes[c])?e.set("width",b.width+"px"):e=a.addCssRule("#"+a.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+a.escapeCssIdentifier(c,"-"),"width: "+b.width+"px;"),this._columnSizes[c]=e)},renderHeader:function(){this.inherited(arguments);var c=this,e;if(this.columnSets&&this.columnSets.length)for(var f=this.columnSets.length;f--;)e=d.mixin(e||{},r(this.columnSets[f]));else this.subRows&&1<this.subRows.length&&(e=r(this.subRows));for(var f=p(".dgrid-cell",c.headerNode),h=
f.length;h--;){var g=f[h],n=g.columnId,l=c.columns[n],q=g.childNodes;if(l&&!1!==l.resizable){l=k.create("div",{className:"dgrid-resize-header-container"});for(g.contents=l;0<q.length;)l.appendChild(q[0]);q=k.create("div",{className:"dgrid-resize-handle resizeNode-"+a.escapeCssIdentifier(n,"-")},l);g.appendChild(l);q.columnId=e&&e[n]||n}}c.mouseMoveListen||(m(c.headerNode,".dgrid-resize-handle:mousedown"+(b("touch")?",.dgrid-resize-handle:touchstart":""),function(a){c._resizeMouseDown(a,this);c.mouseMoveListen.resume();
c.mouseUpListen.resume()}),c._listeners.push(c.mouseMoveListen=m.pausable(document,"mousemove"+(b("touch")?",touchmove":""),a.throttleDelayed(function(a){c._updateResizerPosition(a)}))),c._listeners.push(c.mouseUpListen=m.pausable(document,"mouseup"+(b("touch")?",touchend":""),function(a){c._resizeMouseUp(a);c.mouseMoveListen.pause();c.mouseUpListen.pause()})),c.mouseMoveListen.pause(),c.mouseUpListen.pause())},_resizeMouseDown:function(b,e){b.preventDefault();c.setSelectable(this.domNode,!1);this._startX=
this._getResizeMouseLocation(b);this._targetCell=p(".dgrid-column-"+a.escapeCssIdentifier(e.columnId,"-"),this.headerNode)[0];this._updateResizerPosition(b);s.show(this)},_resizeMouseUp:function(b){var e=this._columnSizes,f,d,h;this.adjustLastColumn&&(h=this.headerNode.clientWidth-1);this._resizedColumns||(f=p(".dgrid-cell",this.headerNode),this.columnSets&&this.columnSets.length?f=f.filter(function(a){return"0"===a.columnId.split("-")[0]&&!(a.columnId in e)}):this.subRows&&1<this.subRows.length&&
(f=f.filter(function(a){return"0"===a.columnId.charAt(0)&&!(a.columnId in e)})),d=f.map(function(a){return a.offsetWidth}),f.forEach(function(a,b){n(this,a.columnId,d[b],null,!1)},this),this._resizedColumns=!0);c.setSelectable(this.domNode,!0);f=this._targetCell;var k=this._getResizeMouseLocation(b)-this._startX,g=f.offsetWidth+k,l=this._getResizedColumnWidths(),m=l.totalWidth,l=l.lastColId,r=p(".dgrid-column-"+a.escapeCssIdentifier(l,"-"),this.headerNode)[0].offsetWidth;g<this.minWidth&&(g=this.minWidth);
n(this,f.columnId,g,b.type)&&f.columnId!==l&&this.adjustLastColumn&&(m+k<h?n(this,l,"auto",b.type):r-k<=this.minWidth&&n(this,l,this.minWidth,b.type));s.hide();delete this._startX;delete this._targetCell},_updateResizerPosition:function(a){if(this._targetCell){a=this._getResizeMouseLocation(a);var b=this._targetCell.offsetWidth,c=a;b+(a-this._startX)<this.minWidth&&(c=this._startX-(b-this.minWidth));s.move(c)}},_getResizeMouseLocation:function(a){var b=0;a.pageX?b=a.pageX:a.clientX&&(b=a.clientX+
document.body.scrollLeft+document.documentElement.scrollLeft);return b},_getResizedColumnWidths:function(){var a=0,b=p((this.columnSets?".dgrid-column-set-cell ":"")+"tr:first-child .dgrid-cell",this.headerNode),c=b.length;if(!c)return{};for(var e=b[c-1].columnId;c--;)a+=b[c].offsetWidth;return{totalWidth:a,lastColId:e}}})})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(g,l,m,p,d,c,k,f){g.byId=
l.byId;g.isDescendant=l.isDescendant;g.setSelectable=l.setSelectable;g.getAttr=p.get;g.setAttr=p.set;g.hasAttr=p.has;g.removeAttr=p.remove;g.getNodeProp=p.getNodeProp;g.attr=function(b,a,c){return 2==arguments.length?p["string"==typeof a?"get":"set"](b,a):p.set(b,a,c)};g.hasClass=c.contains;g.addClass=c.add;g.removeClass=c.remove;g.toggleClass=c.toggle;g.replaceClass=c.replace;g._toDom=g.toDom=k.toDom;g.place=k.place;g.create=k.create;g.empty=function(b){k.empty(b)};g._destroyElement=g.destroy=function(b){k.destroy(b)};
g._getPadExtents=g.getPadExtents=f.getPadExtents;g._getBorderExtents=g.getBorderExtents=f.getBorderExtents;g._getPadBorderExtents=g.getPadBorderExtents=f.getPadBorderExtents;g._getMarginExtents=g.getMarginExtents=f.getMarginExtents;g._getMarginSize=g.getMarginSize=f.getMarginSize;g._getMarginBox=g.getMarginBox=f.getMarginBox;g.setMarginBox=f.setMarginBox;g._getContentBox=g.getContentBox=f.getContentBox;g.setContentSize=f.setContentSize;g._isBodyLtr=g.isBodyLtr=f.isBodyLtr;g._docScroll=g.docScroll=
f.docScroll;g._getIeDocumentElementOffset=g.getIeDocumentElementOffset=f.getIeDocumentElementOffset;g._fixIeBiDiScrollLeft=g.fixIeBiDiScrollLeft=f.fixIeBiDiScrollLeft;g.position=f.position;g.marginBox=function(b,a){return a?f.setMarginBox(b,a):f.getMarginBox(b)};g.contentBox=function(b,a){return a?f.setContentSize(b,a):f.getContentBox(b)};g.coords=function(b,a){g.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");b=l.byId(b);var c=m.getComputedStyle(b),c=f.getMarginBox(b,c),d=
f.position(b,a);c.x=d.x;c.y=d.y;return c};g.getProp=d.get;g.setProp=d.set;g.prop=function(b,a,c){return 2==arguments.length?d["string"==typeof a?"get":"set"](b,a):d.set(b,a,c)};g.getStyle=m.get;g.setStyle=m.set;g.getComputedStyle=m.getComputedStyle;g.__toPixelValue=g.toPixelValue=m.toPixelValue;g.style=function(b,a,c){switch(arguments.length){case 1:return m.get(b);case 2:return m["string"==typeof a?"get":"set"](b,a)}return m.set(b,a,c)};return g})},"app/ui/dialogs/LabelsDialog":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dojo/topic dojo/dom-construct dojo/text!./templates/LabelsDialog.html ../../utils/DomUtils".split(" "),
function(g,l,m,p,d,c,k,f){return g([p,l,m],{templateString:k,parentNode:null,baseClass:"labels-dialog",title:"Add label",labelElement:null,typeList:null,langList:null,edit:!1,postCreate:function(){this.inherited(arguments);f.addOptionsToSelect(this.typeSelectNode,{data:this.typeList,idProperty:"value",labelProperty:"label"});f.addOptionsToSelect(this.langSelectNode,{data:this.langList,idProperty:"id",labelProperty:"name"})},startup:function(){this.inherited(arguments)},setData:function(b){this.labelInputNode.value=
b.label;this.langSelectNode.value=b.language;this.typeSelectNode.value=b.type},hide:function(){this.inherited(arguments);this.reset()},show:function(b){this.inherited(arguments);this.reset();b?(this.setData(b),this.set("title","Edit label"),this.okButtonNode.innerHTML="Edit",this.edit=!0,this.labelElement=b):(this.set("title","Add new label"),this.okButtonNode.innerHTML="Add",this.edit=!1)},updateLanguages:function(b){this.langList=b;c.empty(this.langSelectNode);f.addOptionsToSelect(this.langSelectNode,
{data:this.langList,idProperty:"id",labelProperty:"name"})},_okClick:function(b){b.preventDefault();this._validate()?(this.edit?this.emit("edit.label",{label:this.labelInputNode.value.trim(),lang:this.langSelectNode.value,labelType:this.typeSelectNode.value,id:this.labelElement.id}):this.emit("add.label",{label:this.labelInputNode.value.trim(),lang:this.langSelectNode.value,labelType:this.typeSelectNode.value}),this.hide()):d.publish("dGrowl","Please fill in all fields.",{title:"Invalid label",sticky:!1,
channel:"info"})},_cancelClick:function(b){b.preventDefault();this.hide()},reset:function(){this.labelInputNode.value="";this.langSelectNode.selectedIndex=0;this.typeSelectNode.selectedIndex=0},_validate:function(){return""!==this.labelInputNode.value.trim()}})})},"app/ui/managers/NoteManager":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-style dojo/json dojo/on dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/NoteManager.html dstore/Memory dstore/Trackable dgrid/OnDemandGrid dgrid/extensions/DijitRegistry dgrid/extensions/ColumnResizer ../../utils/DomUtils ../dialogs/NotesDialog".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s,v,x){return g([a,e],{templateString:r,baseClass:"note-manager",languageController:null,listController:null,concept:null,languageList:null,_noteStore:null,_noteGrid:null,_index:0,postCreate:function(){this.inherited(arguments);this.trackableMemory=g([n,t]);this._noteStore=new this.trackableMemory({data:[]});this.concept&&l.forEach(this.concept.notes,m.hitch(this,function(a){a.id=this._index++;this._noteStore.put(a)}));this._createGrid({collection:this._noteStore},
this.noteGridNode);this._notesDialog=new x({parentNode:this,langList:this.languageList,typeList:this.listController.getNoteTypes()});f(this._notesDialog,"add.note",m.hitch(this,function(a){this._doAddNote(a)}));f(this._notesDialog,"edit.note",m.hitch(this,function(a){this._doEditNote(a)}))},startup:function(){this.inherited(arguments);this._notesDialog.startup();this._noteGrid.startup();this._noteGrid.resize()},reset:function(){this._notesDialog&&this._notesDialog.reset();this._noteStore=new (g([n,
t]))({data:[]});this._noteGrid.set("collection",this._noteStore)},_createGrid:function(a,b){var c={note:{label:"Note",field:"note",renderCell:function(a){if(a)return p.create("div",{innerHTML:a.note})}},language:{label:"Language",field:"language",formatter:m.hitch(this,function(a){var b=l.filter(this.languageList,function(b){return b.id===a})[0];return b?b.name:"-"})},type:{label:"Type",field:"type",formatter:m.hitch(this,function(a){return l.filter(this.listController.getNoteTypes(),function(b){return b.value===
a})[0].label})},actions:{label:"",renderCell:m.hitch(this,function(a){if(void 0===a.id)return null;var b=p.create("div",{"class":"dGridHyperlink"});p.create("a",{href:"#",title:"Edit note",className:"fa fa-pencil",innerHTML:"",style:"margin-right: 12px;",onclick:m.hitch(this,function(b){b.preventDefault();this._editNote(a)})},b);p.create("a",{href:"#",title:"Remove note",className:"fa fa-trash",innerHTML:"",onclick:m.hitch(this,function(b){b.preventDefault();this._removeRow(a.id)})},b);return b})}};
this._noteGrid=c=new (g([q,h,s]))({collection:a.collection,columns:c,showHeader:!1,noDataMessage:"No notes found",loadingMessage:"Fetching data.."},b);c.on("dgrid-error",function(a){})},getData:function(){return{notes:this._noteStore.data}},setConcept:function(a){a&&(this.concept=a,this._noteStore=new this.trackableMemory({data:[]}),l.forEach(this.concept.notes,m.hitch(this,function(a){a.id=this._index++;this._noteStore.put(a)})),this._noteGrid.set("collection",this._noteStore))},updateLanguages:function(a){a&&
(this.languageList=a,this._notesDialog.updateLanguages(a))},_addNote:function(a){a?a.preventDefault():null;this._notesDialog.show()},_editNote:function(a){this._notesDialog.show(a)},_doAddNote:function(a){this._noteStore.add({language:a.lang,type:a.noteType,note:a.note})},_doEditNote:function(a){this._noteStore.put({language:a.lang,type:a.noteType,note:a.note,id:a.id})},_removeRow:function(a){this._noteStore.remove(a)}})})},"app/ui/dialogs/NotesDialog":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dojo/topic dojo/dom-construct dojo/text!./templates/NotesDialog.html ../../utils/HtmlEditor ../../utils/DomUtils".split(" "),
function(g,l,m,p,d,c,k,f,b){return g([p,l,m],{templateString:k,parentNode:null,baseClass:"notes-dialog",title:"Add note",note:null,typeList:null,langList:null,_editor:null,edit:!1,postCreate:function(){this.inherited(arguments);this._editor=new f({},this.htmlEditorNode);b.addOptionsToSelect(this.typeSelectNode,{data:this.typeList,idProperty:"value",labelProperty:"label"});b.addOptionsToSelect(this.langSelectNode,{data:this.langList,idProperty:"id",labelProperty:"name"})},startup:function(){this.inherited(arguments);
this._editor.startup();this._editor.addButtons(["emphasis","strong","link"]);this._editor.setContent("")},setData:function(a){this._editor.setContent(a.note);this.langSelectNode.value=a.language;this.typeSelectNode.value=a.type},hide:function(){this.inherited(arguments);this.reset()},show:function(a){this.inherited(arguments);this.reset();a?(this.setData(a),this.set("title","Edit note"),this.okButtonNode.innerHTML="Edit",this.edit=!0,this.note=a):(this.set("title","Add new note"),this.okButtonNode.innerHTML=
"Add",this.edit=!1)},updateLanguages:function(a){this.langList=a;c.empty(this.langSelectNode);b.addOptionsToSelect(this.langSelectNode,{data:this.langList,idProperty:"id",labelProperty:"name"})},_okClick:function(a){a.preventDefault();this._validate()?(this.edit?this.emit("edit.note",{note:this._editor.getContent(),lang:this.langSelectNode.value,noteType:this.typeSelectNode.value,id:this.note.id}):this.emit("add.note",{note:this._editor.getContent(),lang:this.langSelectNode.value,noteType:this.typeSelectNode.value}),
this.hide()):d.publish("dGrowl","Please fill in all fields.",{title:"Invalid note",sticky:!1,channel:"info"})},_cancelClick:function(a){a.preventDefault();this.hide()},reset:function(){this._editor.setContent("");this.langSelectNode.selectedIndex=0;this.typeSelectNode.selectedIndex=0},_validate:function(){return""!==this._editor.getContent().trim()}})})},"app/utils/HtmlEditor":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/text!./templates/HtmlEditor.html dijit/Toolbar dijit/_TemplatedMixin dijit/_WidgetBase dijit/form/Button dijit/ToolbarSeparator".split(" "),
function(g,l,m,p,d,c,k,f,b){return g([k,c],{templateString:p,editorToolbar:null,buttons:[{name:"h4",icon:"dijitEditorIconHeader dijitEditorIconH4",title:"Header 4"},{name:"h5",icon:"dijitEditorIconHeader dijitEditorIconH5",title:"Header 5"},{name:"h6",icon:"dijitEditorIconHeader dijitEditorIconH6",title:"Header 6"},{name:"emphasis",label:"",icon:"dijitEditorIcon dijitEditorIconItalic",title:"Italic"},{name:"strong",label:"",icon:"dijitEditorIcon dijitEditorIconBold",title:"Bold"},{name:"link",label:"",
icon:"dijitEditorIcon dijitEditorIconCreateLink",title:"Hyperlink"},{name:"list",label:"",icon:"dijitEditorIcon dijitEditorIconListBulletIndent",title:"Lijst Toevoegen"},{name:"addbibitem",label:"",icon:"dijitEditorIcon dijitEditorIconInsertUnorderedList",title:"Item Toevoegen"}],htmlElements:[{key:"h4",value:{name:"h4",open:"\x3ch4\x3e",close:"\x3c/h4\x3e"}},{key:"h5",value:{name:"h5",open:"\x3ch5\x3e",close:"\x3c/h5\x3e"}},{key:"h6",value:{name:"h6",open:"\x3ch6\x3e",close:"\x3c/h6\x3e"}},{key:"emphasis",
value:{name:"emphasis",open:"\x3cem\x3e",close:"\x3c/em\x3e"}},{key:"strong",value:{name:"strong",open:"\x3cstrong\x3e",close:"\x3c/strong\x3e"}},{key:"link",value:{name:"link",open:'\x3ca href\x3d"#"\x3e',close:"\x3c/a\x3e"}},{key:"list",value:{name:"list",open:"\x3cul\x3e",close:"\x3c/ul\x3e"}},{key:"addbibitem",value:{name:"addbibitem",open:"\x3cli\x3e",close:"\x3c/li\x3e"}}],postCreate:function(){this.inherited(arguments);this.editorToolbar=new d({},this.containerToolbarNode)},startup:function(){this.inherited(arguments)},
addButtons:function(a){l.forEach(a,function(a){l.forEach(this.buttons,function(c){if(c.name===a){var d="separator"===a?new b({label:c.title}):new f({name:c.name,iconClass:c.icon,title:c.title,showLabel:!1,onClick:m.hitch(this,function(){this._btnAction(c.name)})});this.editorToolbar.addChild(d)}},this)},this);this.editorToolbar.startup()},_btnAction:function(a){var b=this.containerTextAreaNode,c=/[^\n\r\v]+/gm,f=this._getHtmlElementByKey(a),d=f.open,f=f.close,k=b.scrollTop,h=b.selectionStart,g=b.selectionEnd,
l=b.value.substring(0,h),m=b.value.substring(g,b.value.length),h=b.value.substring(h,g);b.value="addbibitem"===a&&""!==h?l+h.replace(c,d+"$\x26"+f)+m:l+d+h+f+m;b.selectionStart=g+d.length+f.length;b.selectionEnd=g+d.length+f.length;b.scrollTop=k},setContent:function(a){this.containerTextAreaNode.value=a},getContent:function(){return this.containerTextAreaNode.value},_getHtmlElementByKey:function(a){return l.filter(this.htmlElements,function(b){return b.key===a})[0].value}})})},"dijit/Toolbar":function(){define("require dojo/_base/declare dojo/has dojo/keys dojo/ready ./_Widget ./_KeyNavContainer ./_TemplatedMixin".split(" "),
function(g,l,m,p,d,c,k,f){m("dijit-legacy-requires")&&d(0,function(){g(["dijit/ToolbarSeparator"])});return l("dijit.Toolbar",[c,f,k],{templateString:'\x3cdiv class\x3d"dijit" role\x3d"toolbar" tabIndex\x3d"${tabIndex}" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e',baseClass:"dijitToolbar",_onLeftArrow:function(){this.focusPrev()},_onRightArrow:function(){this.focusNext()}})})},"dijit/ToolbarSeparator":function(){define(["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],
function(g,l,m,p){return g("dijit.ToolbarSeparator",[m,p],{templateString:'\x3cdiv class\x3d"dijitToolbarSeparator dijitInline" role\x3d"presentation"\x3e\x3c/div\x3e',buildRendering:function(){this.inherited(arguments);l.setSelectable(this.domNode,!1)},isFocusable:function(){return!1}})})},"app/ui/managers/RelationManager":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-style dojo/json dojo/topic dojo/on dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/RelationManager.html dstore/Memory dstore/Trackable dgrid/OnDemandGrid dgrid/extensions/DijitRegistry dgrid/extensions/ColumnResizer ../../utils/DomUtils ../dialogs/AddRelationDialog".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s,v,x){return g([a,e],{templateString:r,baseClass:"relation-manager",languageController:null,listController:null,conceptSchemeController:null,concept:null,scheme:null,_broaderStore:null,_broaderGrid:null,_narrowerStore:null,_narrowerGrid:null,_relatedStore:null,_relatedGrid:null,_memberOfStore:null,_memberOfGrid:null,_membersStore:null,_membersGrid:null,_subordinateStore:null,_subordinateGrid:null,_superordinatesCollStore:null,_superordinatesCollGrid:null,
_index:0,_isCollection:null,_relationStore:null,_addRelationDialog:null,postCreate:function(){this.inherited(arguments);this.trackableMemory=g([n,t]);this._broaderStore=new this.trackableMemory({data:this.concept?this.concept.broader:[]});this._broaderGrid=this._createGrid({collection:this._broaderStore,type:"broader"},this.broaderGridNode);this._narrowerStore=new this.trackableMemory({data:this.concept?this.concept.narrower:[]});this._narrowerGrid=this._createGrid({collection:this._narrowerStore,
type:"narrower"},this.narrowerGridNode);this._relatedStore=new this.trackableMemory({data:this.concept?this.concept.related:[]});this._relatedGrid=this._createGrid({collection:this._relatedStore,type:"related"},this.relatedGridNode);this._memberOfStore=new this.trackableMemory({data:this.concept?this.concept.member_of:[]});this._memberOfGrid=this._createGrid({collection:this._memberOfStore,type:"memberOf"},this.memberOfGridNode);this._membersStore=new this.trackableMemory({data:this.concept?this.concept.members:
[]});this._membersGrid=this._createGrid({collection:this._membersStore,type:"members"},this.membersGridNode);this._subordinateStore=new this.trackableMemory({data:this.concept?this.concept.subordinate_arrays:[]});this._subordinateGrid=this._createGrid({collection:this._subordinateStore,type:"subordinate"},this.subordinateGridNode);this._superordinatesCollStore=new this.trackableMemory({data:this.concept?this.concept.superordinates:[]});this._superordinatesCollGrid=this._createGrid({collection:this._superordinatesCollStore,
type:"superordinate"},this.superordinatesCollGridNode);this._relationStore=this.conceptSchemeController.getConceptSchemeTree(this.scheme);this._addRelationDialog=new x({parentNode:this,relationStore:this._relationStore,concept:this.concept,scheme:this.scheme});this._addRelationDialog.startup();this.own(b(this._addRelationDialog,"ok",m.hitch(this,function(a){this._addRelation(a.conceptId,a.conceptLabel,a.conceptPath,a.relation)})));this.concept&&"collection"===this.concept.type?this.setCollectionTypes():
this.setConceptTypes()},startup:function(){this.inherited(arguments);this._broaderGrid.startup();this._narrowerGrid.startup();this._relatedGrid.startup();this._memberOfGrid.startup();this._membersGrid.startup();this._subordinateGrid.startup();this._superordinatesCollGrid.startup()},setScheme:function(a){this.scheme=a;this._relationStore=this.conceptSchemeController.getConceptSchemeTree(this.scheme);this._addRelationDialog.setScheme(a)},reset:function(){var a=g([n,t]);this._broaderStore=new a({data:[]});
this._broaderGrid.set("collection",this._broaderStore);this._narrowerStore=new a({data:[]});this._narrowerGrid.set("collection",this._narrowerStore);this._relatedStore=new a({data:[]});this._relatedGrid.set("collection",this._relatedStore);this._memberOfStore=new a({data:[]});this._memberOfGrid.set("collection",this._memberOfStore);this._subordinateStore=new a({data:[]});this._subordinateGrid.set("collection",this._subordinateStore);this._superordinatesCollStore=new a({data:[]});this._superordinatesCollGrid.set("collection",
this._superordinatesCollStore)},setCollectionTypes:function(){this._isCollection=!0;this.broaderContainerNode.style.display="none";this.broaderGridNode.style.display="none";this.narrowerContainerNode.style.display="none";this.narrowerGridNode.style.display="none";this.relatedContainerNode.style.display="none";this.relatedGridNode.style.display="none";this.subordinateArraysContainerNode.style.display="none";this.subordinateGridNode.style.display="none";this.superordinatesCollContainerNode.style.display=
"block";this.superordinatesCollGridNode.style.display="block";this.membersContainerNode.style.display="block";this.membersGridNode.style.display="block"},setConceptTypes:function(){this._isCollection=!1;this.broaderContainerNode.style.display="block";this.broaderGridNode.style.display="block";this.narrowerContainerNode.style.display="block";this.narrowerGridNode.style.display="block";this.relatedContainerNode.style.display="block";this.relatedGridNode.style.display="block";this.subordinateArraysContainerNode.style.display=
"block";this.subordinateGridNode.style.display="block";this.membersContainerNode.style.display="none";this.membersGridNode.style.display="none";this.superordinatesCollContainerNode.style.display="none";this.superordinatesCollGridNode.style.display="none"},_createGrid:function(a,b){var c={label:{label:""},remove:{label:"",renderCell:m.hitch(this,function(b){if(void 0===b.id)return null;var c=p.create("div",{"class":"dGridHyperlink"});p.create("a",{href:"#",title:"Remove relation",className:"fa fa-trash",
innerHTML:"",onclick:m.hitch(this,function(c){c.preventDefault();this._removeRow(b.id,a.type)})},c);return c})}},c=new (g([q,h,s]))({className:"dgrid-autoheight",collection:a.collection,columns:c,showHeader:!1,noDataMessage:"",loadingMessage:"Fetching data.."},b);c.on("dgrid-error",function(a){});return c},getData:function(){var a={};this._isCollection?(a.members=l.map(this._membersStore.data,function(a){var b={};b.id=a.id;return b},this),a.superordinates=l.map(this._superordinatesCollStore.data,
function(a){var b={};b.id=a.id;return b},this)):(a.related=l.map(this._relatedStore.data,function(a){var b={};b.id=a.id;return b},this),a.narrower=l.map(this._narrowerStore.data,function(a){var b={};b.id=a.id;return b},this),a.broader=l.map(this._broaderStore.data,function(a){var b={};b.id=a.id;return b},this),a.subordinate_arrays=l.map(this._subordinateStore.data,function(a){var b={};b.id=a.id;return b},this));a.member_of=l.map(this._memberOfStore.data,function(a){var b={};b.id=a.id;return b},this);
return a},_addRelation:function(a,b,c,e){return!l.some(e.data,function(b){return b.id==a})?(e.add({id:a,label:b,path:c}),!0):!1},setConcept:function(a){a&&(this.concept=a,this._broaderStore=new this.trackableMemory({data:this.concept?this.concept.broader:[]}),this._broaderGrid.set("collection",this._broaderStore),this._narrowerStore=new this.trackableMemory({data:this.concept?this.concept.narrower:[]}),this._narrowerGrid.set("collection",this._narrowerStore),this._relatedStore=new this.trackableMemory({data:this.concept?
this.concept.related:[]}),this._relatedGrid.set("collection",this._relatedStore),this._memberOfStore=new this.trackableMemory({data:this.concept?this.concept.member_of:[]}),this._memberOfGrid.set("collection",this._memberOfStore),this._membersStore=new this.trackableMemory({data:this.concept?this.concept.members:[]}),this._membersGrid.set("collection",this._membersStore),this._subordinateStore=new this.trackableMemory({data:this.concept?this.concept.subordinate_arrays:[]}),this._subordinateGrid.set("collection",
this._subordinateStore),this._superordinatesCollStore=new this.trackableMemory({data:this.concept?this.concept.superordinates:[]}),this._superordinatesCollGrid.set("collection",this._superordinatesCollStore),"collection"===this.concept.type?this.setCollectionTypes():this.setConceptTypes())},_addBroader:function(a){a?a.preventDefault():null;this._addRelationDialog.show(this._broaderStore,this._relationStore)},_addNarrower:function(a){a?a.preventDefault():null;this._addRelationDialog.show(this._narrowerStore,
this._relationStore)},_addRelated:function(a){a?a.preventDefault():null;this._addRelationDialog.show(this._relatedStore,this._relationStore)},_addMemberOf:function(a){a?a.preventDefault():null;this._addRelationDialog.show(this._memberOfStore,this._relationStore)},_addMembers:function(a){a?a.preventDefault():null;this._addRelationDialog.show(this._membersStore,this._relationStore)},_addSubordinateArray:function(a){a?a.preventDefault():null;this._addRelationDialog.show(this._subordinateStore,this._relationStore)},
_addSuperordinates:function(a){a?a.preventDefault():null;this._addRelationDialog.show(this._superordinatesCollStore,this._relationStore)},_removeRow:function(a,b){var c=null;switch(b){case "broader":c=this._broaderStore;break;case "narrower":c=this._narrowerStore;break;case "related":c=this._relatedStore;break;case "memberOf":c=this._memberOfStore;break;case "members":c=this._membersStore;break;case "subordinate":c=this._subordinateStore;break;case "superordinate":c=this._superordinatesCollStore}c&&
c.remove(a)}})})},"app/ui/dialogs/AddRelationDialog":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dijit/tree/ObjectStoreModel dstore/legacy/DstoreAdapter dijit/Tree dojo/_base/array dojo/topic dojo/dom-construct dojo/text!./templates/AddRelationDialog.html".split(" "),function(g,l,m,p,d,c,k,f,b,a,e){return g([p,l,m],{templateString:e,parentNode:null,baseClass:"relation-dialog",title:"Add a relation",scheme:null,concept:null,relationStore:null,
_tree:null,_myRelation:null,postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},hide:function(){this.inherited(arguments)},setScheme:function(a){a&&(this.scheme=a)},_okClick:function(a){a.preventDefault();if(a=this._tree.selectedItems[0])if(this.concept&&a.concept_id===this.concept.id)b.publish("dGrowl","Concept or collection cannot be related to itself",{title:"Not valid",sticky:!0,channel:"error"});else{var c=f.map(this._tree.get("path"),function(a){return a?
a.label:""});this.emit("ok",{conceptId:a.concept_id,conceptLabel:a.label,conceptPath:c,relation:this._myRelation});this.hide()}else b.publish("dGrowl","Nothing is selected",{title:"Not valid",sticky:!0,channel:"error"})},show:function(b,c){this.inherited(arguments);this._myRelation=b;this.relationStore=c;var e=this;a.empty(this.addRelationContainerNode);var f=new d({store:this.relationStore,mayHaveChildren:function(a){return a.children&&0<a.children.length},getRoot:function(a){var b=this.store.query(this.query);
a({concept_id:"-1",type:"collection",label:e.scheme,id:"-1",children:b})}});this._tree=(new k({model:f,showRoot:!1,getIconClass:function(a,b){return"collection"==a.type?b?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabel:function(a){return a.label},dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold singular".split(" "),singular:!0})).placeAt(this.addRelationContainerNode)},_cancelClick:function(a){a.preventDefault();this.hide()}})})},
"dijit/tree/ObjectStoreModel":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/_base/lang dojo/when ../Destroyable".split(" "),function(g,l,m,p,d,c,k){return m("dijit.tree.ObjectStoreModel",k,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(c){d.mixin(this,c);this.childrenCache={}},getRoot:function(f,b){if(this.root)f(this.root);else{var a=this.store.query(this.query);a.then&&this.own(a);c(a,d.hitch(this,function(b){if(1!=
b.length)throw Error("dijit.tree.ObjectStoreModel: root query returned "+b.length+" items, but must return exactly one");this.root=b[0];f(this.root);a.observe&&a.observe(d.hitch(this,function(a){this.onChange(a)}),!0)}),b)}},mayHaveChildren:function(){return!0},getChildren:function(f,b,a){var e=this.store.getIdentity(f);if(this.childrenCache[e])c(this.childrenCache[e],b,a);else{var k=this.childrenCache[e]=this.store.getChildren(f);k.then&&this.own(k);k.observe&&this.own(k.observe(d.hitch(this,function(a,
b,e){this.onChange(a);b!=e&&c(k,d.hitch(this,"onChildrenChange",f))}),!0));c(k,b,a)}},isItem:function(){return!0},getIdentity:function(c){return this.store.getIdentity(c)},getLabel:function(c){return c[this.labelAttr]},newItem:function(c,b,a,e){return this.store.put(c,{parent:b,before:e})},pasteItem:function(c,b,a,e,k,l){var m=new p;if(b===a&&!e&&!l)return m.resolve(!0),m;b&&!e?this.getChildren(b,d.hitch(this,function(e){e=[].concat(e);var d=g.indexOf(e,c);e.splice(d,1);this.onChildrenChange(b,e);
m.resolve(this.store.put(c,{overwrite:!0,parent:a,oldParent:b,before:l}))})):m.resolve(this.store.put(c,{overwrite:!0,parent:a,oldParent:b,before:l}));return m},onChange:function(){},onChildrenChange:function(){},onDelete:function(){}})})},"dstore/legacy/DstoreAdapter":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/store/util/QueryResults"],function(g,l,m){function p(c){return c}var d={store:null,constructor:function(c){this.store=c;if(c._getQuerierFactory("filter")||c._getQuerierFactory("sort"))this.queryEngine=
function(f,b){b=b||{};var a=c._getQuerierFactory("filter"),e=a?a(f):p,a=c._getQuerierFactory("sort"),d=p;a&&(d=a(l.map(b.sort,function(a){return{property:a.attribute,descending:a.descending}})));var k=p;if(!isNaN(b.start)||!isNaN(b.count))k=function(a){var c=b.start||0,c=a.slice(c,c+(b.count||Infinity));c.total=a.length;return c};return function(a){return k(d(e(a)))}};var d=this;c.on("add,update,delete",function(f){var b=f.type,a=f.target;d.notify("add"===b||"update"===b?a:void 0,"delete"===b||"update"===
b?"id"in f?f.id:c.getIdentity(a):void 0)})},query:function(c,d){d=d||{};var f=this.store.filter(c),b,a,e;if(e=d.sort)if("[object Array]"===Object.prototype.toString.call(e))for(var g;g=e.pop();)f=f.sort(g.attribute,g.descending);else f=f.sort(e);f.track&&!f.tracking&&(f=f.track(),a=!0);"start"in d&&(b=d.start||0,b=f[f.fetchRangeSync?"fetchRangeSync":"fetchRange"]({start:b,end:d.count?b+d.count:Infinity}));b=b||f[f.fetchSync?"fetchSync":"fetch"]();e=b.totalLength;b=new m(b);b.total=e;b.observe=function(b,
c){function e(b){return void 0===b&&a?-1:b}var d=f.on("add",function(a){b(a.target,-1,e(a.index))}),k=f.on("update",function(a){(c||a.previousIndex!==a.index||!isFinite(a.index))&&b(a.target,e(a.previousIndex),e(a.index))}),g=f.on("delete",function(a){b(a.target,e(a.previousIndex),-1)}),l={remove:function(){d.remove();k.remove();g.remove()}};l.cancel=l.remove;return l};return b},notify:function(){}};l.forEach(["get","put","add","remove","getIdentity"],function(c){d[c]=function(){var d=this.store;
return(d[c+"Sync"]||d[c]).apply(d,arguments)}});return g(null,d)})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(g,l,m){var p=function(d){function c(c){d[c]=function(){var b=arguments,a=m(d,function(a){Array.prototype.unshift.call(b,a);return p(g[c].apply(g,b))});if("forEach"!==c||k)return a}}if(!d)return d;var k=!!d.then;k&&(d=l.delegate(d));c("forEach");c("filter");c("map");null==d.total&&(d.total=m(d,function(c){return c.length}));
return d};l.setObject("dojo.store.util.QueryResults",p);return p})},"dijit/Tree":function(){define("dojo/_base/array dojo/aspect dojo/cookie dojo/_base/declare dojo/Deferred dojo/promise/all dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/errors/create dojo/fx dojo/has dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/topic dojo/touch dojo/when ./a11yclick ./focus ./registry ./_base/manager ./_Widget ./_TemplatedMixin ./_Container ./_Contained ./_CssStateMixin ./_KeyNavMixin dojo/text!./templates/TreeNode.html dojo/text!./templates/Tree.html ./tree/TreeStoreModel ./tree/ForestStoreModel ./tree/_dndSelector dojo/query!css2".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s,v,x,u,y,z,w,A,E,F,G,I,N,Q,H,L,M,C,B){function D(a){return h.delegate(a.promise||a,{addCallback:function(a){this.then(a)},addErrback:function(a){this.otherwise(a)}})}var U=p("dijit._TreeNode",[E,F,G,I,N],{item:null,isTreeNode:!0,label:"",_setLabelAttr:function(a){this.labelNode["html"==this.labelType?"innerHTML":"innerText"in this.labelNode?"innerText":"textContent"]=a;this._set("label",a);n("dojo-bidi")&&this.applyTextDir(this.labelNode)},labelType:"text",
isExpandable:null,isExpanded:!1,state:"NotLoaded",templateString:H,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);this.isExpandable&&this.labelNode.setAttribute("aria-expanded",this.isExpanded);this.setSelected(!1)},_setIndentAttr:function(b){var c=Math.max(b,0)*this.tree._nodePixelIndent+"px";a.set(this.domNode,
"backgroundPosition",c+" 0px");a.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",c);g.forEach(this.getChildren(),function(a){a.set("indent",b+1)});this._set("indent",b)},markProcessing:function(){this.state="Loading";this._setExpando(!0)},unmarkProcessing:function(){this._setExpando(!1)},_updateItemClasses:function(a){var b=this.tree,c=b.model;b._v10Compat&&a===c.root&&(a=null);this._applyClassAndStyle(a,"icon","Icon");this._applyClassAndStyle(a,"label","Label");this._applyClassAndStyle(a,
"row","Row");this.tree._startPaint(!0)},_applyClassAndStyle:function(b,c,e){var d="_"+c+"Class";c+="Node";var h=this[d];this[d]=this.tree["get"+e+"Class"](b,this.isExpanded);f.replace(this[c],this[d]||"",h||"");a.set(this[c],this.tree["get"+e+"Style"](b,this.isExpanded)||{})},_updateLayout:function(){var a=this.getParent(),a=!a||!a.rowNode||"none"==a.rowNode.style.display;f.toggle(this.domNode,"dijitTreeIsRoot",a);f.toggle(this.domNode,"dijitTreeIsLast",!a&&!this.getNextSibling())},_setExpando:function(a){var b=
["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];a=a?0:this.isExpandable?this.isExpanded?1:2:3;f.replace(this.expandoNode,b[a],b);this.expandoNodeText.innerHTML=["*","-","+","*"][a]},expand:function(){if(this._expandDeferred)return D(this._expandDeferred);this._collapseDeferred&&(this._collapseDeferred.cancel(),delete this._collapseDeferred);this.isExpanded=!0;this.labelNode.setAttribute("aria-expanded","true");(this.tree.showRoot||this!==this.tree.rootNode)&&
this.containerNode.setAttribute("role","group");f.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","true");var a=r.wipeIn({node:this.containerNode,duration:A.defaultDuration}),b=this._expandDeferred=new d(function(){a.stop()});l.after(a,"onEnd",function(){b.resolve(!0)},!0);a.play();return D(b)},collapse:function(){if(this._collapseDeferred)return D(this._collapseDeferred);
this._expandDeferred&&(this._expandDeferred.cancel(),delete this._expandDeferred);this.isExpanded=!1;this.labelNode.setAttribute("aria-expanded","false");this==this.tree.rootNode&&this.tree.showRoot&&this.tree.domNode.setAttribute("aria-expanded","false");f.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var a=r.wipeOut({node:this.containerNode,duration:A.defaultDuration}),b=this._collapseDeferred=new d(function(){a.stop()});l.after(a,"onEnd",
function(){b.resolve(!0)},!0);a.play();return D(b)},indent:0,setChildItems:function(a){var b=this.tree,e=b.model,f=[],d=b.focusedChild,h=this.getChildren();g.forEach(h,function(a){G.prototype.removeChild.call(this,a)},this);this.defer(function(){g.forEach(h,function(a){if(!a._destroyed&&!a.getParent()){b.dndController.removeTreeNode(a);var c=function(a){var f=e.getIdentity(a.item),d=b._itemNodesMap[f];1==d.length?delete b._itemNodesMap[f]:(f=g.indexOf(d,a),-1!=f&&d.splice(f,1));g.forEach(a.getChildren(),
c)};c(a);if(b.persist){var f=g.map(a.getTreePath(),function(a){return b.model.getIdentity(a)}).join("/"),h;for(h in b._openedNodes)h.substr(0,f.length)==f&&delete b._openedNodes[h];b._saveExpandedNodes()}b.lastFocusedChild&&!k.isDescendant(b.lastFocusedChild.domNode,b.domNode)&&delete b.lastFocusedChild;d&&!k.isDescendant(d.domNode,b.domNode)&&b.focus();a.destroyRecursive()}})});this.state="Loaded";a&&0<a.length?(this.isExpandable=!0,g.forEach(a,function(a){var c=e.getIdentity(a),d=b._itemNodesMap[c],
h;if(d)for(var k=0;k<d.length;k++)if(d[k]&&!d[k].getParent()){h=d[k];h.set("indent",this.indent+1);break}h||(h=this.tree._createTreeNode({item:a,tree:b,isExpandable:e.mayHaveChildren(a),label:b.getLabel(a),labelType:b.model&&b.model.labelType||"text",tooltip:b.getTooltip(a),ownerDocument:b.ownerDocument,dir:b.dir,lang:b.lang,textDir:b.textDir,indent:this.indent+1}),d?d.push(h):b._itemNodesMap[c]=[h]);this.addChild(h);(this.tree.autoExpand||this.tree._state(h))&&f.push(b._expandNode(h))},this),g.forEach(this.getChildren(),
function(a){a._updateLayout()})):this.isExpandable=!1;this._setExpando&&this._setExpando(!1);this._updateItemClasses(this.item);a=c(f);this.tree._startPaint(a);return D(a)},getTreePath:function(){for(var a=this,b=[];a&&a!==this.tree.rootNode;)b.unshift(a.item),a=a.getParent();b.unshift(this.tree.rootNode.item);return b},getIdentity:function(){return this.tree.model.getIdentity(this.item)},removeChild:function(a){this.inherited(arguments);var b=this.getChildren();0==b.length&&(this.isExpandable=!1,
this.collapse());g.forEach(b,function(a){a._updateLayout()})},makeExpandable:function(){this.isExpandable=!0;this._setExpando(!1)},setSelected:function(a){this.labelNode.setAttribute("aria-selected",a?"true":"false");f.toggle(this.rowNode,"dijitTreeRowSelected",a)},focus:function(){z.focus(this.focusNode)}});n("dojo-bidi")&&U.extend({_setTextDirAttr:function(a){if(a&&(this.textDir!=a||!this._created))this._set("textDir",a),this.applyTextDir(this.labelNode),g.forEach(this.getChildren(),function(b){b.set("textDir",
a)},this)}});var J=p("dijit.Tree",[E,Q,F,N],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:!0,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:!1,openOnDblClick:!1,templateString:L,persist:!1,autoExpand:!1,dndController:B,dndParams:"onDndDrop itemCreator onDndCancel checkAcceptance checkItemAcceptance dragThreshold betweenThreshold".split(" "),onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,
dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(a,b){v.publish(this.id,h.mixin({tree:this,event:a},b||{}))},postMixInProperties:function(){this.tree=this;this.autoExpand&&(this.persist=!1);this._itemNodesMap={};!this.cookieName&&this.id&&(this.cookieName=this.id+"SaveStateCookie");this.expandChildrenDeferred=new d;this.pendingCommandsPromise=this.expandChildrenDeferred.promise;this.inherited(arguments)},postCreate:function(){this._initState();var a=this;this.own(s(this.containerNode,
s.selector(".dijitTreeNode",x.enter),function(b){a._onNodeMouseEnter(w.byNode(this),b)}),s(this.containerNode,s.selector(".dijitTreeNode",x.leave),function(b){a._onNodeMouseLeave(w.byNode(this),b)}),s(this.containerNode,s.selector(".dijitTreeRow",y.press),function(b){a._onNodePress(w.getEnclosingWidget(this),b)}),s(this.containerNode,s.selector(".dijitTreeRow",y),function(b){a._onClick(w.getEnclosingWidget(this),b)}),s(this.containerNode,s.selector(".dijitTreeRow","dblclick"),function(b){a._onDblClick(w.getEnclosingWidget(this),
b)}));this.model||this._store2model();this.own(l.after(this.model,"onChange",h.hitch(this,"_onItemChange"),!0),l.after(this.model,"onChildrenChange",h.hitch(this,"_onItemChildrenChange"),!0),l.after(this.model,"onDelete",h.hitch(this,"_onItemDelete"),!0));this.inherited(arguments);if(this.dndController){h.isString(this.dndController)&&(this.dndController=h.getObject(this.dndController));for(var b={},c=0;c<this.dndParams.length;c++)this[this.dndParams[c]]&&(b[this.dndParams[c]]=this[this.dndParams[c]]);
this.dndController=new this.dndController(this,b)}this._load();this.onLoadDeferred=D(this.pendingCommandsPromise);this.onLoadDeferred.then(h.hitch(this,"onLoad"))},_store2model:function(){this._v10Compat=!0;t.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var a={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};this.params.mayHaveChildren&&(a.mayHaveChildren=h.hitch(this,"mayHaveChildren"));this.params.getItemChildren&&
(a.getChildren=h.hitch(this,function(a,b,c){this.getItemChildren(this._v10Compat&&a===this.model.root?null:a,b,c)}));this.model=new C(a);this.showRoot=Boolean(this.label)},onLoad:function(){},_load:function(){this.model.getRoot(h.hitch(this,function(a){var b=this.rootNode=this.tree._createTreeNode({item:a,tree:this,isExpandable:!0,label:this.label||this.getLabel(a),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1});this.showRoot?(this.domNode.setAttribute("aria-multiselectable",
!this.dndController.singular),this.rootLoadingIndicator.style.display="none"):(b.rowNode.style.display="none",this.domNode.setAttribute("role","presentation"),this.domNode.removeAttribute("aria-expanded"),this.domNode.removeAttribute("aria-multiselectable"),this["aria-label"]?(b.containerNode.setAttribute("aria-label",this["aria-label"]),this.domNode.removeAttribute("aria-label")):this["aria-labelledby"]&&(b.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]),this.domNode.removeAttribute("aria-labelledby")),
b.labelNode.setAttribute("role","presentation"),b.labelNode.removeAttribute("aria-selected"),b.containerNode.setAttribute("role","tree"),b.containerNode.setAttribute("aria-expanded","true"),b.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular));this.containerNode.appendChild(b.domNode);a=this.model.getIdentity(a);this._itemNodesMap[a]?this._itemNodesMap[a].push(b):this._itemNodesMap[a]=[b];b._updateLayout();this._expandNode(b).then(h.hitch(this,function(){this._destroyed||
(this.rootLoadingIndicator.style.display="none",this.expandChildrenDeferred.resolve(!0))}))}),h.hitch(this,function(a){}))},getNodesByItem:function(a){if(!a)return[];a=h.isString(a)?a:this.model.getIdentity(a);return[].concat(this._itemNodesMap[a])},_setSelectedItemAttr:function(a){this.set("selectedItems",[a])},_setSelectedItemsAttr:function(a){var b=this;return this.pendingCommandsPromise=this.pendingCommandsPromise.always(h.hitch(this,function(){var c=g.map(a,function(a){return!a||h.isString(a)?
a:b.model.getIdentity(a)}),e=[];g.forEach(c,function(a){e=e.concat(b._itemNodesMap[a]||[])});this.set("selectedNodes",e)}))},_setPathAttr:function(a){return a.length?D(this.set("paths",[a]).then(function(a){return a[0]})):D(this.set("paths",[]).then(function(a){return a[0]}))},_setPathsAttr:function(a){function b(a,c){var f=a.shift(),d=g.filter(c,function(a){return a.getIdentity()==f})[0];if(d)return a.length?e._expandNode(d).then(function(){return b(a,d.getChildren())}):d;throw new J.PathError("Could not expand path at "+
f);}var e=this;return D(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){return c(g.map(a,function(a){a=g.map(a,function(a){return h.isString(a)?a:e.model.getIdentity(a)});if(a.length)return b(a,[e.rootNode]);throw new J.PathError("Empty path");}))}).then(function(a){e.set("selectedNodes",a);return e.paths}))},_setSelectedNodeAttr:function(a){this.set("selectedNodes",[a])},_setSelectedNodesAttr:function(a){this.dndController.setSelection(a)},expandAll:function(){function a(e){return b._expandNode(e).then(function(){var b=
g.filter(e.getChildren()||[],function(a){return a.isExpandable});return c(g.map(b,a))})}var b=this;return D(a(this.rootNode))},collapseAll:function(){function a(e){var f=g.filter(e.getChildren()||[],function(a){return a.isExpandable}),f=c(g.map(f,a));return!e.isExpanded||e==b.rootNode&&!b.showRoot?f:f.then(function(){return b._collapseNode(e)})}var b=this;return D(a(this.rootNode))},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(a){return this.model.getLabel(a)},getIconClass:function(a,
b){return!a||this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":"dijitLeaf"},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return""},_onDownArrow:function(a,b){var c=this._getNext(b);c&&c.isTreeNode&&this.focusNode(c)},_onUpArrow:function(a,b){var c=b.getPreviousSibling();if(c)for(b=c;b.isExpandable&&b.isExpanded&&b.hasChildren();)c=b.getChildren(),b=c[c.length-1];else if(c=
b.getParent(),this.showRoot||c!==this.rootNode)b=c;b&&b.isTreeNode&&this.focusNode(b)},_onRightArrow:function(a,b){b.isExpandable&&!b.isExpanded?this._expandNode(b):b.hasChildren()&&(b=b.getChildren()[0])&&b.isTreeNode&&this.focusNode(b)},_onLeftArrow:function(a,b){if(b.isExpandable&&b.isExpanded)this._collapseNode(b);else{var c=b.getParent();c&&(c.isTreeNode&&(this.showRoot||c!==this.rootNode))&&this.focusNode(c)}},focusLastChild:function(){var a=this._getLast();a&&a.isTreeNode&&this.focusNode(a)},
_getFirst:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0]},_getLast:function(){for(var a=this.rootNode;a.isExpanded;){var b=a.getChildren();if(!b.length)break;a=b[b.length-1]}return a},_getNext:function(a){if(a.isExpandable&&a.isExpanded&&a.hasChildren())return a.getChildren()[0];for(;a&&a.isTreeNode;){var b=a.getNextSibling();if(b)return b;a=a.getParent()}return null},childSelector:".dijitTreeRow",isExpandoNode:function(a,b){return k.isDescendant(a,b.expandoNode)||k.isDescendant(a,
b.expandoNodeText)},_onNodePress:function(a,b){this.focusNode(a)},__click:function(a,b,c,e){var f=this.isExpandoNode(b.target,a);a.isExpandable&&(c||f)?this._onExpandoClick({node:a}):(this._publish("execute",{item:a.item,node:a,evt:b}),this[e](a.item,a,b),this.focusNode(a));b.stopPropagation();b.preventDefault()},_onClick:function(a,b){this.__click(a,b,this.openOnClick,"onClick")},_onDblClick:function(a,b){this.__click(a,b,this.openOnDblClick,"onDblClick")},_onExpandoClick:function(a){a=a.node;this.focusNode(a);
a.isExpanded?this._collapseNode(a):this._expandNode(a)},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(a){t.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");return this._getNext(a)},_getRootOrFirstNode:function(){t.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");return this._getFirst()},_collapseNode:function(a){a._expandNodeDeferred&&
delete a._expandNodeDeferred;if("Loading"!=a.state&&a.isExpanded){var b=a.collapse();this.onClose(a.item,a);this._state(a,!1);this._startPaint(b);return b}},_expandNode:function(a){if(a._expandNodeDeferred)return a._expandNodeDeferred;var b=this.model,c=a.item;a._loadDeferred||(a.markProcessing(),a._loadDeferred=new d,b.getChildren(c,function(b){a.unmarkProcessing();a.setChildItems(b).then(function(){a._loadDeferred.resolve(b)})},function(b){a._loadDeferred.reject(b)}));b=a._loadDeferred.then(h.hitch(this,
function(){var b=a.expand();this.onOpen(a.item,a);this._state(a,!0);return b}));this._startPaint(b);return b},focusNode:function(a){var b=this.domNode.scrollLeft;this.focusChild(a);this.domNode.scrollLeft=b},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(a){var b=this.model.getIdentity(a);if(b=this._itemNodesMap[b]){var c=this.getLabel(a),e=this.getTooltip(a);g.forEach(b,function(b){b.set({item:a,label:c,tooltip:e});b._updateItemClasses(a)})}},_onItemChildrenChange:function(a,
b){var c=this.model.getIdentity(a);(c=this._itemNodesMap[c])&&g.forEach(c,function(a){a.setChildItems(b)})},_onItemDelete:function(a){a=this.model.getIdentity(a);var b=this._itemNodesMap[a];b&&(g.forEach(b,function(a){this.dndController.removeTreeNode(a);var b=a.getParent();b&&b.removeChild(a);this.lastFocusedChild&&!k.isDescendant(this.lastFocusedChild.domNode,this.domNode)&&delete this.lastFocusedChild;this.focusedChild&&!k.isDescendant(this.focusedChild.domNode,this.domNode)&&this.focus();a.destroyRecursive()},
this),delete this._itemNodesMap[a])},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var a=m(this.cookieName);a&&g.forEach(a.split(","),function(a){this._openedNodes[a]=!0},this)}},_state:function(a,b){if(!this.persist)return!1;var c=g.map(a.getTreePath(),function(a){return this.model.getIdentity(a)},this).join("/");if(1===arguments.length)return this._openedNodes[c];b?this._openedNodes[c]=!0:delete this._openedNodes[c];this._saveExpandedNodes()},_saveExpandedNodes:function(){if(this.persist&&
this.cookieName){var a=[],b;for(b in this._openedNodes)a.push(b);m(this.cookieName,a.join(","),{expires:365})}},destroy:function(){this._curSearch&&(this._curSearch.timer.remove(),delete this._curSearch);this.rootNode&&this.rootNode.destroyRecursive();this.dndController&&!h.isString(this.dndController)&&this.dndController.destroy();this.rootNode=null;this.inherited(arguments)},destroyRecursive:function(){this.destroy()},resize:function(a){a&&b.setMarginBox(this.domNode,a);this._nodePixelIndent=b.position(this.tree.indentDetector).w||
this._nodePixelIndent;this.expandChildrenDeferred.then(h.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths()}))},_outstandingPaintOperations:0,_startPaint:function(a){this._outstandingPaintOperations++;this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);var b=h.hitch(this,function(){this._outstandingPaintOperations--;0>=this._outstandingPaintOperations&&(!this._adjustWidthsTimer&&this._started)&&(this._adjustWidthsTimer=
this.defer("_adjustWidths"))});u(a,b,b)},_adjustWidths:function(){this._adjustWidthsTimer&&(this._adjustWidthsTimer.remove(),delete this._adjustWidthsTimer);this.containerNode.style.width="auto";this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%"},_createTreeNode:function(a){return new U(a)},focus:function(){this.lastFocusedChild?this.focusNode(this.lastFocusedChild):this.focusFirstChild()}});n("dojo-bidi")&&J.extend({_setTextDirAttr:function(a){a&&this.textDir!=
a&&(this._set("textDir",a),this.rootNode.set("textDir",a))}});J.PathError=e("TreePathError");J._TreeNode=U;return J})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(g,l,m,p,d,c,k,f,b,a,e){m.isAsync||a(0,function(){e(["./fx/Toggler"])});m=m.fx={};a={_fire:function(a,b){this[a]&&this[a].apply(this,b||[]);return this}};var r=function(a){this._index=-1;this._animations=a||[];this._current=
this._onAnimateCtx=this._onEndCtx=null;this.duration=0;p.forEach(this._animations,function(a){a&&("undefined"!=typeof a.duration&&(this.duration+=a.duration),a.delay&&(this.duration+=a.delay))},this)};r.prototype=new l;g.extend(r,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?this._fire("onEnd"):(this._current=this._animations[++this._index],
this._onAnimateCtx=d.after(this._current,"onAnimate",g.hitch(this,"_onAnimate"),!0),this._onEndCtx=d.after(this._current,"onEnd",g.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(a,b){this._current||(this._current=this._animations[this._index=0]);if(!b&&"playing"==this._current.status())return this;var c=d.after(this._current,"beforeBegin",g.hitch(this,function(){this._fire("beforeBegin")}),!0),e=d.after(this._current,"onBegin",g.hitch(this,function(a){this._fire("onBegin",arguments)}),
!0),f=d.after(this._current,"onPlay",g.hitch(this,function(a){this._fire("onPlay",arguments);c.remove();e.remove();f.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=d.after(this._current,"onAnimate",g.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=d.after(this._current,"onEnd",g.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},pause:function(){if(this._current){var a=d.after(this._current,"onPause",
g.hitch(this,function(b){this._fire("onPause",arguments);a.remove()}),!0);this._current.pause()}return this},gotoPercent:function(a,b){this.pause();var c=this.duration*a;this._current=null;p.some(this._animations,function(a,b){if(c<=a.duration)return this._current=a,this._index=b,!0;c-=a.duration;return!1},this);this._current&&this._current.gotoPercent(c/this._current.duration);b&&this.play();return this},stop:function(a){if(this._current){if(a){for(;this._index+1<this._animations.length;++this._index)this._animations[this._index].stop(!0);
this._current=this._animations[this._index]}var b=d.after(this._current,"onStop",g.hitch(this,function(a){this._fire("onStop",arguments);b.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});g.extend(r,a);m.chain=function(a){return new r(a)};var n=function(a){this._animations=a||[];this._connects=[];this.duration=
this._finished=0;p.forEach(a,function(a){var b=a.duration;a.delay&&(b+=a.delay);this.duration<b&&(this.duration=b);this._connects.push(d.after(a,"onEnd",g.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new c.Animation({curve:[0,1],duration:this.duration});var b=this;p.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(a){b._connects.push(d.after(b._pseudoAnimation,a,function(){b._fire(a,arguments)},!0))})};g.extend(n,{_doAction:function(a,b){p.forEach(this._animations,
function(c){c[a].apply(c,b)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(a,b){var c=this._pseudoAnimation;c[a].apply(c,b)},play:function(a,b){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(a,b){var c=this.duration*a;p.forEach(this._animations,function(a){a.gotoPercent(a.duration<
c?1:c/a.duration,b)});this._call("gotoPercent",arguments);return this},stop:function(a){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop();p.forEach(this._connects,function(a){a.remove()})}});g.extend(n,a);m.combine=function(a){return new n(a)};m.wipeIn=function(a){var b=a.node=k.byId(a.node),e=b.style,l;a=c.animateProperty(g.mixin({properties:{height:{start:function(){l=e.overflow;e.overflow=
"hidden";if("hidden"==e.visibility||"none"==e.display)return e.height="1px",e.display="",e.visibility="",1;var a=f.get(b,"height");return Math.max(a,1)},end:function(){return b.scrollHeight}}}},a));var n=function(){e.height="auto";e.overflow=l};d.after(a,"onStop",n,!0);d.after(a,"onEnd",n,!0);return a};m.wipeOut=function(a){var b=(a.node=k.byId(a.node)).style,e;a=c.animateProperty(g.mixin({properties:{height:{end:1}}},a));d.after(a,"beforeBegin",function(){e=b.overflow;b.overflow="hidden";b.display=
""},!0);var f=function(){b.overflow=e;b.height="auto";b.display="none"};d.after(a,"onStop",f,!0);d.after(a,"onEnd",f,!0);return a};m.slideTo=function(a){var e=null,h=null,l=function(a){return function(){var c=f.getComputedStyle(a),d=c.position;e="absolute"==d?a.offsetTop:parseInt(c.top)||0;h="absolute"==d?a.offsetLeft:parseInt(c.left)||0;"absolute"!=d&&"relative"!=d&&(c=b.position(a,!0),e=c.y,h=c.x,a.style.position="absolute",a.style.top=e+"px",a.style.left=h+"px")}}(a.node=k.byId(a.node));l();a=
c.animateProperty(g.mixin({properties:{top:a.top||0,left:a.left||0}},a));d.after(a,"beforeBegin",l,!0);return a};return m})},"dijit/tree/TreeStoreModel":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(g,l,m,p){return m("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:!1,constructor:function(d){p.mixin(this,d);this.connects=[];d=this.store;if(!d.getFeatures()["dojo.data.api.Identity"])throw Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");
d.getFeatures()["dojo.data.api.Notification"]&&(this.connects=this.connects.concat([l.after(d,"onNew",p.hitch(this,"onNewItem"),!0),l.after(d,"onDelete",p.hitch(this,"onDeleteItem"),!0),l.after(d,"onSet",p.hitch(this,"onSetItem"),!0)]))},destroy:function(){for(var d;d=this.connects.pop();)d.remove()},getRoot:function(d,c){this.root?d(this.root):this.store.fetch({query:this.query,onComplete:p.hitch(this,function(c){if(1!=c.length)throw Error("dijit.tree.TreeStoreModel: root query returned "+c.length+
" items, but must return exactly one");this.root=c[0];d(this.root)}),onError:c})},mayHaveChildren:function(d){return g.some(this.childrenAttrs,function(c){return this.store.hasAttribute(d,c)},this)},getChildren:function(d,c,k){var f=this.store;if(f.isItemLoaded(d)){for(var b=[],a=0;a<this.childrenAttrs.length;a++)var e=f.getValues(d,this.childrenAttrs[a]),b=b.concat(e);var l=0;this.deferItemLoadingUntilExpand||g.forEach(b,function(a){f.isItemLoaded(a)||l++});0==l?c(b):g.forEach(b,function(a,e){f.isItemLoaded(a)||
f.loadItem({item:a,onItem:function(a){b[e]=a;0==--l&&c(b)},onError:k})})}else{var n=p.hitch(this,arguments.callee);f.loadItem({item:d,onItem:function(a){n(a,c,k)},onError:k})}},isItem:function(d){return this.store.isItem(d)},fetchItemByIdentity:function(d){this.store.fetchItemByIdentity(d)},getIdentity:function(d){return this.store.getIdentity(d)},getLabel:function(d){return this.labelAttr?this.store.getValue(d,this.labelAttr):this.store.getLabel(d)},newItem:function(d,c,k){var f={parent:c,attribute:this.childrenAttrs[0]},
b;this.newItemIdAttr&&d[this.newItemIdAttr]?this.fetchItemByIdentity({identity:d[this.newItemIdAttr],scope:this,onItem:function(a){a?this.pasteItem(a,null,c,!0,k):(b=this.store.newItem(d,f))&&void 0!=k&&this.pasteItem(b,c,c,!1,k)}}):(b=this.store.newItem(d,f))&&void 0!=k&&this.pasteItem(b,c,c,!1,k)},pasteItem:function(d,c,k,f,b){var a=this.store,e=this.childrenAttrs[0];c&&g.forEach(this.childrenAttrs,function(b){if(a.containsValue(c,b,d)){if(!f){var k=g.filter(a.getValues(c,b),function(a){return a!=
d});a.setValues(c,b,k)}e=b}});if(k)if("number"==typeof b){var l=a.getValues(k,e).slice();l.splice(b,0,d);a.setValues(k,e,l)}else a.setValues(k,e,a.getValues(k,e).concat(d))},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(d,c){c&&this.getChildren(c.item,p.hitch(this,function(d){this.onChildrenChange(c.item,d)}))},onDeleteItem:function(d){this.onDelete(d)},onSetItem:function(d,c){if(-1!=g.indexOf(this.childrenAttrs,c))this.getChildren(d,p.hitch(this,function(c){this.onChildrenChange(d,
c)}));else this.onChange(d)}})})},"dijit/tree/ForestStoreModel":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(g,l,m,p,d){return l("dijit.tree.ForestStoreModel",d,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(c){this.root={store:this,root:!0,id:c.rootId,label:c.rootLabel,children:c.rootChildren}},mayHaveChildren:function(c){return c===this.root||this.inherited(arguments)},getChildren:function(c,d,f){c===
this.root?this.root.children?d(this.root.children):this.store.fetch({query:this.query,onComplete:p.hitch(this,function(b){this.root.children=b;d(b)}),onError:f}):this.inherited(arguments)},isItem:function(c){return c===this.root?!0:this.inherited(arguments)},fetchItemByIdentity:function(c){if(c.identity==this.root.id){var d=c.scope||m.global;c.onItem&&c.onItem.call(d,this.root)}else this.inherited(arguments)},getIdentity:function(c){return c===this.root?this.root.id:this.inherited(arguments)},getLabel:function(c){return c===
this.root?this.root.label:this.inherited(arguments)},newItem:function(c,d,f){return d===this.root?(this.onNewRootItem(c),this.store.newItem(c)):this.inherited(arguments)},onNewRootItem:function(){},pasteItem:function(c,d,f,b,a){if(d===this.root&&!b)this.onLeaveRoot(c);this.inherited(arguments,[c,d===this.root?null:d,f===this.root?null:f,b,a]);if(f===this.root)this.onAddToRoot(c)},onAddToRoot:function(c){},onLeaveRoot:function(c){},_requeryTop:function(){var c=this.root.children||[];this.store.fetch({query:this.query,
onComplete:p.hitch(this,function(d){this.root.children=d;if(c.length!=d.length||g.some(c,function(c,b){return d[b]!=c}))this.onChildrenChange(this.root,d)})})},onNewItem:function(c,d){this._requeryTop();this.inherited(arguments)},onDeleteItem:function(c){-1!=g.indexOf(this.root.children,c)&&this._requeryTop();this.inherited(arguments)},onSetItem:function(c,d,f,b){this._requeryTop();this.inherited(arguments)}})})},"dijit/tree/_dndSelector":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/dnd/common dojo/dom dojo/mouse dojo/on dojo/touch ../a11yclick ./_dndContainer".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e){return l("dijit.tree._dndSelector",e,{constructor:function(){this.selection={};this.anchor=null;this.events.push(f(this.tree.domNode,b.press,p.hitch(this,"onMouseDown")),f(this.tree.domNode,b.release,p.hitch(this,"onMouseUp")),f(this.tree.domNode,b.move,p.hitch(this,"onMouseMove")),f(this.tree.domNode,a.press,p.hitch(this,"onClickPress")),f(this.tree.domNode,a.release,p.hitch(this,"onClickRelease")))},singular:!1,getSelectedTreeNodes:function(){var a=[],b=this.selection,
c;for(c in b)a.push(b[c]);return a},selectNone:function(){this.setSelection([]);return this},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null},addTreeNode:function(a,b){this.setSelection(this.getSelectedTreeNodes().concat([a]));b&&(this.anchor=a);return a},removeTreeNode:function(a){var b=g.filter(this.getSelectedTreeNodes(),function(b){return!c.isDescendant(b.domNode,a.domNode)});this.setSelection(b);return a},isTreeNodeSelected:function(a){return a.id&&!!this.selection[a.id]},
setSelection:function(a){var b=this.getSelectedTreeNodes();g.forEach(this._setDifference(b,a),p.hitch(this,function(a){a.setSelected(!1);this.anchor==a&&delete this.anchor;delete this.selection[a.id]}));g.forEach(this._setDifference(a,b),p.hitch(this,function(a){a.setSelected(!0);this.selection[a.id]=a}));this._updateSelectionProperties()},_setDifference:function(a,b){g.forEach(b,function(a){a.__exclude__=!0});var c=g.filter(a,function(a){return!a.__exclude__});g.forEach(b,function(a){delete a.__exclude__});
return c},_updateSelectionProperties:function(){var a=this.getSelectedTreeNodes(),b=[],c=[];g.forEach(a,function(a){var e=a.getTreePath();c.push(a);b.push(e)},this);a=g.map(c,function(a){return a.item});this.tree._set("paths",b);this.tree._set("path",b[0]||[]);this.tree._set("selectedNodes",c);this.tree._set("selectedNode",c[0]||null);this.tree._set("selectedItems",a);this.tree._set("selectedItem",a[0]||null)},onClickPress:function(a){if(!this.current||!this.current.isExpandable||!this.tree.isExpandoNode(a.target,
this.current)){"mousedown"==a.type&&k.isLeft(a)&&a.preventDefault();var b="keydown"==a.type?this.tree.focusedChild:this.current;if(b){var c=d.getCopyKeyState(a),e=b.id;!this.singular&&!a.shiftKey&&this.selection[e]?this._doDeselect=!0:(this._doDeselect=!1,this.userSelect(b,c,a.shiftKey))}}},onClickRelease:function(a){this._doDeselect&&(this._doDeselect=!1,this.userSelect("keyup"==a.type?this.tree.focusedChild:this.current,d.getCopyKeyState(a),a.shiftKey))},onMouseMove:function(){this._doDeselect=
!1},onMouseDown:function(){},onMouseUp:function(){},_compareNodes:function(a,b){if(a===b)return 0;if("sourceIndex"in document.documentElement)return a.sourceIndex-b.sourceIndex;if("compareDocumentPosition"in document.documentElement)return a.compareDocumentPosition(b)&2?1:-1;if(document.createRange){var c=doc.createRange();c.setStartBefore(a);var e=doc.createRange();e.setStartBefore(b);return c.compareBoundaryPoints(c.END_TO_END,e)}throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");
},userSelect:function(a,b,c){if(this.singular)this.anchor==a&&b?this.selectNone():(this.setSelection([a]),this.anchor=a);else if(c&&this.anchor){b=this._compareNodes(this.anchor.rowNode,a.rowNode);c=this.anchor;0>b?b=c:(b=a,a=c);for(c=[];b!=a;)c.push(b),b=this.tree._getNext(b);c.push(a);this.setSelection(c)}else this.selection[a.id]&&b?this.removeTreeNode(a):b?this.addTreeNode(a,!0):(this.setSelection([a]),this.anchor=a)},getItem:function(a){return{data:this.selection[a],type:["treeNode"]}},forInSelectedItems:function(a,
b){b=b||m.global;for(var c in this.selection)a.call(b,this.getItem(c),c,this)}})})},"dijit/tree/_dndContainer":function(){define("dojo/aspect dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/on dojo/touch".split(" "),function(g,l,m,p,d,c){return l("dijit.tree._dndContainer",null,{constructor:function(k,f){this.tree=k;this.node=k.domNode;p.mixin(this,f);this.containerState="";m.add(this.node,"dojoDndContainer");this.events=[d(this.node,c.enter,p.hitch(this,"onOverEvent")),d(this.node,c.leave,
p.hitch(this,"onOutEvent")),g.after(this.tree,"_onNodeMouseEnter",p.hitch(this,"onMouseOver"),!0),g.after(this.tree,"_onNodeMouseLeave",p.hitch(this,"onMouseOut"),!0),d(this.node,"dragstart, selectstart",function(b){b.preventDefault()})]},destroy:function(){for(var c;c=this.events.pop();)c.remove();this.node=this.parent=null},onMouseOver:function(c){this.current=c},onMouseOut:function(){this.current=null},_changeState:function(c,d){var b="dojoDnd"+c,a=c.toLowerCase()+"State";m.replace(this.node,b+
d,b+this[a]);this[a]=d},_addItemClass:function(c,d){m.add(c,"dojoDndItem"+d)},_removeItemClass:function(c,d){m.remove(c,"dojoDndItem"+d)},onOverEvent:function(){this._changeState("Container","Over")},onOutEvent:function(){this._changeState("Container","")}})})},"app/ui/managers/MatchesManager":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-style dojo/json dojo/topic dojo/on dojo/promise/all dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/MatchesManager.html dstore/Memory dstore/Trackable dgrid/OnDemandGrid dgrid/extensions/DijitRegistry dgrid/extensions/ColumnResizer ../../utils/DomUtils ../dialogs/AddMatchesDialog".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s,v,x,u){return g([e,r],{templateString:n,baseClass:"matches-manager",languageController:null,listController:null,conceptSchemeController:null,concept:null,scheme:null,matchTypes:null,_loaded:!1,_broadStore:null,_broadGrid:null,_narrowStore:null,_narrowGrid:null,_relatedStore:null,_relatedGrid:null,_exactStore:null,_exactGrid:null,_closeStore:null,_closeGrid:null,_index:0,_matchesDialog:null,postCreate:function(){this.inherited(arguments);var a=g([t,q]);this._broadStore=
new a({data:[]});this._broadGrid=this._createGrid({collection:this._broadStore},this.broadGridNode);this._narrowStore=new a({data:[]});this._narrowGrid=this._createGrid({collection:this._narrowStore},this.narrowGridNode);this._relatedStore=new a({data:[]});this._relatedGrid=this._createGrid({collection:this._relatedStore},this.relatedGridNode);this._exactStore=new a({data:[]});this._exactGrid=this._createGrid({collection:this._exactStore},this.exactGridNode);this._closeStore=new a({data:[]});this._closeGrid=
this._createGrid({collection:this._closeStore},this.closeGridNode);this.concept&&this.concept.matches&&this._loadMatches(this.concept.matches);this._matchesDialog=new u({concept:this.concept,externalSchemeStore:this.conceptSchemeController.getExternalSchemeStore(),conceptSchemeController:this.conceptSchemeController,matchTypesList:this.listController.getMatchTypes()});this._matchesDialog.startup();this.own(b(this._matchesDialog,"match.add",m.hitch(this,function(a){this._addNewMatch(a.match,a.matchType)})))},
startup:function(){this.inherited(arguments);this._broadGrid.startup();this._narrowGrid.startup();this._relatedGrid.startup();this._exactGrid.startup();this._closeGrid.startup()},reset:function(){var a=g([t,q]);this._broadStore=new a({data:[]});this._broadGrid.set("collection",this._broadStore);this._narrowStore=new a({data:[]});this._narrowGrid.set("collection",this._narrowStore);this._relatedStore=new a({data:[]});this._relatedGrid.set("collection",this._relatedStore);this._exactStore=new a({data:[]});
this._exactGrid.set("collection",this._exactStore);this._closeStore=new a({data:[]});this._closeGrid.set("collection",this._closeStore);this._matchesDialog&&this._matchesDialog.reset()},_createGrid:function(a,b){var c={label:{label:"",get:function(a){return a.data.label}},uri:{label:"",renderCell:function(a){if(a&&a.data)return p.create("a",{href:a.data.uri,target:"_blank",title:a.data.uri,innerHTML:'\x3ci class\x3d"fa fa-external-link"\x3e\x3c/i\x3e\x26nbsp;\x26nbsp;'+a.data.uri})}},remove:{label:"",
renderCell:m.hitch(this,function(a){if(void 0===a.id)return null;var b=p.create("div",{"class":"dGridHyperlink"});p.create("a",{href:"#",title:"Remove match",className:"fa fa-trash",innerHTML:"",onclick:m.hitch(this,function(b){b.preventDefault();this._removeRow(a.id,a.type)})},b);return b})}},c=new (g([h,s,v]))({className:"dgrid-autoheight",collection:a.collection,columns:c,showHeader:!1,noDataMessage:"",loadingMessage:"Fetching data.."},b);c.on("dgrid-error",function(a){});return c},setConcept:function(a){a&&
(this.concept=a,this.reset(),this.concept.matches&&this._loadMatches(this.concept.matches))},_loadMatches:function(b){if(b){var c=[];this.loadingMatchesNode.style.display="inline-block";b.broad&&l.forEach(b.broad,function(a){c.push(this.conceptSchemeController.getMatch(a,"broad").then(m.hitch(this,function(a){this._addMatch(a,this._broadStore)})))},this);b.close&&l.forEach(b.close,function(a){c.push(this.conceptSchemeController.getMatch(a,"close").then(m.hitch(this,function(a){this._addMatch(a,this._closeStore)})))},
this);b.exact&&l.forEach(b.exact,function(a){c.push(this.conceptSchemeController.getMatch(a,"exact").then(m.hitch(this,function(a){this._addMatch(a,this._exactStore)})))},this);b.narrow&&l.forEach(b.narrow,function(a){c.push(this.conceptSchemeController.getMatch(a,"narrow").then(m.hitch(this,function(a){this._addMatch(a,this._narrowStore)})))},this);b.related&&l.forEach(b.related,function(a){c.push(this.conceptSchemeController.getMatch(a,"related").then(m.hitch(this,function(a){this._addMatch(a,this._relatedStore)})))},
this);a(c).then(m.hitch(this,function(a){this.loadingMatchesNode.style.display="none";this._loaded=!0}))}},getData:function(){var a={};if(this._loaded){var b={};b.narrow=l.map(this._narrowStore.data,function(a){return a.data.uri});b.broad=l.map(this._broadStore.data,function(a){return a.data.uri});b.related=l.map(this._relatedStore.data,function(a){return a.data.uri});b.close=l.map(this._closeStore.data,function(a){return a.data.uri});b.exact=l.map(this._exactStore.data,function(a){return a.data.uri});
a.matches=b}else a.matches=this.concept&&this.concept.matches?this.concept.matches:{};return a},_addNewMatch:function(a,b){var c=null;switch(b){case "broad":c=this._broadStore;break;case "narrow":c=this._narrowStore;break;case "related":c=this._relatedStore;break;case "close":c=this._closeStore;break;case "exact":c=this._exactStore}a&&c&&this._addMatch({data:{id:a.id,label:a.label,uri:a.uri},type:a.type},c)},_addMatch:function(a,b){return!l.some(b.data,function(b){return b.data.id==a.data.id})?(b.add(a),
!0):!1},_addMatches:function(a){a?a.preventDefault():null;this._matchesDialog.show()},_removeRow:function(a,b){var c=null;switch(b){case "broad":c=this._broadStore;break;case "close":c=this._closeStore;break;case "exact":c=this._exactStore;break;case "narrow":c=this._narrowStore;break;case "related":c=this._relatedStore}c&&c.remove(a)}})})},"app/ui/dialogs/AddMatchesDialog":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dojo/_base/lang dojo/_base/array dstore/Memory dojo/topic dojo/dom-construct dgrid/OnDemandGrid dgrid/extensions/DijitRegistry dgrid/extensions/ColumnResizer dgrid/Selection ../../utils/DomUtils dojo/text!./templates/AddMatchesDialog.html".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q){return g([p,l,m],{templateString:q,parentNode:null,baseClass:"matches-dialog",title:"Add a match",concept:null,conceptSchemeController:null,externalSchemeStore:null,matchTypesList:null,_matchesGrid:null,_matchesStore:null,postCreate:function(){this.inherited(arguments);this._matchesGrid=this._createGrid({collection:this._matchesStore},this.addMatchesGridNode);this.externalSchemeStore.fetch().then(d.hitch(this,function(a){t.addOptionsToSelect(this.externalSchemeSelect,
{data:a,idProperty:"id",labelProperty:"label"})}));t.addOptionsToSelect(this.matchTypeSelectNode,{data:this.matchTypesList,idProperty:"value",labelProperty:"label"})},startup:function(){this.inherited(arguments);this._matchesGrid.startup()},reset:function(){this.externalSchemeSelect.selectedIndex=0;this.matchTypeSelectNode.selectedIndex=0;this._matchesStore=new k({data:[]});this._matchesGrid.set("collection",this._matchesStore);this.searchLabelInput.value=""},hide:function(){this.reset();this.inherited(arguments)},
_createGrid:function(c,d){var f=new (g([a,e,r,n]))({collection:c.collection,columns:{label:{label:""},id:{label:""},type:{label:""},link:{label:"",renderCell:function(a){if(a&&a.uri)return b.create("a",{href:a.uri,target:"_blank",title:a.uri,innerHTML:'\x3ci class\x3d"fa fa-external-link"\x3e\x3c/i\x3e'})}}},selectionMode:"single",showHeader:!1,noDataMessage:"",loadingMessage:"Fetching data.."},d);f.on("dgrid-error",function(a){});return f},_okClick:function(a){a.preventDefault();a=t.getSelectedOption(this.matchTypeSelectNode);
var b=null,c;for(c in this._matchesGrid.selection)this._matchesGrid.selection[c]&&(b=this._matchesStore.getSync(c));b&&(this.emit("match.add",{matchType:a,match:b}),this.hide())},_cancelClick:function(a){a.preventDefault();this.hide()},_searchMatches:function(a){a?a.preventDefault():null;a=t.getSelectedOption(this.externalSchemeSelect);var b=this.searchLabelInput.value;a&&(b&&""!==b)&&this._loadStore(a,b)},_loadStore:function(a,b){this.conceptSchemeController.searchForConcepts(a,b).then(d.hitch(this,
function(a){this._matchesStore=new k({data:a});this._matchesGrid.set("collection",this._matchesStore);this._matchesGrid.resize()}),function(a){})},_validate:function(){}})})},"dojo/NodeList-traverse":function(){define(["./query","./_base/lang","./_base/array"],function(g,l,m){var p=g.NodeList;l.extend(p,{_buildArrayFromCallback:function(d){for(var c=[],k=0;k<this.length;k++){var f=d.call(this[k],this[k],c);f&&(c=c.concat(f))}return c},_getUniqueAsNodeList:function(d){for(var c=[],k=0,f;f=d[k];k++)1==
f.nodeType&&-1==m.indexOf(c,f)&&c.push(f);return this._wrap(c,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(d,c){var k=this._getUniqueAsNodeList(d),k=c?g._filterResult(k,c):k;return k._stash(this)},_getRelatedUniqueNodes:function(d,c){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(c),d)},children:function(d){return this._getRelatedUniqueNodes(d,function(c,d){return l._toArray(c.childNodes)})},closest:function(d,c){return this._getRelatedUniqueNodes(null,function(k,
f){do if(g._filterResult([k],d,c).length)return k;while(k!=c&&(k=k.parentNode)&&1==k.nodeType);return null})},parent:function(d){return this._getRelatedUniqueNodes(d,function(c,d){return c.parentNode})},parents:function(d){return this._getRelatedUniqueNodes(d,function(c,d){for(var f=[];c.parentNode;)c=c.parentNode,f.push(c);return f})},siblings:function(d){return this._getRelatedUniqueNodes(d,function(c,d){for(var f=[],b=c.parentNode&&c.parentNode.childNodes,a=0;a<b.length;a++)b[a]!=c&&f.push(b[a]);
return f})},next:function(d){return this._getRelatedUniqueNodes(d,function(c,d){for(var f=c.nextSibling;f&&1!=f.nodeType;)f=f.nextSibling;return f})},nextAll:function(d){return this._getRelatedUniqueNodes(d,function(c,d){for(var f=[],b=c;b=b.nextSibling;)1==b.nodeType&&f.push(b);return f})},prev:function(d){return this._getRelatedUniqueNodes(d,function(c,d){for(var f=c.previousSibling;f&&1!=f.nodeType;)f=f.previousSibling;return f})},prevAll:function(d){return this._getRelatedUniqueNodes(d,function(c,
d){for(var f=[],b=c;b=b.previousSibling;)1==b.nodeType&&f.push(b);return f})},andSelf:function(){return this.concat(this._parent)},first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(d,c){return 0!=c%2})},odd:function(){return this.filter(function(d,c){return 0==c%2})}});return p})},"app/ui/widgets/SlideMenu":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/text!./templates/SlideMenu.html dijit/_WidgetBase dijit/_TemplatedMixin dojo/topic dojo/on dojo/window dojo/dom-style".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e){return g([c,k],{baseClass:"atramhasis-slidemenu",templateString:d,layerService:null,menuOpen:!1,parentMap:null,overlayContainer:null,_layerLegend:null,postCreate:function(){this.inherited(arguments);this._calculateMenuHeight();b(window,"resize",l.hitch(this,function(){this._calculateMenuHeight()}))},startup:function(){this.inherited(arguments)},_calculateMenuHeight:function(){var b=a.getBox();e.set(this.menuContainer,"height",b.h-30-60+"px");e.set(this.overlayContainer,
"height",b.h-30-60+"px")},_toggleMenu:function(a){a?a.preventDefault():null;this.menuOpen?this._slideClose(a):this._slideOpen(a)},_slideOpen:function(a){a?a.preventDefault():null;p.remove(this.menuContainer,"slidemenu-close");p.add(this.menuContainer,"slidemenu-open");p.remove(this.overlayContainer,"slideoverlay-close");p.add(this.overlayContainer,"slideoverlay-open");this.menuOpen=!0},_slideClose:function(a){a?a.preventDefault():null;p.remove(this.menuContainer,"slidemenu-open");p.add(this.menuContainer,
"slidemenu-close");p.remove(this.overlayContainer,"slideoverlay-open");p.add(this.overlayContainer,"slideoverlay-close");this.menuOpen=!1}})})},"app/ui/dialogs/ManageConceptDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-attr dojo/on dijit/Dialog dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../utils/DomUtils ../managers/LabelManager ../managers/NoteManager ../managers/RelationManager ../managers/MatchesManager ../managers/SourcesManager ../../utils/DomUtils dojo/text!./templates/ManageConceptDialog.html dijit/layout/TabContainer dijit/layout/ContentPane".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s){return g([k,f,b],{templateString:s,baseClass:"concept-add-dialog",dialog:null,parent:null,concept:null,scheme:null,languageController:null,listController:null,conceptSchemeController:null,relationManager:null,labelManager:null,noteManager:null,matchesManager:null,sourcesManager:null,_mode:"add",postCreate:function(){this.inherited(arguments);this.dialog=new c({title:"Add new concept",style:"width: 1000px; min-height: 700px;"});this.dialog.closeText.innerHTML=
'\x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e';this.dialog.set("content",this);h.addOptionsToSelect(this.typeNode,{data:this.listController.getConceptTypes(),idProperty:"value",labelProperty:"label"});d(this.typeNode,"change",l.hitch(this,function(a){this._toggleMatches(a.target.value);this._toggleRelations(a.target.value)}));h.addOptionsToSelect(this.schemeNode,{data:this.conceptSchemeController.conceptSchemeList,idProperty:"id",labelProperty:"name"});m.subscribe("languages.updated",l.hitch(this,function(){this.updateLanguages()}));
this.scheme=this.schemeNode.value;this._createLabelsTab();this._createNotesTab();this._createSourcesTab();this._createRelationsTab();this._createMatchesTab()},startup:function(){this.inherited(arguments);this.tabContainer.layout();this.dialog.resize()},showDialog:function(a,b,c){c&&(this._mode=c);a&&(this.schemeNode.value=a,this.updateScheme(a),this.dialog.set("title","Add new concept or collection"),this.relationManager.reset(),this.labelManager.reset(),this.noteManager.reset(),this.matchesManager.reset(),
this.sourcesManager.reset(),b&&(b.id&&this.dialog.set("title","Edit \x3cstrong\x3e"+b.label+"\x3c/strong\x3e"),this.relationManager.setConcept(b),this.labelManager.setConcept(b),this.noteManager.setConcept(b),this.matchesManager.setConcept(b),this.sourcesManager.setConcept(b),this.concept=b,this.typeNode.value=b.type,this._toggleMatches(b.type),this._toggleRelations(b.type)));this.dialog.show();this.tabContainer.selectChild(this.tabLabels);this.tabContainer.layout();this.dialog.resize()},updateScheme:function(a){this.scheme=
a;this.relationManager.setScheme(a)},updateLanguages:function(){this.languageController.getLanguageStore().fetch().then(l.hitch(this,function(a){this.noteManager.updateLanguages(a);this.labelManager.updateLanguages(a)}))},_toggleMatches:function(a){"collection"===a?(this.tabMatches.set("disabled",!0),this.tabContainer.selectedChildWidget===this.tabMatches&&this.tabContainer.selectChild(this.tabLabels)):this.tabMatches.set("disabled",!1)},_toggleRelations:function(a){"collection"===a?this.relationManager.setCollectionTypes():
this.relationManager.setConceptTypes()},_close:function(){this._reset();this.dialog.hide()},_saveConcept:function(a){a?a.preventDefault():null;a={};this.concept&&(a.id=this.concept.id||void 0,a.uri=this.concept.uri||void 0);a.concept_scheme=this.scheme;a.type=this.typeNode.value;var b=this.labelManager.getData();l.mixin(a,b);b=this.noteManager.getData();l.mixin(a,b);b=this.sourcesManager.getData();l.mixin(a,b);b=this.relationManager.getData();l.mixin(a,b);"collection"!==a.type&&(b=this.matchesManager.getData(),
l.mixin(a,b));"add"===this._mode?this.emit("new.concept.save",{concept:a,schemeId:this.schemeNode.value}):this.emit("concept.save",{concept:a,schemeId:this.schemeNode.value})},_cancel:function(a){a?a.preventDefault():null;this._close()},_reset:function(){this.schemeNode.selectedIndex=0;this.typeNode.selectedIndex=0;this.labelManager.reset();this.noteManager.reset();this.relationManager.reset();this.matchesManager.reset()},_createLabelsTab:function(a){this.languageController.getLanguageStore().fetch().then(l.hitch(this,
function(b){this.labelManager=new e({languageController:this.languageController,listController:this.listController,concept:a,languageList:b},this.labelsNode);this.labelManager.startup()}))},_createNotesTab:function(a){this.languageController.getLanguageStore().fetch().then(l.hitch(this,function(b){this.noteManager=new r({languageController:this.languageController,listController:this.listController,concept:a,languageList:b},this.notesNode);this.noteManager.startup()}))},_createSourcesTab:function(a){this.sourcesManager=
new q({listController:this.listController,concept:a},this.sourcesNode);this.sourcesManager.startup()},_createRelationsTab:function(a){this.relationManager=new n({languageController:this.languageController,listController:this.listController,conceptSchemeController:this.conceptSchemeController,scheme:this.scheme,concept:a},this.relationsNode);this.relationManager.startup();this.updateScheme(this.schemeNode.value)},_createMatchesTab:function(a){this.matchesManager=new t({languageController:this.languageController,
listController:this.listController,conceptSchemeController:this.conceptSchemeController,scheme:this.scheme,concept:a,matchTypes:this.listController.getMatchTypes()},this.matchesNode);this.matchesManager.startup()}})})},"app/ui/managers/SourcesManager":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/dom-construct dojo/dom-class dojo/dom-style dojo/json dojo/on dojo/topic dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/SourcesManager.html dstore/Memory dstore/Trackable dgrid/OnDemandGrid dgrid/extensions/DijitRegistry dgrid/extensions/ColumnResizer ../../utils/DomUtils ../dialogs/SourcesDialog".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s,v,x){return g([a,e],{templateString:r,baseClass:"sources-manager",languageController:null,listController:null,concept:null,languageList:null,_sourcesStore:null,_sourcesGrid:null,_sourcesDialog:null,_index:0,postCreate:function(){this.inherited(arguments);this.trackableMemory=g([n,t]);this._sourcesStore=new this.trackableMemory({data:[]});this.concept&&l.forEach(this.concept.sources,m.hitch(this,function(a){a.id=this._index++;this._sourcesStore.put(a)}));
this._createGrid({collection:this._sourcesStore},this.sourcesGridNode);this._sourcesDialog=new x({parentNode:this});f(this._sourcesDialog,"add.source",m.hitch(this,function(a){this._doAddSource(a)}));f(this._sourcesDialog,"edit.source",m.hitch(this,function(a){this._doEditSource(a)}))},startup:function(){this.inherited(arguments);this._sourcesDialog.startup();this._sourcesGrid.startup();this._sourcesGrid.resize()},reset:function(){this._sourcesDialog&&this._sourcesDialog.reset();this._sourcesStore=
new (g([n,t]))({data:[]});this._sourcesGrid.set("collection",this._sourcesStore)},_createGrid:function(a,b){var c={citation:{label:"Citation",field:"citation",renderCell:function(a){if(a)return p.create("div",{innerHTML:a.citation})}},actions:{label:"",renderCell:m.hitch(this,function(a){if(void 0===a.id)return null;var b=p.create("div",{"class":"dGridHyperlink"});p.create("a",{href:"#",title:"Edit source",className:"fa fa-pencil",innerHTML:"",style:"margin-right: 12px;",onclick:m.hitch(this,function(b){b.preventDefault();
this._editSource(a)})},b);p.create("a",{href:"#",title:"Remove source",className:"fa fa-trash",innerHTML:"",onclick:m.hitch(this,function(b){b.preventDefault();this._removeRow(a.id)})},b);return b})}};this._sourcesGrid=c=new (g([q,h,s]))({collection:a.collection,columns:c,showHeader:!1,noDataMessage:"No sources found",loadingMessage:"Fetching data.."},b);c.on("dgrid-error",function(a){})},getData:function(){return{sources:this._sourcesStore.data}},setConcept:function(a){a&&(this.concept=a,this._sourcesStore=
new this.trackableMemory({data:[]}),l.forEach(this.concept.sources,m.hitch(this,function(a){a.id=this._index++;this._sourcesStore.put(a)})),this._sourcesGrid.set("collection",this._sourcesStore))},_addSource:function(a){a?a.preventDefault():null;this._sourcesDialog.show()},_editSource:function(a){this._sourcesDialog.show(a)},_doAddSource:function(a){this._sourcesStore.add({citation:a.citation})},_doEditSource:function(a){this._sourcesStore.put({citation:a.citation,id:a.id})},_removeRow:function(a){this._sourcesStore.remove(a)}})})},
"app/ui/dialogs/SourcesDialog":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dojo/topic dojo/text!./templates/SourcesDialog.html ../../utils/HtmlEditor ../../utils/DomUtils".split(" "),function(g,l,m,p,d,c,k,f){return g([p,l,m],{templateString:c,parentNode:null,baseClass:"sources-dialog",title:"Add source",source:null,_editor:null,edit:!1,postCreate:function(){this.inherited(arguments);this._editor=new k({},this.htmlEditorNode)},startup:function(){this.inherited(arguments);
this._editor.startup();this._editor.addButtons(["emphasis","strong","link"]);this._editor.setContent("")},setData:function(b){this._editor.setContent(b.citation)},hide:function(){this.inherited(arguments);this.reset()},show:function(b){this.inherited(arguments);this.reset();b?(this.setData(b),this.set("title","Edit source"),this.okButtonNode.innerHTML="Edit",this.edit=!0,this.source=b):(this.set("title","Add new source"),this.okButtonNode.innerHTML="Add",this.edit=!1)},_okClick:function(b){b.preventDefault();
this._validate()?(this.edit?this.emit("edit.source",{citation:this._editor.getContent(),id:this.source.id}):this.emit("add.source",{citation:this._editor.getContent()}),this.hide()):d.publish("dGrowl","Please fill in all fields.",{title:"Invalid source",sticky:!1,channel:"info"})},_cancelClick:function(b){b.preventDefault();this.hide()},reset:function(){this._editor.setContent("")},_validate:function(){return""!==this._editor.getContent().trim()}})})},"app/ui/dialogs/ManageLanguagesDialog":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dojo/topic dojo/_base/lang dojo/query dojo/on dojo/when dojo/_base/array dojo/dom-construct dgrid/OnDemandGrid dgrid/extensions/DijitRegistry dgrid/extensions/ColumnResizer dojo/text!./templates/ManageLanguagesDialog.html dijit/ConfirmDialog ../../utils/DomUtils ./LanguageDialog dojo/NodeList-manipulate".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h,s,v){return g([p,l,m],{templateString:q,parentNode:null,baseClass:"manage-languages-dialog",title:"Manage languages",languageController:null,_langStore:null,_langGrid:null,postCreate:function(){this.inherited(arguments);this._langStore=this.languageController.getLanguageStore();this._langGrid=this._createGrid({collection:this._langStore},this.langGridNode);this._editLanguageDialog=new v({edit:!0});this._editLanguageDialog.startup();f(this._editLanguageDialog,
"edit.language",c.hitch(this,function(a){this._editLanguage(a.language)}))},startup:function(){this.inherited(arguments);this._langGrid.startup();this._langGrid.resize()},_createGrid:function(a,b){var d={id:{label:"ID",field:"id"},name:{label:"Name",field:"name"},actions:{label:"",renderCell:c.hitch(this,function(a){if(void 0===a.id)return null;var b=e.create("div",{"class":"dGridHyperlink"});e.create("a",{href:"#",title:"Edit language",className:"fa fa-pencil",innerHTML:"",onclick:c.hitch(this,function(b){b.preventDefault();
this._showEditLanguageDialog(a)})},b);e.create("a",{href:"#",title:"Remove language",className:"fa fa-trash",innerHTML:"",style:"margin-left: 10px;",onclick:c.hitch(this,function(b){b.preventDefault();this._removeRow(a)})},b);return b})}},d=new (g([r,n,t]))({collection:a.collection,columns:d,noDataMessage:"No languages found",loadingMessage:"Fetching data.."},b);d.on("dgrid-error",function(a){});return d},hide:function(){this.inherited(arguments)},show:function(){this.inherited(arguments);this._reset()},
_addLangClick:function(e){e.preventDefault();this._validate()?b(this._langStore.add({id:this.codeInputNode.value,name:this.nameInputNode.value})).then(c.hitch(this,function(a){d.publish("dGrowl","New language added: "+a.name,{title:"Languages",sticky:!1,channel:"info"});this.languageController.updateLanguageStore();this._langGrid.refresh();this._reset()}),function(b){b=JSON.parse(b.response.data);var c="",e=null;a.forEach(b.errors,function(a){for(e in a)c+="-\x3cem\x3e",c+=e,c+="\x3c/em\x3e: ",c+=
a[e],c+="\x3cbr\x3e"});d.publish("dGrowl",c,{title:b.message,sticky:!0,channel:"error"})}):d.publish("dGrowl","-Please fill in a language code to add a new language.",{title:"Invalid values",sticky:!0,channel:"error"})},_cancelClick:function(a){a.preventDefault();this.hide()},_reset:function(){this._langGrid.resize();this.codeInputNode.value="";this.nameInputNode.value=""},_validate:function(){return""!==this.codeInputNode.value.trim()&&""!==this.codeInputNode.value.trim()?!0:!1},_removeRow:function(a){var b=
new h({title:"Delete language",content:'\x3cp style\x3d"font-size: 15px;"\x3eAre you sure you want to remove \x3cstrong\x3e'+a.name+"\x3c/strong\x3e (ID: "+a.id+")?\x3c/p\x3e",baseClass:"confirm-dialog"});k(".dijitButton",b.domNode).addClass("button tiny");b.closeText.innerHTML='\x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e';f(b,"close",function(){b.destroy()});f(b,"execute",c.hitch(this,function(){this._langStore.remove(a.id).then(function(a){d.publish("dGrowl","Language removed: "+a.name+" ("+a.id+
")",{title:"Languages",sticky:!1,channel:"info"});this.languageController.updateLanguageStore();this._langGrid.refresh();this._reset()},function(b){(b.response&&"409"===b.response.status||409===b.response.status)&&d.publish("dGrowl",a.name+" ("+a.id+") is in use and can't be removed",{title:"Languages",sticky:!1,channel:"warn"})})}));b.show()},_showEditLanguageDialog:function(a){this._editLanguageDialog&&this._editLanguageDialog.show(a)},_editLanguage:function(e){b(this._langStore.add(e)).then(c.hitch(this,
function(a){d.publish("dGrowl","Language edited: "+a.name,{title:"Languages",sticky:!1,channel:"info"});this.languageController.updateLanguageStore();this._langGrid.refresh();this._reset()}),function(b){b=JSON.parse(b.response.data);var c="",e=null;a.forEach(b.errors,function(a){for(e in a)c+="-\x3cem\x3e",c+=e,c+="\x3c/em\x3e: ",c+=a[e],c+="\x3cbr\x3e"});d.publish("dGrowl",c,{title:b.message,sticky:!0,channel:"error"})})}})})},"app/ui/dialogs/LanguageDialog":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dojo/topic dojo/text!./templates/LanguageDialog.html ../../utils/DomUtils".split(" "),
function(g,l,m,p,d,c,k){return g([p,l,m],{templateString:c,parentNode:null,baseClass:"language-dialog",title:"Edit language",language:null,edit:!0,postCreate:function(){this.inherited(arguments)},startup:function(){this.inherited(arguments)},setData:function(c){this.codeInputNode.value=c.id;this.descriptionInputNode.value=c.name},hide:function(){this.inherited(arguments);this.reset()},show:function(c){this.inherited(arguments);this.reset();c?(this.setData(c),this.set("title","Edit language"),this.okButtonNode.innerHTML=
"Edit",this.edit=!0,this.language=c):(this.set("title","Add new language"),this.okButtonNode.innerHTML="Add",this.edit=!1)},_okClick:function(c){c.preventDefault();this._validate()?(this.language.id=this.codeInputNode.value,this.language.name=this.descriptionInputNode.value,this.edit?this.emit("edit.language",{language:this.language}):this.emit("add.language",{language:this.language}),this.hide()):d.publish("dGrowl","Please fill in at least a language code.",{title:"Invalid language",sticky:!1,channel:"info"})},
_cancelClick:function(c){c?c.preventDefault():null;this.hide()},reset:function(){this.codeInputNode.value="";this.descriptionInputNode.value=""},_validate:function(){return null!==this.codeInputNode.value.trim()&&""!==this.codeInputNode.value.trim()}})})},"dojo/NodeList-manipulate":function(){define("./query ./_base/lang ./_base/array ./dom-construct ./dom-attr ./NodeList-dom".split(" "),function(g,l,m,p,d){function c(b){for(;b.childNodes[0]&&1==b.childNodes[0].nodeType;)b=b.childNodes[0];return b}
function k(b,a){"string"==typeof b?(b=p.toDom(b,a&&a.ownerDocument),11==b.nodeType&&(b=b.childNodes[0])):1==b.nodeType&&b.parentNode&&(b=b.cloneNode(!1));return b}var f=g.NodeList;l.extend(f,{_placeMultiple:function(b,a){for(var c="string"==typeof b||b.nodeType?g(b):b,d=[],f=0;f<c.length;f++)for(var k=c[f],l=this.length,h=l-1,m;m=this[h];h--)0<f&&(m=this._cloneNode(m),d.unshift(m)),h==l-1?p.place(m,k,a):k.parentNode.insertBefore(m,k),k=m;d.length&&(d.unshift(0),d.unshift(this.length-1),Array.prototype.splice.apply(this,
d));return this},innerHTML:function(b){return arguments.length?this.addContent(b,"only"):this[0].innerHTML},text:function(b){if(arguments.length){for(var a=0,c;c=this[a];a++)1==c.nodeType&&d.set(c,"textContent",b);return this}for(var f="",a=0;c=this[a];a++)f+=d.get(c,"textContent");return f},val:function(b){if(arguments.length){for(var a=l.isArray(b),c=0,d;d=this[c];c++){var f=d.nodeName.toUpperCase(),k=d.type,g=a?b[c]:b;if("SELECT"==f){f=d.options;for(k=0;k<f.length;k++){var h=f[k];h.selected=d.multiple?
-1!=m.indexOf(b,h.value):h.value==g}}else"checkbox"==k||"radio"==k?d.checked=d.value==g:d.value=g}return this}if((d=this[0])&&1==d.nodeType){b=d.value||"";if("SELECT"==d.nodeName.toUpperCase()&&d.multiple){b=[];f=d.options;for(k=0;k<f.length;k++)h=f[k],h.selected&&b.push(h.value);b.length||(b=null)}return b}},append:function(b){return this.addContent(b,"last")},appendTo:function(b){return this._placeMultiple(b,"last")},prepend:function(b){return this.addContent(b,"first")},prependTo:function(b){return this._placeMultiple(b,
"first")},after:function(b){return this.addContent(b,"after")},insertAfter:function(b){return this._placeMultiple(b,"after")},before:function(b){return this.addContent(b,"before")},insertBefore:function(b){return this._placeMultiple(b,"before")},remove:f.prototype.orphan,wrap:function(b){if(this[0]){b=k(b,this[0]);for(var a=0,e;e=this[a];a++){var d=this._cloneNode(b);e.parentNode&&e.parentNode.replaceChild(d,e);c(d).appendChild(e)}}return this},wrapAll:function(b){if(this[0]){b=k(b,this[0]);this[0].parentNode.replaceChild(b,
this[0]);b=c(b);for(var a=0,e;e=this[a];a++)b.appendChild(e)}return this},wrapInner:function(b){if(this[0]){b=k(b,this[0]);for(var a=0;a<this.length;a++){var c=this._cloneNode(b);this._wrap(l._toArray(this[a].childNodes),null,this._NodeListCtor).wrapAll(c)}}return this},replaceWith:function(b){b=this._normalize(b,this[0]);for(var a=0,c;c=this[a];a++)this._place(b,c,"before",0<a),c.parentNode.removeChild(c);return this},replaceAll:function(b){b=g(b);for(var a=this._normalize(this,this[0]),c=0,d;d=
b[c];c++)this._place(a,d,"before",0<c),d.parentNode.removeChild(d);return this},clone:function(){for(var b=[],a=0;a<this.length;a++)b.push(this._cloneNode(this[a]));return this._wrap(b,this,this._NodeListCtor)}});f.prototype.html||(f.prototype.html=f.prototype.innerHTML);return f})},"app/ui/dialogs/ImportConceptDialog":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dojo/_base/lang dojo/_base/array dstore/Memory dojo/topic dojo/dom-construct dgrid/OnDemandGrid dgrid/extensions/DijitRegistry dgrid/extensions/ColumnResizer dgrid/Selection ../../utils/DomUtils dojo/text!./templates/ImportConceptDialog.html".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q){return g([p,l,m],{templateString:q,parentNode:null,baseClass:"import-concept-dialog",title:"Choose an external concept",conceptSchemeController:null,externalSchemeStore:null,_importConceptGrid:null,_importConceptStore:null,postCreate:function(){this.inherited(arguments);this._importConceptGrid=this._createGrid({collection:this._importConceptStore},this.importConceptGridNode);this.externalSchemeStore.fetch().then(d.hitch(this,function(a){t.addOptionsToSelect(this.externalSchemeSelect,
{data:a,idProperty:"id",labelProperty:"label"})}))},startup:function(){this.inherited(arguments);this._importConceptGrid.startup()},reset:function(){this.externalSchemeSelect.selectedIndex=0;this._importConceptStore=new k({data:[]});this._importConceptGrid.set("collection",this._importConceptStore);this.searchLabelInput.value=""},hide:function(){this.reset();this.inherited(arguments)},_createGrid:function(c,d){var f=new (g([a,e,r,n]))({collection:c.collection,columns:{label:{label:""},id:{label:""},
type:{label:""},link:{label:"",renderCell:function(a){if(a&&a.uri)return b.create("a",{href:a.uri,target:"_blank",title:a.uri,innerHTML:'\x3ci class\x3d"fa fa-external-link"\x3e\x3c/i\x3e'})}}},selectionMode:"single",showHeader:!1,noDataMessage:"",loadingMessage:"Fetching data.."},d);f.on("dgrid-error",function(a){});return f},_okClick:function(a){a.preventDefault();a=null;for(var b in this._importConceptGrid.selection)this._importConceptGrid.selection[b]&&(a=this._importConceptStore.getSync(b));
a&&(this.emit("concept.import",{concept:a,schemeId:this.externalSchemeSelect.value}),this.hide())},_cancelClick:function(a){a.preventDefault();this.hide()},_searchConcepts:function(a){a?a.preventDefault():null;a=t.getSelectedOption(this.externalSchemeSelect);var b=this.searchLabelInput.value;a&&(b&&""!==b)&&this._loadStore(a,b)},_loadStore:function(a,b){this.conceptSchemeController.searchForConcepts(a,b).then(d.hitch(this,function(a){this._importConceptStore=new k({data:a});this._importConceptGrid.set("collection",
this._importConceptStore);this._importConceptGrid.resize()}),function(a){})},_validate:function(){}})})},"app/ui/dialogs/MergeConceptDialog":function(){define("dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dojo/_base/array dojo/_base/lang dojo/topic dojo/promise/all dojo/dom-construct dgrid/OnDemandGrid dgrid/extensions/DijitRegistry dgrid/extensions/ColumnResizer dgrid/Selection dstore/Memory dstore/Trackable dojo/text!./templates/MergeConceptDialog.html".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q,h){return g([p,l,m],{templateString:h,parentNode:null,baseClass:"merge-concept-dialog",title:"Merge concept or collection",scheme:null,concept:null,conceptSchemeController:null,_mergeGrid:null,_mergeStore:null,postCreate:function(){this.inherited(arguments);this.trackableMemory=g([t,q]);this._mergeStore=new this.trackableMemory({data:[]});this._mergeGrid=this._createGrid({collection:this._mergeStore},this.mergeConceptGridNode)},startup:function(){this.inherited(arguments);
this._mergeGrid.startup()},hide:function(){this.inherited(arguments)},_createGrid:function(c,d){var f=new (g([a,e,r,n]))({collection:c.collection,columns:{label:{label:""},type:{label:"",formatter:function(a){return a+" match"}},link:{label:"",renderCell:function(a){if(a&&a.uri)return b.create("a",{href:a.uri,target:"_blank",title:a.uri,innerHTML:'\x3ci class\x3d"fa fa-external-link"\x3e\x3c/i\x3e'})}}},selectionMode:"single",showHeader:!1,noDataMessage:"",loadingMessage:"Fetching data.."},d);f.on("dgrid-error",
function(a){});return f},_okClick:function(a){a.preventDefault();for(var b in this._mergeGrid.selection)this._mergeGrid.selection[b]&&(selected=this._mergeStore.getSync(b));selected&&(this.emit("concept.merge",{conceptUri:selected.uri,concept:this.concept,schemeId:this.scheme}),this.hide())},show:function(a,b){this.inherited(arguments);this.loadingMatchesContainer.style.display="inline-block";this.mergeGridContainer.style.display="none";this.concept=a;this.scheme=b;var e=[],h=[];if(a.matches)for(var k in a.matches)a.matches.hasOwnProperty(k)&&
d.forEach(a.matches[k],function(a){e.push(this.conceptSchemeController.getMatch(a,k).then(c.hitch(this,function(a){h.push({id:a.data.id,label:a.data.label,uri:a.data.uri,type:a.type})})))},this);f(e).then(c.hitch(this,function(){this._mergeStore.setData(h);this._mergeGrid.refresh();this.loadingMatchesContainer.style.display="none";this.mergeGridContainer.style.display="inline-block"}))},_cancelClick:function(a){a.preventDefault();this.hide()}})})},"app/ui/dialogs/ManageSchemeDialog":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-attr dojo/on dijit/Dialog dijit/_Widget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ../../utils/DomUtils ../managers/LabelManager ../managers/NoteManager ../managers/SourcesManager ../../utils/DomUtils dojo/text!./templates/ManageSchemeDialog.html dijit/layout/TabContainer dijit/layout/ContentPane".split(" "),
function(g,l,m,p,d,c,k,f,b,a,e,r,n,t,q){return g([k,f,b],{templateString:q,baseClass:"edit-scheme-dialog",dialog:null,parent:null,scheme:null,languageController:null,listController:null,conceptSchemeController:null,_mode:"edit",postCreate:function(){this.inherited(arguments);this.dialog=new c({title:"Edit scheme",style:"width: 1000px; min-height: 650px;"});this.dialog.closeText.innerHTML='\x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e';this.dialog.set("content",this);this._createLabelsTab();this._createNotesTab();
this._createSourcesTab()},startup:function(){this.inherited(arguments);this.tabContainer.layout();this.dialog.resize()},showDialog:function(a,b){b&&(this.mode=b);a&&(a.id&&this.dialog.set("title","Edit \x3cstrong\x3e"+a.label+"\x3c/strong\x3e"),this.sourcesManager.setConcept(a),this.labelManager.setConcept(a),this.noteManager.setConcept(a),this.scheme=a);this.dialog.show();this.tabContainer.selectChild(this.tabLabels);this.tabContainer.layout();this.dialog.resize()},_close:function(){this._reset();
this.dialog.hide()},_saveScheme:function(a){a?a.preventDefault():null;a={};this.scheme&&(a.id=this.scheme.id||void 0,a.uri=this.scheme.uri||void 0);var b=this.labelManager.getData();l.mixin(a,b);b=this.noteManager.getData();l.mixin(a,b);b=this.sourcesManager.getData();l.mixin(a,b);"add"===this._mode?this.emit("new.scheme.save",{scheme:a}):this.emit("scheme.save",{scheme:a})},_cancel:function(a){a?a.preventDefault():null;this._close()},_reset:function(){this.labelManager.reset();this.noteManager.reset();
this.sourcesManager.reset()},_createLabelsTab:function(a){this.languageController.getLanguageStore().fetch().then(l.hitch(this,function(b){this.labelManager=new e({languageController:this.languageController,listController:this.listController,concept:a,languageList:b},this.labelsNode);this.labelManager.startup()}))},_createNotesTab:function(a){this.languageController.getLanguageStore().fetch().then(l.hitch(this,function(b){this.noteManager=new r({languageController:this.languageController,listController:this.listController,
concept:a,languageList:b},this.notesNode);this.noteManager.startup()}))},_createSourcesTab:function(a){this.sourcesManager=new n({listController:this.listController,concept:a},this.sourcesNode);this.sourcesManager.startup()}})})},"app/utils/ErrorUtils":function(){define(["dojo/_base/array","dojo/json"],function(g,l){return{parseError:function(m){var p={title:"Er is een fout opgetreden",message:m};if(m.response&&m.response.text)try{var d=l.parse(m.response.text);d.errors&&0<d.errors.length?(p.title=
d.message?d.message:p.title,p.message="",g.forEach(d.errors,function(c){for(var d in c)p.message+="- "+d+": "+c[d]+"\x3c/br\x3e"})):p.message=d.message?d.message:""}catch(c){}return p}}})},"app/controllers/ConceptSchemeController":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request/xhr dojo/Deferred dojo/store/JsonRest dojo/store/Cache dojo/store/Memory dstore/Memory dojo/json".split(" "),function(g,l,m,p,d,c,k,f,b,a){return g(null,{conceptSchemeList:null,externalSchemeStore:null,
_target:"/conceptschemes",_stores:{},constructor:function(a){g.safeMixin(this,a);this.conceptSchemeList=[]},getConceptSchemes:function(){return p.get(this._target,{handleAs:"json",headers:{"Content-Type":"application/json",Accept:"application/json"}})},getConceptScheme:function(a){return p.get(this._target+"/"+a,{handleAs:"json",headers:{"Content-Type":"application/json",Accept:"application/json"}})},editConceptScheme:function(b){var c=a.stringify(b);return p(this._target+"/"+b.id,{handleAs:"json",
method:"PUT",data:c,headers:{"Content-Type":"application/json",Accept:"application/json"}})},loadConceptSchemeStores:function(){return this.getConceptSchemes().then(l.hitch(this,function(a){var c=[];m.forEach(a,l.hitch(this,function(a){-1==m.indexOf(a.subject,"external")?this.conceptSchemeList.push({name:a.label,id:a.id}):c.push(a)}));this.externalSchemeStore=new b({idProperty:"id",data:c})}))},getConceptSchemeTree:function(a){return new k(new c({target:"/conceptschemes/"+a+"/tree",getChildren:function(a){return a.children||
[]}}),new f)},getMatch:function(a,b){var c=this;return p.get("/uris/"+a,{handleAs:"json",headers:{Accept:"application/json"}}).then(function(d){var f=d.id;return c.getConcept(d.concept_scheme.id,a).then(function(d){return{type:b,data:{id:f,label:c._getPrefLabel(d.labels,"en"),uri:a}}},function(a){throw a;})},function(a){throw a;})},getMergeMatch:function(a){var b=this;return p.get("/uris/"+a,{handleAs:"json",headers:{Accept:"application/json"}}).then(function(c){return b.getConcept(c.concept_scheme.id,
a).then(function(a){return{labels:a.labels,notes:a.notes}},function(a){throw a;})},function(a){throw a;})},getConcept:function(a,b){var c=new d,f=b.split("/").pop();(!a||!f)&&c.reject("Malformed external scheme URI");p.get("/conceptschemes/"+a+"/c/"+f,{handleAs:"json",headers:{Accept:"application/json"}}).then(function(a){var e={label:a.label,labels:a.labels,type:a.type,notes:a.notes};"collection"!=a.type&&(e.matches={exact:[b]});c.resolve(e)},function(a){c.reject(a)});return c},_getPrefLabel:function(a,
b){var c=m.filter(a,function(a){return"prefLabel"==a.type});if(0==c.length)return a[0].label;var d=m.filter(a,function(a){return a.language==b});return 0==d.length?c[0].label:d[0].label},getExternalSchemeStore:function(){return this.externalSchemeStore?this.externalSchemeStore:null},searchForConcepts:function(a,b){return p.get("/conceptschemes/"+a+"/c?label\x3d"+b+"\x26type\x3dall\x26sort\x3d+label",{handleAs:"json",headers:{Accept:"application/json"}})}})})},"dojo/store/JsonRest":function(){define(["../_base/xhr",
"../_base/lang","../json","../_base/declare","./util/QueryResults"],function(g,l,m,p,d){return p("dojo.store.JsonRest",null,{constructor:function(c){this.headers={};p.safeMixin(this,c)},headers:{},target:"",idProperty:"id",ascendingPrefix:"+",descendingPrefix:"-",_getTarget:function(c){var d=this.target;"undefined"!=typeof c&&(d="/"==d.charAt(d.length-1)||"\x3d"==d.charAt(d.length-1)?d+c:d+("/"+c));return d},get:function(c,d){d=d||{};var f=l.mixin({Accept:this.accepts},this.headers,d.headers||d);
return g("GET",{url:this._getTarget(c),handleAs:"json",headers:f})},accepts:"application/javascript, application/json",getIdentity:function(c){return c[this.idProperty]},put:function(c,d){d=d||{};var f="id"in d?d.id:this.getIdentity(c);return g("undefined"!=typeof f&&!d.incremental?"PUT":"POST",{url:this._getTarget(f),postData:m.stringify(c),handleAs:"json",headers:l.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===d.overwrite?"*":null,"If-None-Match":!1===d.overwrite?
"*":null},this.headers,d.headers)})},add:function(c,d){d=d||{};d.overwrite=!1;return this.put(c,d)},remove:function(c,d){d=d||{};return g("DELETE",{url:this._getTarget(c),headers:l.mixin({},this.headers,d.headers)})},query:function(c,k){k=k||{};var f=l.mixin({Accept:this.accepts},this.headers,k.headers),b=-1<this.target.indexOf("?");c&&"object"==typeof c&&(c=(c=g.objectToQuery(c))?(b?"\x26":"?")+c:"");if(0<=k.start||0<=k.count)f["X-Range"]="items\x3d"+(k.start||"0")+"-"+("count"in k&&Infinity!=k.count?
k.count+(k.start||0)-1:""),this.rangeParam?(c+=(c||b?"\x26":"?")+this.rangeParam+"\x3d"+f["X-Range"],b=!0):f.Range=f["X-Range"];if(k&&k.sort){var a=this.sortParam;c+=(c||b?"\x26":"?")+(a?a+"\x3d":"sort(");for(b=0;b<k.sort.length;b++){var e=k.sort[b];c+=(0<b?",":"")+(e.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(e.attribute)}a||(c+=")")}var m=g("GET",{url:this.target+(c||""),handleAs:"json",headers:f});m.total=m.then(function(){var a=m.ioArgs.xhr.getResponseHeader("Content-Range");
a||(a=m.ioArgs.xhr.getResponseHeader("X-Content-Range"));return a&&(a=a.match(/\/(.*)/))&&+a[1]});return d(m)}})})},"dojo/store/Cache":function(){define(["../_base/lang","../when"],function(g,l){var m=function(m,d,c){c=c||{};return g.delegate(m,{query:function(k,f){var b=m.query(k,f);b.forEach(function(a){(!c.isLoaded||c.isLoaded(a))&&d.put(a)});return b},queryEngine:m.queryEngine||d.queryEngine,get:function(c,f){return l(d.get(c),function(b){return b||l(m.get(c,f),function(a){a&&d.put(a,{id:c});
return a})})},add:function(c,f){return l(m.add(c,f),function(b){d.add(b&&"object"==typeof b?b:c,f);return b})},put:function(c,f){d.remove(f&&f.id||this.getIdentity(c));return l(m.put(c,f),function(b){d.put(b&&"object"==typeof b?b:c,f);return b})},remove:function(c,f){return l(m.remove(c,f),function(b){return d.remove(c,f)})},evict:function(c){return d.remove(c)}})};g.setObject("dojo.store.Cache",m);return m})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],
function(g,l,m){return g("dojo.store.Memory",null,{constructor:function(g){for(var d in g)this[d]=g[d];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:m,get:function(g){return this.data[this.index[g]]},getIdentity:function(g){return g[this.idProperty]},put:function(g,d){var c=this.data,k=this.index,f=this.idProperty,f=g[f]=d&&"id"in d?d.id:f in g?g[f]:Math.random();if(f in k){if(d&&!1===d.overwrite)throw Error("Object already exists");c[k[f]]=g}else k[f]=c.push(g)-1;
return f},add:function(g,d){(d=d||{}).overwrite=!1;return this.put(g,d)},remove:function(g){var d=this.index,c=this.data;if(g in d)return c.splice(d[g],1),this.setData(c),!0},query:function(g,d){return l(this.queryEngine(g,d)(this.data))},setData:function(g){g.items?(this.idProperty=g.identifier||this.idProperty,g=this.data=g.items):this.data=g;this.index={};for(var d=0,c=g.length;d<c;d++)this.index[g[d][this.idProperty]]=d}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],
function(g){return function(l,m){function p(c){c=g.filter(c,l);var d=m&&m.sort;d&&c.sort("function"==typeof d?d:function(b,a){for(var c,f=0;c=d[f];f++){var g=b[c.attribute],l=a[c.attribute],g=null!=g?g.valueOf():g,l=null!=l?l.valueOf():l;if(g!=l)return!!c.descending==(null==g||g>l)?-1:1}return 0});if(m&&(m.start||m.count)){var f=c.length;c=c.slice(m.start||0,(m.start||0)+(m.count||Infinity));c.total=f}return c}switch(typeof l){default:throw Error("Can not query with a "+typeof l);case "object":case "undefined":var d=
l;l=function(c){for(var g in d){var f=d[g];if(f&&f.test){if(!f.test(c[g],c))return!1}else if(f!=c[g])return!1}return!0};break;case "string":if(!this[l])throw Error("No filter function "+l+" was found in store");l=this[l];case "function":}p.matches=l;return p}})},"app/controllers/ConceptController":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request/xhr dojo/request dojo/Deferred dojo/json dstore/Rest".split(" "),function(g,l,m,p,d,c,k,f){return g(null,{_stores:{},_target:"/conceptschemes/{schemeId}/c/",
constructor:function(b){g.safeMixin(this,b)},getConcept:function(b,a){var e=new c,d=this._target.replace("{schemeId}",b)+a;p.get(d,{handleAs:"json",headers:{Accept:"application/json"}}).then(l.hitch(this,function(a){e.resolve(a)}),function(a){a.response&&a.response.data&&a.response.data.message?e.reject(a.response.data.message):e.reject(a)});return e},getConceptStore:function(b){b in this._stores||(this._stores[b]=new f({target:this._target.replace("{schemeId}",b),idProperty:"id",sortParam:"sort",
useRangeHeaders:!0}));return this._stores[b]},saveConcept:function(b,a,c){var f=this._target.replace("{schemeId}",a);"PUT"===c&&(f=this._target.replace("{schemeId}",a)+b.id);return d(f,{method:c,data:k.stringify(b),handleAs:"json",headers:{Accept:"application/json","Content-type":"application/json","X-Requested-With":""}})},deleteConcept:function(b,a){var c=this._target.replace("{schemeId}",a)+b.id;return d(c,{method:"DELETE",handleAs:"json",headers:{Accept:"application/json","Content-type":"application/json",
"X-Requested-With":""}})},getConceptByUri:function(b){return d(b,{method:"GET",handleAs:"json",headers:{Accept:"application/json","Content-type":"application/json","X-Requested-With":""}})}})})},"dstore/Rest":function(){define("dojo/request dojo/when dojo/_base/lang dojo/json dojo/io-query dojo/_base/declare ./Request".split(" "),function(g,l,m,p,d,c,k){return c(k,{stringify:p.stringify,_getTarget:function(c){var b=this.target;return"/"==b.slice(-1)?b+c:b+"/"+c},get:function(c,b){b=b||{};var a=m.mixin({Accept:this.accepts},
this.headers,b.headers||b),e=this;return g(this._getTarget(c),{headers:a}).then(function(a){return e._restore(e.parse(a),!0)})},autoEmitEvents:!1,put:function(c,b){b=b||{};var a="id"in b?b.id:this.getIdentity(c),e="undefined"!==typeof a,d=this,k="beforeId"in b?null===b.beforeId?{"Put-Default-Position":"end"}:{"Put-Before":b.beforeId}:!e||!1===b.overwrite?{"Put-Default-Position":this.defaultNewToStart?"start":"end"}:null,p=g(e?this._getTarget(a):this.target,{method:e&&!b.incremental?"PUT":"POST",data:this.stringify(c),
headers:m.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===b.overwrite?"*":null,"If-None-Match":!1===b.overwrite?"*":null},k,this.headers,b.headers)});return p.then(function(a){var e={};"beforeId"in b&&(e.beforeId=b.beforeId);a=e.target=a&&d._restore(d.parse(a),!0)||c;l(p.response,function(a){d.emit(201===a.status?"add":"update",e)});return a})},add:function(c,b){b=b||{};b.overwrite=!1;return this.put(c,b)},remove:function(c,b){b=b||{};var a=this;return g(this._getTarget(c),
{method:"DELETE",headers:m.mixin({},this.headers,b.headers)}).then(function(b){var d=b&&a.parse(b);a.emit("delete",{id:c,target:d});return b?d:!0})}})})},"dstore/Request":function(){define("dojo/request dojo/_base/lang dojo/_base/array dojo/json dojo/_base/declare ./Store ./QueryResults".split(" "),function(g,l,m,p,d,c,k){var f=[].push;return d(c,{constructor:function(){this.headers||(this.headers={});this._targetContainsQueryString=0<=this.target.lastIndexOf("?")},headers:{},parse:p.parse,target:"",
ascendingPrefix:"+",descendingPrefix:"-",accepts:"application/json",fetch:function(b){b=this._request(b);return new k(b.data,{response:b.response})},fetchRange:function(b){var a=b.start,c=b.end,d={};this.useRangeHeaders?d.headers=l.mixin(this._renderRangeHeaders(a,c),b.headers):(d.queryParams=this._renderRangeParams(a,c),b.headers&&(d.headers=b.headers));b=this._request(d);return new k(b.data,{totalLength:b.total,response:b.response})},_issueFetchRequest:function(b,a){return g(b,{method:"GET",headers:a})},
_request:function(b){b=b||{};var a=l.delegate(this.headers,{Accept:this.accepts});"headers"in b&&l.mixin(a,b.headers);b=this._renderUrl(b.queryParams);var c=this._issueFetchRequest(b,a),d=this,a=c.then(function(a){return d.parse(a)});return{data:a.then(function(a){a=a.items||a;for(var b=0,c=a.length;b<c;b++)a[b]=d._restore(a[b],!0);return a}),total:a.then(function(a){a=a.total;return-1<a?a:c.response.then(function(a){return(a=a.getHeader("Content-Range"))&&(a=a.match(/\/(.*)/))&&+a[1]})}),response:c.response}},
_renderFilterParams:function(b){var a=b.type,c=b.args;if(!a)return[""];if("string"===a)return[c[0]];if("and"===a||"or"===a)return[m.map(b.args,function(b){var c=this._renderFilterParams(b);return("and"===b.type||"or"===b.type)&&b.type!==a?"("+c+")":c},this).join("and"===a?"\x26":"|")];(b=c[1])&&(b._renderUrl?b="("+b._renderUrl()+")":b instanceof Array&&(b="("+b+")"));return[encodeURIComponent(c[0])+"\x3d"+("eq"===a?"":a+"\x3d")+encodeURIComponent(b)]},_renderSortParams:function(b){b=m.map(b,function(a){return(a.descending?
this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(a.property)},this);var a=[];b&&a.push(this.sortParam?encodeURIComponent(this.sortParam)+"\x3d"+b:"sort("+b+")");return a},_renderRangeParams:function(b,a){var c=[];this.rangeStartParam?c.push(this.rangeStartParam+"\x3d"+b,this.rangeCountParam+"\x3d"+(a-b)):c.push("limit("+(a-b)+(b?","+b:"")+")");return c},_renderSelectParams:function(b){var a=[];this.selectParam?a.push(this.selectParam+"\x3d"+b):a.push("select("+b+")");return a},_renderQueryParams:function(){var b=
[];m.forEach(this.queryLog,function(a){var c=a.type,c="_render"+c[0].toUpperCase()+c.substr(1)+"Params";this[c]&&f.apply(b,this[c].apply(this,a.normalizedArguments))},this);return b},_renderUrl:function(b){var a=this._renderQueryParams(),c=this.target;b&&f.apply(a,b);0<a.length&&(c+=(this._targetContainsQueryString?"\x26":"?")+a.join("\x26"));return c},_renderRangeHeaders:function(b,a){var c="items\x3d"+b+"-"+(a-1);return{Range:c,"X-Range":c}}})})},"app/controllers/LanguageController":function(){define("dojo/_base/declare dstore/Rest dstore/Trackable dstore/Cache dstore/Memory dojo/topic".split(" "),
function(g,l,m,p,d,c){return g(null,{_target:"/languages",TrackableRest:null,_baseUrl:"",_langStore:null,_langList:null,constructor:function(c){g.safeMixin(this,c);this.TrackableRest=g([l,m])},getLanguageStore:function(){if(!this._langStore){var c=new this.TrackableRest({target:this._baseUrl+this._target,idProperty:"id",sortParam:"sort",useRangeHeaders:!0,accepts:"application/json"});this._langStore=p.create(c,{cachingStore:new d,isValidFetchCache:!0})}return this._langStore},updateLanguageStore:function(){this.getLanguageStore().invalidate();
c.publish("languages.updated")}})})},"dstore/Cache":function(){define("dojo/_base/array dojo/when dojo/_base/declare dojo/_base/lang ./Store ./Memory ./QueryResults".split(" "),function(g,l,m,p,d,c,k){function f(a){return function(){var b=this.inherited(arguments),c=this.cachingCollection||this.cachingStore;b.cachingCollection=c[a].apply(c,arguments);b.isValidFetchCache=!0===this.canCacheQuery||this.canCacheQuery(a,arguments);return b}}function b(a){a.cachingStore||(a.cachingStore=new c);a.cachingStore.Model=
a.Model;a.cachingStore.idProperty=a.idProperty}var a={cachingStore:null,constructor:function(){b(this)},canCacheQuery:function(a,b){return!1},isAvailableInCache:function(){return this.isValidFetchCache&&(this.allLoaded||this.fetchRequest)||this._parent&&this._parent.isAvailableInCache()},fetch:function(){return this._fetch(arguments)},fetchRange:function(){return this._fetch(arguments,!0)},_fetch:function(a,b){var c=this.cachingStore,d=this.cachingCollection||c,f=this,h=this.isAvailableInCache();
if(h)return new k(l(h,function(){return f.isAvailableInCache()?b?d.fetchRange(a[0]):d.fetch():f.inherited(a)}));h=this.fetchRequest=this.inherited(a);l(h,function(a){var e=!b;f.fetchRequest=null;g.forEach(a,function(a){!f.isLoaded||f.isLoaded(a)?c.putSync?c.putSync(a):c.put(a):e=!1});e&&(f.allLoaded=!0);return a});return h},isValidFetchCache:!1,get:function(a,b){var c=this.cachingStore,d=this.getInherited(arguments),f=this;return l(this.fetchRequest,function(){return l(c.get(a),function(g){if(void 0!==
g)return g;if(d)return l(d.call(f,a,b),function(b){b&&c.put(b,{id:a});return b})})})},add:function(a,b){var c=this.cachingStore;return l(this.inherited(arguments),function(d){var f=c.put(a&&"object"===typeof d?d:a,b);return d||f})},put:function(a,b){var c=this.cachingStore;c.put(a,b);return l(this.inherited(arguments)).then(function(d){var f=c.put(a&&"object"===typeof d?d:a,b);return d||f},function(){c.remove(b&&b.id||this.getIdentity(a))})},remove:function(a,b){var c=this.cachingStore;return l(this.inherited(arguments),
function(d){return l(c.remove(a,b),function(){return d})})},evict:function(a){this.allLoaded=!1;return this.cachingStore.remove(a)},invalidate:function(){this.allLoaded=!1},_createSubCollection:function(){var a=this.inherited(arguments);a._parent=this;return a},sort:f("sort"),filter:f("filter"),select:f("select"),_getQuerierFactory:function(a){var b=this.cachingStore;return this.inherited(arguments)||p.hitch(b,b._getQuerierFactory(a))}};d=m(null,a);d.create=function(c,d){c=m.safeMixin(p.delegate(c),
a);m.safeMixin(c,d);b(c);return c};return d})},"app/controllers/ListController":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request/xhr dojo/Deferred dstore/Rest".split(" "),function(g,l,m,p,d,c){return g(null,{labelTypes:[{label:"Preferred",value:"prefLabel"},{label:"Alternative",value:"altLabel"},{label:"Hidden",value:"hiddenLabel"},{label:"Sort",value:"sortLabel"}],noteTypes:[{label:"Definition",value:"definition"},{label:"Note",value:"note"},{label:"History note",
value:"historyNote"},{label:"Scope note",value:"scopeNote"}],matchTypes:[{label:"Broad",value:"broad"},{label:"Close",value:"close"},{label:"Exact",value:"exact"},{label:"Narrow",value:"narrow"},{label:"Related",value:"related"}],conceptTypes:[{label:"Concept",value:"concept"},{label:"Collection",value:"collection"}],constructor:function(c){g.safeMixin(this,c)},getLabelTypes:function(){return this.labelTypes},getNoteTypes:function(){return this.noteTypes},getMatchTypes:function(){return this.matchTypes},
getConceptTypes:function(){return this.conceptTypes}})})},"dGrowl/main":function(){define("dojo/text dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/topic dojo/dom-construct dGrowl/NotificationNode dojo/query dojo/_base/lang dojo/dom-class".split(" "),function(g,l,m,p,d,c,k,f,b,a){return l("dGrowl",[m,p],{templateString:dojo.cache("dGrowl","main.html"),channels:[{name:"default",pos:0}],orientation:"topRight",defaultChannel:null,postCreate:function(){this.inherited(arguments);!this.channels instanceof
Array&&(this.channels=[this.channels]);null===this.defaultChannel&&(this.defaultChannel=this.channels[0].name);this.channels.sort(this.sortChannels);this.chanDefs={};for(var e=0;e<this.channels.length;e++)this.addChannel(this.channels[e].name,this.channels[e]);this._s=d.subscribe("dGrowl",b.hitch(this,this._subscribedChannels));a.add(this.domNode,"dGrowl-"+this.orientation);e=f("body")[0];c.place(this.domNode,e,"top")},destroy:function(){for(var a=0;a<this.chanDefs.length;a++)d.unsubscribe(this.chanDefs[a]._s);
d.unsubscribe(this._s);this.inherited(arguments)},_subscribedChannels:function(a,b){return this.addNotification(a,b)},addChannel:function(a,b){this.chanDefs[a]=b;this.chanDefs[a].node=c.create("li",{"class":"dGrowl-channel dGrowl-channel-"+a});c.place(this.chanDefs[a].node,this.channelsN)},addNotification:function(a,b){void 0==b?b={channel:this.defaultChannel}:void 0==b.channel&&(b.channel=this.defaultChannel);if(void 0!=this.chanDefs[b.channel]){b.message=a;var d=new k(b);c.place(d.domNode,this.chanDefs[b.channel].node);
d.show();return d}return!1},sortChannels:function(a,b){return void 0==a.pos?-1:void 0==b.pos?1:a.pos>b.pos?1:a.pos==b.pos?0:-1}})})},"dGrowl/NotificationNode":function(){define("dojo/text dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/dom-construct dGrowl/NotificationNode dojo/dom-class dojo/_base/event dojo/_base/lang".split(" "),function(g,l,m,p,d,c,k,f,b){return l("dGrowl",[m,p],{templateString:dojo.cache("dGrowl","NotificationNode.html"),title:"",message:"",duration:5E3,sticky:!1,
stickyClass:"",constructor:function(a){!0===a.sticky&&(this.stickyClass="dGrowl-notification-sticky")},postCreate:function(){this.inherited(arguments);!1===this.sticky&&setTimeout(b.hitch(this,this.killme),this.duration)},show:function(){k.add(this.domNode,"dGrowl-visible");this.onShow(this)},onShow:function(){},onHide:function(){},killme:function(a){a&&f.stop(a);k.remove(this.domNode,"dGrowl-visible");setTimeout(b.hitch(this,this.destroy),1100);this.onHide(this)}})})},"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\n\t${!actionBarTemplate}\n\x3c/div\x3e\n\n',
"url:dijit/templates/actionBar.html":"\x3cdiv class\x3d'dijitDialogPaneActionBar' data-dojo-attach-point\x3d\"actionBarNode\"\x3e\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'submit' data-dojo-attach-point\x3d\"okButton\"\x3e\x3c/button\x3e\n\t\x3cbutton data-dojo-type\x3d'dijit/form/Button' type\x3d'button'\n\t\t\tdata-dojo-attach-point\x3d\"cancelButton\" data-dojo-attach-event\x3d'click:onCancel'\x3e\x3c/button\x3e\n\x3c/div\x3e\n","url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:app/ui/templates/AppUi.html":'\x3cdiv\x3e\n\n  \x3cheader\x3e\n    \x3cnav class\x3d"top-bar" data-topbar role\x3d"navigation"\x3e\n      \x3cul class\x3d"title-area"\x3e\n        \x3cli class\x3d"name"\x3e\n          \x3ca href\x3d"/"\x3e\x3cimg src\x3d"${staticAppPath}img/atramlogo.png" class\x3d"left logo-small"\x3e\n            \x3ch1 class\x3d"left logo-small-text"\x3eAtramhasis\x3c/h1\x3e\n          \x3c/a\x3e\n        \x3c/li\x3e\n      \x3c/ul\x3e\n      \x3cdiv class\x3d"top-bar-section"\x3e\n        \x3c!-- Right Nav Section --\x3e\n        \x3cul class\x3d"right"\x3e\n          \x3cli class\x3d"divider"\x3e\x3c/li\x3e\n          \x3cli\x3e\n            \x3ca class\x3d"button tiny menu-button" data-dojo-attach-event\x3d"onClick: _toggleMenu"\x3e\x3ci class\x3d"fa fa-bars"\x3e\x3c/i\x3eMENU\x3c/a\x3e\n          \x3c/li\x3e\n        \x3c/ul\x3e\n      \x3c/div\x3e\n    \x3c/nav\x3e\n  \x3c/header\x3e\n\n  \x3cdiv class\x3d"app-content-container" data-dojo-attach-point\x3d"appContentContainer"\x3e\n\n    \x3cdiv data-dojo-attach-point\x3d"conceptContainerNode"\x3e\x3c/div\x3e\n\n    \x3cdiv class\x3d"app-menu"\x3e\n      \x3cdiv data-dojo-attach-point\x3d"menuContainerNode"\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"slidemenu-overlay slideoverlay-close" data-dojo-attach-point\x3d"menuOverlayContainer" data-dojo-attach-event\x3d"onClick: _closeMenu"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\n  \x3cfooter\x3e\n    \u00a9 Copyright 2014-2016 \x3ca href\x3d"https://www.onroerenderfgoed.be/"\x3eFlanders Heritage Agency\x3c/a\x3e\n    \x3cdiv class\x3d"right"\x3enl | fr | en\x3c/div\x3e\n  \x3c/footer\x3e\n\n\x3c/div\x3e\n',
"url:app/ui/templates/Help.html":"\x3cdiv class\x3d\"large-8 columns\"\x3e\n  \x3ch2\x3e\n    Welcome to Atramhasis!\n  \x3c/h2\x3e\n  \x3ch4\x3eAtramhasis is an open-source, web-based \x3ca href\x3d'http://www.w3.org/2004/02/skos/'\x3eSKOS\x3c/a\x3e editor. \x3c/h4\x3e\n  \x3ch4\x3eYou can use this webapplication to browse, edit and add SKOS vocabularies, thesauri, authority files, word lists, ... through the amdin interface.\x3c/h4\x3e\n\x3c/div\x3e\n","url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\n\t   cellspacing\x3d"0"\x3e\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\n\x3c/table\x3e\n',"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\n\t\t\x3c/span\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'tabLabel\'\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\n\t\t  role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\n\t\t\t\t\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerMenuButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_menuBtn"\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_leftBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_rightBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:app/ui/widgets/templates/SearchPane.html":'\x3cdiv\x3e\n\n  \x3cdiv class\x3d"search-form"\x3e\n    \x3cform data-dojo-attach-point\x3d"labelSearchForm" data-dojo-attach-event\x3d"onsubmit: _search"\x3e\n        \x3cdiv class\x3d"large-10 columns"\x3e\n          \x3cselect data-dojo-attach-point\x3d"conceptSchemeSelect"\x3e\n            \x3coption value\x3d"-1" selected disabled\x3eSelect thesaurus\x3c/option\x3e\n          \x3c/select\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"large-2 columns edit-scheme-button"\x3e\n          \x3cbutton type\x3d"button" class\x3d"button tiny" href\x3d"#/conceptscheme/edit" data-dojo-attach-point\x3d"editSchemeButton"\n                  data-dojo-attach-event\x3d"onClick: _editConceptScheme" disabled\x3eEdit\x3c/button\x3e\n        \x3c/div\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3cdiv class\x3d"placeholder-container"\x3e\n          \x3clabel for\x3d"labelfilter-${id}"\x3eFilter by label\x3c/label\x3e\n          \x3cinput id\x3d"labelfilter-${id}" data-dojo-attach-point\x3d"labelInput" type\x3d"text"/\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3cdiv class\x3d"placeholder-container"\x3e\n          \x3clabel for\x3d"typefilter-${id}"\x3eFilter by type\x3c/label\x3e\n          \x3cselect id\x3d"typefilter-${id}" data-dojo-attach-point\x3d"conceptTypeSelect"\x3e\n            \x3coption value\x3d"all"\x3eall types\x3c/option\x3e\n            \x3coption value\x3d"concept"\x3econcepts\x3c/option\x3e\n            \x3coption value\x3d"collection"\x3ecollections\x3c/option\x3e\n          \x3c/select\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"text-center large-12 columns"\x3e\n        \x3cbutton href\x3d"#/search" class\x3d"button tiny search-button" data-dojo-attach-event\x3d"onClick: _search"\x3e\x3cspan class\x3d"ico ico-mglass"\x3e\x3c/span\x3e\x3c/button\x3e\n      \x3c/div\x3e\n    \x3c/form\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"search-results" data-dojo-attach-point\x3d"searchResultsNode"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"gridNode"\x3e\x3c/div\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"search-footer-buttons text-center large-8 columns large-offset-2"\x3e\n    \x3cdiv class\x3d"large-4 columns"\x3e\n      \x3cbutton class\x3d"button tiny" href\x3d"#/concept/new" data-dojo-attach-event\x3d"onClick: _createConcept"\n              data-dojo-attach-point\x3d"addConceptButton" disabled\x3e+Add\x3c/button\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-4 columns"\x3e\n      \x3cbutton class\x3d"button tiny" href\x3d"#/concept/import" data-dojo-attach-event\x3d"onClick: _importConcept"\n              data-dojo-attach-point\x3d"importConceptButton" disabled\x3eImport\x3c/button\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-4 columns"\x3e\n      \x3ca class\x3d"button tiny" href\x3d"#/languages" data-dojo-attach-event\x3d"onClick: _editLanguages"\x3eLanguage\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\n\x3c/div\x3e',
"url:dijit/templates/MenuSeparator.html":'\x3ctr class\x3d"dijitMenuSeparator" role\x3d"separator"\x3e\n\t\x3ctd class\x3d"dijitMenuSeparatorIconCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\t\x3ctd colspan\x3d"3" class\x3d"dijitMenuSeparatorLabelCell"\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorTop dijitMenuSeparatorLabel"\x3e\x3c/div\x3e\n\t\t\x3cdiv class\x3d"dijitMenuSeparatorBottom"\x3e\x3c/div\x3e\n\t\x3c/td\x3e\n\x3c/tr\x3e\n',
"url:app/ui/widgets/templates/ConceptDetail.html":'\x3cdiv data-dojo-attach-point\x3d"conceptDetailNode"\x3e\n  \x3cdiv class\x3d"large-12 columns" style\x3d"margin-top: 20px; padding-bottom: 20px;"\x3e\n    \x3cdiv class\x3d"large-8 columns"\x3e\n      \x3ch1 data-dojo-attach-point\x3d"conceptTitleViewNode"\x3e\x3c/h1\x3e\n      \x3cspan class\x3d"concept-title-info" data-dojo-attach-point\x3d"idViewNode"\x3e\x3c/span\x3e\n      \x3cspan class\x3d"concept-title-info" data-dojo-attach-point\x3d"typeViewNode"\x3e\x3c/span\x3e\n      \x3cspan class\x3d"concept-title-info" data-dojo-attach-point\x3d"uriViewNode"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-4 columns"\x3e\n      \x3ca href\x3d"#" class\x3d"button tiny right" data-dojo-attach-event\x3d"onClick: _deleteConcept"\x3eDELETE\x3c/a\x3e\n      \x3ca href\x3d"#" class\x3d"button tiny right" style\x3d"margin-right: 10px;" data-dojo-attach-event\x3d"onClick: _openEditDialog"\x3eEDIT\x3c/a\x3e\n      \x3cbutton href\x3d"#" class\x3d"button tiny right" style\x3d"margin-right: 10px;" data-dojo-attach-event\x3d"onClick: _openMergeDialog"\n         data-dojo-attach-point\x3d"mergeButton"\x3eMERGE\x3c/button\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3chr class\x3d"concept-hr"\x3e\n  \x3cdiv class\x3d"large-12 columns label-relation-block"\x3e\n    \x3cdiv class\x3d"large-6 columns"\x3e\n      \x3ch4 class\x3d"no-top-padding"\x3eLabels\x3c/h4\x3e\n      \x3cdl class\x3d"dllist"\x3e\n        \x3cdt\x3ePreferred labels\x3c/dt\x3e\x3cdd data-dojo-attach-point\x3d"preferredLabelsNode"\x3e\x3c/dd\x3e\n        \x3cdt\x3eAlternate labels\x3c/dt\x3e\x3cdd data-dojo-attach-point\x3d"alternateLabelsNode"\x3e\x3c/dd\x3e\n        \x3cdt\x3eHidden labels\x3c/dt\x3e\x3cdd data-dojo-attach-point\x3d"hiddenLabelsNode"\x3e\x3c/dd\x3e\n        \x3cdt\x3eSort labels\x3c/dt\x3e\x3cdd data-dojo-attach-point\x3d"sortLabelsNode"\x3e\x3c/dd\x3e\n      \x3c/dl\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-6 columns"\x3e\n      \x3ch4 class\x3d"no-top-padding"\x3eRelations\x3c/h4\x3e\n      \x3cdl class\x3d"dllist" data-dojo-attach-point\x3d"relationsListNode"\x3e\n      \x3c/dl\x3e\n      \x3ch4 class\x3d"no-top-padding"\x3eMatches\x3c/h4\x3e\n      \x3cdl class\x3d"dllist" data-dojo-attach-point\x3d"matchesListNode"\x3e\n      \x3c/dl\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3chr class\x3d"concept-hr"\x3e\n  \x3cdiv class\x3d"large-12 columns"\x3e\n    \x3cdiv class\x3d"large-12 columns"\x3e\n      \x3cul class\x3d"scopeNote" data-dojo-attach-point\x3d"scopeNoteNode"\x3e\n        \x3ch3\x3enotes\x3c/h3\x3e\n      \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-12 columns"\x3e\n      \x3cul class\x3d"scopeNote" data-dojo-attach-point\x3d"sourcesNode"\x3e\n        \x3ch3\x3esources\x3c/h3\x3e\n      \x3c/ul\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/managers/templates/LabelManager.html":'\x3cdiv\x3e\n  \x3cdiv class\x3d"row relation-row" style\x3d"margin-bottom: 5px;"\x3e\n    \x3cdiv class\x3d"large-offset-10 large-2 columns"\x3e\n      \x3ca style\x3d"float: right;" href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _addLabel" title\x3d"Add label"\x3eAdd Label\x26nbsp;\x26nbsp;\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row"\x3e\n    \x3cdiv class\x3d"large-12 columns" style\x3d"padding: 0;"\x3e\n      \x3cdiv data-dojo-attach-point\x3d"labelGridNode" style\x3d"max-height: 350px;"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/dialogs/templates/LabelsDialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"labelsDialog_title"\x3e\n  \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n    \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" role\x3d"heading"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\n          data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"Annuleren" role\x3d"button" tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"Annuleren" tabIndex\x3d"-1"\x3e\n        \x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e\x3c/span\x3e\n\t\t\x3c/span\x3e\n  \x3c/div\x3e\n\n  \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-6 columns"\x3e\n        \x3cdiv class\x3d"placeholder-container"\x3e\n          \x3clabel for\x3d"typeSelectNode-${id}"\x3eType\x3c/label\x3e\n          \x3cselect id\x3d"typeSelectNode-${id}" data-dojo-attach-point\x3d"typeSelectNode"\x3e\x3c/select\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"large-6 columns"\x3e\n        \x3cdiv class\x3d"placeholder-container"\x3e\n          \x3clabel for\x3d"langSelectNode-${id}"\x3eLanguage\x3c/label\x3e\n          \x3cselect id\x3d"langSelectNode-${id}" data-dojo-attach-point\x3d"langSelectNode"\x3e\x3c/select\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3cdiv class\x3d"placeholder-container"\x3e\n          \x3clabel for\x3d"labelInputNode-${id}"\x3eLabel\x3c/label\x3e\n          \x3cinput type\x3d"text" data-dojo-attach-point\x3d"labelInputNode" id\x3d"labelInputNode-${id}"\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row footerButtons"\x3e\n      \x3cdiv class\x3d"large-12 columns text-center"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _okClick" data-dojo-attach-point\x3d"okButtonNode" class\x3d"button tiny"\x3eOk\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _cancelClick" class\x3d"button tiny"\x3eCancel\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/managers/templates/NoteManager.html":'\x3cdiv\x3e\n  \x3cdiv class\x3d"row relation-row" style\x3d"margin-bottom: 5px;"\x3e\n    \x3cdiv class\x3d"large-offset-10 large-2 columns"\x3e\n      \x3ca style\x3d"float: right;" href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _addNote" title\x3d"Add note"\x3eAdd Note\x26nbsp;\x26nbsp;\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row"\x3e\n    \x3cdiv class\x3d"large-12 columns" style\x3d"padding: 0;"\x3e\n      \x3cdiv data-dojo-attach-point\x3d"noteGridNode" style\x3d"max-height: 350px;"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/dialogs/templates/NotesDialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"notesDialog_title"\x3e\n  \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n    \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" role\x3d"heading"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\n          data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"Annuleren" role\x3d"button" tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"Annuleren" tabIndex\x3d"-1"\x3e\n        \x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e\x3c/span\x3e\n\t\t\x3c/span\x3e\n  \x3c/div\x3e\n\n  \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-6 columns"\x3e\n        \x3cdiv class\x3d"placeholder-container"\x3e\n          \x3clabel for\x3d"typeSelectNode-${id}"\x3eType\x3c/label\x3e\n          \x3cselect id\x3d"typeSelectNode-${id}" data-dojo-attach-point\x3d"typeSelectNode"\x3e\x3c/select\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"large-6 columns"\x3e\n        \x3cdiv class\x3d"placeholder-container"\x3e\n          \x3clabel for\x3d"langSelectNode-${id}"\x3eLanguage\x3c/label\x3e\n          \x3cselect id\x3d"langSelectNode-${id}" data-dojo-attach-point\x3d"langSelectNode"\x3e\x3c/select\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"htmlEditorNode"\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row footerButtons"\x3e\n      \x3cdiv class\x3d"large-12 columns text-center"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _okClick" data-dojo-attach-point\x3d"okButtonNode" class\x3d"button tiny"\x3eOk\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _cancelClick" class\x3d"button tiny"\x3eCancel\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/utils/templates/HtmlEditor.html":'\x3cdiv class\x3d"htmlEditor"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"containerToolbarNode" \x3e\x3c/div\x3e\n    \x3ctextarea data-dojo-attach-point\x3d"containerTextAreaNode"\x3e\x3c/textarea\x3e\n\x3c/div\x3e',"url:app/ui/managers/templates/RelationManager.html":'\x3cdiv\x3e\n  \x3cdiv class\x3d"row relation-row" data-dojo-attach-point\x3d"broaderContainerNode"\x3e\n    \x3cdiv class\x3d"large-11 columns"\x3e\n      \x3cp\x3eBroader\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-1 columns"\x3e\n      \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _addBroader" title\x3d"Add broader concept"\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row large-12 columns"\n       data-dojo-attach-point\x3d"broaderGridNode"\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"row relation-row" data-dojo-attach-point\x3d"narrowerContainerNode"\x3e\n    \x3cdiv class\x3d"large-11 columns"\x3e\n      \x3cp\x3eNarrower\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-1 columns"\x3e\n      \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _addNarrower" title\x3d"Add narrower concept"\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row large-12 columns"\n       data-dojo-attach-point\x3d"narrowerGridNode"\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"row relation-row" data-dojo-attach-point\x3d"relatedContainerNode"\x3e\n    \x3cdiv class\x3d"large-11 columns"\x3e\n      \x3cp\x3eRelated\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-1 columns"\x3e\n      \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _addRelated" title\x3d"Add related concept"\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row large-12 columns"\n       data-dojo-attach-point\x3d"relatedGridNode"\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"row relation-row" data-dojo-attach-point\x3d"membersContainerNode"\x3e\n    \x3cdiv class\x3d"large-11 columns"\x3e\n      \x3cp\x3eMembers\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-1 columns"\x3e\n      \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _addMembers" title\x3d"Add members"\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row large-12 columns"\n       data-dojo-attach-point\x3d"membersGridNode"\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"row relation-row" data-dojo-attach-point\x3d"memberOfContainerNode"\x3e\n    \x3cdiv class\x3d"large-11 columns"\x3e\n      \x3cp\x3eMember of\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-1 columns"\x3e\n      \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _addMemberOf" title\x3d"Add member of concept"\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row large-12 columns"\n       data-dojo-attach-point\x3d"memberOfGridNode"\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"row relation-row" data-dojo-attach-point\x3d"subordinateArraysContainerNode"\x3e\n    \x3cdiv class\x3d"large-11 columns"\x3e\n      \x3cp\x3eSubordinate arrays\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-1 columns"\x3e\n      \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _addSubordinateArray" title\x3d"Add subordinate array"\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row large-12 columns"\n       data-dojo-attach-point\x3d"subordinateGridNode"\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"row relation-row" data-dojo-attach-point\x3d"superordinatesCollContainerNode"\x3e\n    \x3cdiv class\x3d"large-11 columns"\x3e\n      \x3cp\x3eSuperordinates\x3c/p\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-1 columns"\x3e\n      \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _addSuperordinates" title\x3d"Add superordinates"\x3e\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row large-12 columns"\n       data-dojo-attach-point\x3d"superordinatesCollGridNode"\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/templates/TreeNode.html":'\x3cdiv class\x3d"dijitTreeNode" role\x3d"presentation"\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"rowNode" class\x3d"dijitTreeRow" role\x3d"presentation"\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNode" class\x3d"dijitInline dijitTreeExpando" role\x3d"presentation"\x3e\x3c/span\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"expandoNodeText" class\x3d"dijitExpandoText" role\x3d"presentation"\x3e\x3c/span\n\t\t\x3e\x3cspan data-dojo-attach-point\x3d"contentNode"\n\t\t\tclass\x3d"dijitTreeContent" role\x3d"presentation"\x3e\n\t\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTreeIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan data-dojo-attach-point\x3d"labelNode,focusNode" class\x3d"dijitTreeLabel" role\x3d"treeitem"\n\t\t\t\t   tabindex\x3d"-1" aria-selected\x3d"false" id\x3d"${id}_label"\x3e\x3c/span\x3e\n\t\t\x3c/span\n\t\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeNodeContainer" role\x3d"presentation"\n\t\t style\x3d"display: none;" aria-labelledby\x3d"${id}_label"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"url:dijit/templates/Tree.html":'\x3cdiv role\x3d"tree"\x3e\n\t\x3cdiv class\x3d"dijitInline dijitTreeIndent" style\x3d"position: absolute; top: -9999px" data-dojo-attach-point\x3d"indentDetector"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTreeExpando dijitTreeExpandoLoading" data-dojo-attach-point\x3d"rootLoadingIndicator"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitTreeContainer" role\x3d"presentation"\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e\n',"url:app/ui/dialogs/templates/AddRelationDialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"addRelationDialog_title"\x3e\n  \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" role\x3d"heading"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\n          data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"Annuleren" role\x3d"button" tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"Annuleren" tabIndex\x3d"-1"\x3e\n        \x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e\x3c/span\x3e\n\t\t\x3c/span\x3e\n  \x3c/div\x3e\n\n  \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"addRelationContainerNode" style\x3d"height: 330px; overflow-y: scroll; width: 100%"\x3e\x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row footerButtons"\x3e\n      \x3cdiv class\x3d"large-12 columns text-center"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _okClick" class\x3d"button tiny"\x3eAdd\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _cancelClick" class\x3d"button tiny"\x3eCancel\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/managers/templates/MatchesManager.html":'\x3cdiv\x3e\n  \x3cdiv class\x3d"row relation-row" style\x3d"margin-bottom: 5px;"\x3e\n    \x3cdiv class\x3d"large-10 columns"\x3e\n      \x3ch5 data-dojo-attach-point\x3d"loadingMatchesNode" style\x3d"display: none;"\x3e\x3ci class\x3d"fa fa-spinner fa-pulse"\x3e\x3c/i\x3e\x26nbsp;Loading matches..\x3c/h5\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-2 columns"\x3e\n      \x3ca style\x3d"float: right;" href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _addMatches" title\x3d"Add match"\x3eAdd Match\x26nbsp;\x26nbsp;\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row relation-row"\x3e\n    \x3cdiv class\x3d"large-12 columns"\x3e\n      \x3cp\x3eBroad\x3c/p\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row large-12 columns"\n       data-dojo-attach-point\x3d"broadGridNode"\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"row relation-row"\x3e\n    \x3cdiv class\x3d"large-12 columns"\x3e\n      \x3cp\x3eClose\x3c/p\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row large-12 columns"\n       data-dojo-attach-point\x3d"closeGridNode"\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"row relation-row"\x3e\n    \x3cdiv class\x3d"large-12 columns"\x3e\n      \x3cp\x3eExact\x3c/p\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row large-12 columns"\n       data-dojo-attach-point\x3d"exactGridNode"\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"row relation-row"\x3e\n    \x3cdiv class\x3d"large-12 columns"\x3e\n      \x3cp\x3eNarrow\x3c/p\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row large-12 columns"\n       data-dojo-attach-point\x3d"narrowGridNode"\x3e\n  \x3c/div\x3e\n\n  \x3cdiv class\x3d"row relation-row"\x3e\n    \x3cdiv class\x3d"large-12 columns"\x3e\n      \x3cp\x3eRelated\x3c/p\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row large-12 columns"\n       data-dojo-attach-point\x3d"relatedGridNode"\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/dialogs/templates/AddMatchesDialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"addMatchesDialog_title"\x3e\n  \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n    \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" role\x3d"heading"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\n          data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"Annuleren" role\x3d"button" tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"Annuleren" tabIndex\x3d"-1"\x3e\n        \x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e\x3c/span\x3e\n\t\t\x3c/span\x3e\n  \x3c/div\x3e\n\n  \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3cp style\x3d"margin-top: 0; padding-top: 0;"\x3eSelect an external scheme and enter a label to search for a match:\x3c/p\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-6 columns"\x3e\n        \x3cselect data-dojo-attach-point\x3d"externalSchemeSelect"\x3e\x3c/select\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"large-5 columns"\x3e\n        \x3cinput type\x3d"search" style\x3d"float: right" data-dojo-attach-point\x3d"searchLabelInput" placeholder\x3d"Enter a label .." /\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"large-1 columns"\x3e\n        \x3ca href\x3d"#" class\x3d"button tiny" style\x3d"float: right" data-dojo-attach-event\x3d"onClick: _searchMatches"\x3e\x3ci class\x3d"fa fa-search"\x3e\x3c/i\x3e\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"addMatchesGridNode" style\x3d"height: 330px; width: 100%"\x3e\x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-6 columns"\x3e\n        \x3cdiv class\x3d"placeholder-container" style\x3d"margin-top: 15px;"\x3e\n          \x3clabel for\x3d"matchType-${id}" style\x3d"width: 60%;"\x3eSelect the type of match\x3c/label\x3e\n          \x3cselect id\x3d"matchType-${id}" data-dojo-attach-point\x3d"matchTypeSelectNode"\x3e\x3c/select\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row footerButtons"\x3e\n      \x3cdiv class\x3d"large-12 columns text-center"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _okClick" class\x3d"button tiny"\x3eAdd\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _cancelClick" class\x3d"button tiny"\x3eCancel\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/dialogs/templates/ConceptEditDialog.html":'\x3cdiv\x3e\n  \x3cdiv class\x3d"large-12 columns"\x3e\n    \x3cdiv class\x3d"large-4 columns"\x3e\n      \x3cdiv class\x3d"placeholder-container"\x3e\n        \x3clabel\x3eSCHEME\x3c/label\x3e\n        \x3cinput type\x3d"text" data-dojo-attach-point\x3d"schemeNode" disabled /\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-4 columns"\x3e\n      \x3cdiv class\x3d"placeholder-container"\x3e\n        \x3clabel\x3eTYPE\x3c/label\x3e\n        \x3cselect data-dojo-attach-point\x3d"typeNode"\x3e\x3c/select\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3chr class\x3d"concept-hr"\x3e\n  \x3cdiv class\x3d"large-12 columns" style\x3d"padding-bottom: 20px;"\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/layout/TabContainer"\n         data-dojo-attach-point\x3d"tabContainer"\n         data-dojo-props\x3d"doLayout:false"\n         class\x3d""\x3e\n\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n           title\x3d"Labels"\n           data-dojo-attach-point\x3d"tabLabels"\n           data-dojo-props\x3d"selected:true"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"labelsNode"\x3e[ LABELS ]\x3c/div\x3e\n      \x3c/div\x3e\n\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n           title\x3d"Notes"\n           data-dojo-attach-point\x3d"tabNotes"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"notesNode"\x3e[ NOTES ]\x3c/div\x3e\n      \x3c/div\x3e\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n           title\x3d"Relations"\n           data-dojo-attach-point\x3d"tabRelations"\n           style\x3d"max-height: 408px; overflow-y: auto;"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"relationsNode"\x3e[ RELATIONS ]\x3c/div\x3e\n      \x3c/div\x3e\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n           title\x3d"Matches"\n           data-dojo-attach-point\x3d"tabMatches"\n           style\x3d"max-height: 408px; overflow-y: auto;"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"matchesNode"\x3e[ MATCHES ]\x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"large-12 columns text-center" style\x3d"margin-top: 30px; margin-bottom: 20px;"\x3e\n    \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _saveConcept"\x3eSave\x3c/a\x3e\n    \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _cancel"\x3eCancel\x3c/a\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/widgets/templates/SlideMenu.html":'\x3cdiv class\x3d"slidemenu-container slidemenu-close" data-dojo-attach-point\x3d"menuContainer" data-dojo-attach-event\x3d"onClick: _slideOpen"\x3e\n  \x3cdiv class\x3d"slidemenu-inner"\x3e\n    \x3cdiv data-dojo-attach-point\x3d"menuNode"\x3e\x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n',"url:app/ui/managers/templates/SourcesManager.html":'\x3cdiv\x3e\n  \x3cdiv class\x3d"row relation-row" style\x3d"margin-bottom: 5px;"\x3e\n    \x3cdiv class\x3d"large-offset-10 large-2 columns"\x3e\n      \x3ca style\x3d"float: right;" href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _addSource" title\x3d"Add source"\x3eAdd Source\x26nbsp;\x26nbsp;\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"row"\x3e\n    \x3cdiv class\x3d"large-12 columns" style\x3d"padding: 0;"\x3e\n      \x3cdiv data-dojo-attach-point\x3d"sourcesGridNode" style\x3d"max-height: 350px;"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/dialogs/templates/SourcesDialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"sourcesDialog_title"\x3e\n  \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n    \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" role\x3d"heading"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\n          data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"Annuleren" role\x3d"button" tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"Annuleren" tabIndex\x3d"-1"\x3e\n        \x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e\x3c/span\x3e\n\t\t\x3c/span\x3e\n  \x3c/div\x3e\n\n  \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"htmlEditorNode"\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row footerButtons"\x3e\n      \x3cdiv class\x3d"large-12 columns text-center"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _okClick" data-dojo-attach-point\x3d"okButtonNode" class\x3d"button tiny"\x3eOk\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _cancelClick" class\x3d"button tiny"\x3eCancel\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/dialogs/templates/ManageConceptDialog.html":'\x3cdiv\x3e\n  \x3cdiv class\x3d"large-12 columns"\x3e\n    \x3cdiv class\x3d"large-4 columns"\x3e\n      \x3cdiv class\x3d"placeholder-container"\x3e\n        \x3clabel\x3eSCHEME\x3c/label\x3e\n        \x3cselect class\x3d"no-arrow-select" data-dojo-attach-point\x3d"schemeNode" disabled\x3e\x3c/select\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-4 columns"\x3e\n      \x3cdiv class\x3d"placeholder-container"\x3e\n        \x3clabel\x3eTYPE\x3c/label\x3e\n        \x3cselect data-dojo-attach-point\x3d"typeNode"\x3e\x3c/select\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3chr class\x3d"concept-hr"\x3e\n  \x3cdiv class\x3d"large-12 columns" style\x3d"padding-bottom: 20px;"\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/layout/TabContainer"\n         data-dojo-attach-point\x3d"tabContainer"\n         data-dojo-props\x3d"doLayout:false"\n         class\x3d""\x3e\n\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n           title\x3d"Labels"\n           data-dojo-attach-point\x3d"tabLabels"\n           data-dojo-props\x3d"selected:true"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"labelsNode"\x3e[ LABELS ]\x3c/div\x3e\n      \x3c/div\x3e\n\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n           title\x3d"Notes"\n           data-dojo-attach-point\x3d"tabNotes"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"notesNode"\x3e[ NOTES ]\x3c/div\x3e\n      \x3c/div\x3e\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n           title\x3d"Sources"\n           data-dojo-attach-point\x3d"tabSources"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"sourcesNode"\x3e[ SOURCES ]\x3c/div\x3e\n      \x3c/div\x3e\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n           title\x3d"Relations"\n           data-dojo-attach-point\x3d"tabRelations"\n           style\x3d"max-height: 408px; overflow-y: scroll;"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"relationsNode"\x3e[ RELATIONS ]\x3c/div\x3e\n      \x3c/div\x3e\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n           title\x3d"Matches"\n           data-dojo-attach-point\x3d"tabMatches"\n           style\x3d"max-height: 408px; overflow-y: scroll;"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"matchesNode"\x3e[ MATCHES ]\x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"large-12 columns text-center" style\x3d"margin-top: 30px; margin-bottom: 20px;"\x3e\n    \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _saveConcept"\x3eSave\x3c/a\x3e\n    \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _cancel"\x3eCancel\x3c/a\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/dialogs/templates/ManageLanguagesDialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"manageLanguagesDialog_title"\x3e\n  \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n    \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" role\x3d"heading"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\n          data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"Annuleren" role\x3d"button" tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"Annuleren" tabIndex\x3d"-1"\x3e\n        \x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e\x3c/span\x3e\n\t\t\x3c/span\x3e\n  \x3c/div\x3e\n  \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3ch5 style\x3d"margin-top: 0;"\x3eAdd a language\x3c/h5\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-3 columns"\x3e\n        \x3cdiv class\x3d"placeholder-container"\x3e\n          \x3clabel for\x3d"codeInputNode-${id}"\x3eCode\x3c/label\x3e\n          \x3cinput type\x3d"text" id\x3d"codeInputNode-${id}" data-dojo-attach-point\x3d"codeInputNode" /\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"large-7 columns"\x3e\n        \x3cdiv class\x3d"placeholder-container"\x3e\n          \x3clabel for\x3d"nameInputNode-${id}"\x3eName\x3c/label\x3e\n          \x3cinput type\x3d"text" id\x3d"nameInputNode-${id}" data-dojo-attach-point\x3d"nameInputNode" /\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"large-2 columns" style\x3d"padding: 0;"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _addLangClick" data-dojo-attach-point\x3d"addButtonNode" style\x3d"float: left; height: 39px;" class\x3d"button tiny"\x3eAdd\x26nbsp;\x26nbsp;\x3ci class\x3d"fa fa-plus"\x3e\x3c/i\x3e\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3ch5 style\x3d"margin-top: 0; margin-bottom: 10px;"\x3eYou can use \x3ca href\x3d"http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry" target\x3d"_blank" style\x3d"text-decoration: underline;"\x3ethis\x3c/a\x3e list as a reference.\x3c/h5\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"langGridNode"\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row footerButtons"\x3e\n      \x3cdiv class\x3d"large-12 columns text-center"\x3e\n        \x3c!--?\x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _okClick" data-dojo-attach-point\x3d"okButtonNode" class\x3d"button tiny"\x3eOK\x3c/a\x3e--\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _cancelClick" class\x3d"button tiny"\x3eClose\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/dialogs/templates/LanguageDialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"languageDialog_title"\x3e\n  \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n    \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" role\x3d"heading"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\n          data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"Annuleren" role\x3d"button" tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"Annuleren" tabIndex\x3d"-1"\x3e\n        \x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e\x3c/span\x3e\n\t\t\x3c/span\x3e\n  \x3c/div\x3e\n\n  \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3cdiv class\x3d"placeholder-container"\x3e\n          \x3clabel for\x3d"codeInput-${id}"\x3eCode\x3c/label\x3e\n          \x3cinput type\x3d"text" id\x3d"codeInput-${id}" data-dojo-attach-point\x3d"codeInputNode" /\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"placeholder-container"\x3e\n          \x3clabel for\x3d"descriptionInput-${id}"\x3eName\x3c/label\x3e\n          \x3cinput type\x3d"text" id\x3d"descriptionInput-${id}" data-dojo-attach-point\x3d"descriptionInputNode" /\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row footerButtons"\x3e\n      \x3cdiv class\x3d"large-12 columns text-center"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _okClick" data-dojo-attach-point\x3d"okButtonNode" class\x3d"button tiny"\x3eOk\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _cancelClick" class\x3d"button tiny"\x3eCancel\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/dialogs/templates/ImportConceptDialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"importConceptDialog_title"\x3e\n  \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n    \x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" role\x3d"heading"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\n          data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"Annuleren" role\x3d"button" tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"Annuleren" tabIndex\x3d"-1"\x3e\n        \x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e\x3c/span\x3e\n\t\t\x3c/span\x3e\n  \x3c/div\x3e\n\n  \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3cp style\x3d"margin-top: 0; padding-top: 0;"\x3eSelect an external scheme and enter a label to search for a match:\x3c/p\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-6 columns"\x3e\n        \x3cselect data-dojo-attach-point\x3d"externalSchemeSelect"\x3e\x3c/select\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"large-5 columns"\x3e\n        \x3cinput type\x3d"search" style\x3d"float: right" data-dojo-attach-point\x3d"searchLabelInput" placeholder\x3d"Enter a label .." /\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"large-1 columns"\x3e\n        \x3ca href\x3d"#" class\x3d"button tiny" style\x3d"float: right" data-dojo-attach-event\x3d"onClick: _searchConcepts"\x3e\x3ci class\x3d"fa fa-search"\x3e\x3c/i\x3e\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"importConceptGridNode" style\x3d"height: 330px; width: 100%"\x3e\x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row footerButtons"\x3e\n      \x3cdiv class\x3d"large-12 columns text-center"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _okClick" class\x3d"button tiny"\x3eImport\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _cancelClick" class\x3d"button tiny"\x3eCancel\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/dialogs/templates/MergeConceptDialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"mergeConceptDialog_title"\x3e\n  \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" role\x3d"heading"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\n          data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"Annuleren" role\x3d"button" tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"Annuleren" tabIndex\x3d"-1"\x3e\n        \x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e\x3c/span\x3e\n\t\t\x3c/span\x3e\n  \x3c/div\x3e\n\n  \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns" data-dojo-attach-point\x3d"loadingMatchesContainer" style\x3d"height: 250px;"\x3e\n        \x3ch4\x3e\x3ci class\x3d"fa fa-spinner fa-pulse"\x3e\x3c/i\x3e\x26nbsp;\x26nbsp;Loading matches..\x3c/h4\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"large-12 columns" data-dojo-attach-point\x3d"mergeGridContainer"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"mergeConceptGridNode"\x3e\x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row footerButtons"\x3e\n      \x3cdiv class\x3d"large-12 columns text-center"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _okClick" class\x3d"button tiny"\x3eMerge\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _cancelClick" class\x3d"button tiny"\x3eCancel\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"url:app/ui/dialogs/templates/ManageSchemeDialog.html":'\x3cdiv\x3e\n  \x3cdiv class\x3d"large-12 columns" style\x3d"padding-bottom: 20px;"\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/layout/TabContainer"\n         data-dojo-attach-point\x3d"tabContainer"\n         data-dojo-props\x3d"doLayout:false"\n         class\x3d""\x3e\n\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n           title\x3d"Labels"\n           data-dojo-attach-point\x3d"tabLabels"\n           data-dojo-props\x3d"selected:true"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"labelsNode"\x3e[ LABELS ]\x3c/div\x3e\n      \x3c/div\x3e\n\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n           title\x3d"Notes"\n           data-dojo-attach-point\x3d"tabNotes"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"notesNode"\x3e[ NOTES ]\x3c/div\x3e\n      \x3c/div\x3e\n\n      \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane"\n           title\x3d"Sources"\n           data-dojo-attach-point\x3d"tabSources"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"sourcesNode"\x3e[ SOURCES ]\x3c/div\x3e\n      \x3c/div\x3e\n      \x3c!--? todo add languages tab --\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d"large-12 columns text-center" style\x3d"margin-top: 30px; margin-bottom: 20px;"\x3e\n    \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _saveScheme"\x3eSave\x3c/a\x3e\n    \x3ca href\x3d"#" class\x3d"button tiny" data-dojo-attach-event\x3d"onClick: _cancel"\x3eCancel\x3c/a\x3e\n  \x3c/div\x3e\n\x3c/div\x3e',
"*now":function(g){g(['dojo/i18n!*preload*app/nls/main*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});define("app/main",["./App","dojo/dom","dojo/domReady!"],function(g,l){var m={appContainer:l.byId("appDiv"),loadingContainer:l.byId("loadingOverlay"),staticAppPath:staticAppPath};(new g({appConfig:m})).startup()});
//# sourceMappingURL=main.js.map