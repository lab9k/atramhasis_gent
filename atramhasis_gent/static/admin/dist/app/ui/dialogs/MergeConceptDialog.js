//>>built
require({cache:{"url:app/ui/dialogs/templates/MergeConceptDialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"mergeConceptDialog_title"\x3e\n  \x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" role\x3d"heading"\x3e\x3c/span\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon"\n          data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"Annuleren" role\x3d"button" tabIndex\x3d"-1"\x3e\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"Annuleren" tabIndex\x3d"-1"\x3e\n        \x3ci class\x3d"fa fa-times"\x3e\x3c/i\x3e\x3c/span\x3e\n\t\t\x3c/span\x3e\n  \x3c/div\x3e\n\n  \x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\n    \x3cdiv class\x3d"row"\x3e\n      \x3cdiv class\x3d"large-12 columns" data-dojo-attach-point\x3d"loadingMatchesContainer" style\x3d"height: 250px;"\x3e\n        \x3ch4\x3e\x3ci class\x3d"fa fa-spinner fa-pulse"\x3e\x3c/i\x3e\x26nbsp;\x26nbsp;Loading matches..\x3c/h4\x3e\n      \x3c/div\x3e\n      \x3cdiv class\x3d"large-12 columns" data-dojo-attach-point\x3d"mergeGridContainer"\x3e\n        \x3cdiv data-dojo-attach-point\x3d"mergeConceptGridNode"\x3e\x3c/div\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"row footerButtons"\x3e\n      \x3cdiv class\x3d"large-12 columns text-center"\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _okClick" class\x3d"button tiny"\x3eMerge\x3c/a\x3e\n        \x3ca href\x3d"#" data-dojo-attach-event\x3d"onClick: _cancelClick" class\x3d"button tiny"\x3eCancel\x3c/a\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e'}});
define("app/ui/dialogs/MergeConceptDialog","dojo/_base/declare dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Dialog dojo/_base/array dojo/_base/lang dojo/topic dojo/promise/all dojo/dom-construct dgrid/OnDemandGrid dgrid/extensions/DijitRegistry dgrid/extensions/ColumnResizer dgrid/Selection dstore/Memory dstore/Trackable dojo/text!./templates/MergeConceptDialog.html".split(" "),function(b,g,h,k,l,f,w,m,n,p,q,r,s,t,u,v){return b([k,g,h],{templateString:v,parentNode:null,baseClass:"merge-concept-dialog",
title:"Merge concept or collection",scheme:null,concept:null,conceptSchemeController:null,_mergeGrid:null,_mergeStore:null,postCreate:function(){this.inherited(arguments);this.trackableMemory=b([t,u]);this._mergeStore=new this.trackableMemory({data:[]});this._mergeGrid=this._createGrid({collection:this._mergeStore},this.mergeConceptGridNode)},startup:function(){this.inherited(arguments);this._mergeGrid.startup()},hide:function(){this.inherited(arguments)},_createGrid:function(a,c){var d=new (b([p,
q,r,s]))({collection:a.collection,columns:{label:{label:""},type:{label:"",formatter:function(a){return a+" match"}},link:{label:"",renderCell:function(a){if(a&&a.uri)return n.create("a",{href:a.uri,target:"_blank",title:a.uri,innerHTML:'\x3ci class\x3d"fa fa-external-link"\x3e\x3c/i\x3e'})}}},selectionMode:"single",showHeader:!1,noDataMessage:"",loadingMessage:"Fetching data.."},c);d.on("dgrid-error",function(a){});return d},_okClick:function(a){a.preventDefault();for(var c in this._mergeGrid.selection)this._mergeGrid.selection[c]&&
(selected=this._mergeStore.getSync(c));selected&&(this.emit("concept.merge",{conceptUri:selected.uri,concept:this.concept,schemeId:this.scheme}),this.hide())},show:function(a,c){this.inherited(arguments);this.loadingMatchesContainer.style.display="inline-block";this.mergeGridContainer.style.display="none";this.concept=a;this.scheme=c;var d=[],b=[];if(a.matches)for(var e in a.matches)a.matches.hasOwnProperty(e)&&l.forEach(a.matches[e],function(a){d.push(this.conceptSchemeController.getMatch(a,e).then(f.hitch(this,
function(a){b.push({id:a.data.id,label:a.data.label,uri:a.data.uri,type:a.type})})))},this);m(d).then(f.hitch(this,function(){this._mergeStore.setData(b);this._mergeGrid.refresh();this.loadingMatchesContainer.style.display="none";this.mergeGridContainer.style.display="inline-block"}))},_cancelClick:function(a){a.preventDefault();this.hide()}})});
//# sourceMappingURL=MergeConceptDialog.js.map